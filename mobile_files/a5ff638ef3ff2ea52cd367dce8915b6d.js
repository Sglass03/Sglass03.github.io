(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{1413:function(e,t,n){e.exports={checkboxes:"_3kV9W6",commentsInput:"_27spcm",contactInfo:"_5iVnow",label:"TBkpka",error:"jD5TPx",emailAddressInput:"hPJzcZ",from:"_58ji3w",editButton:"_4YUjih",firstNameInput:"Kz74kr",lastNameInput:"_2aFvng",offerPriceInput:"_5cZc1M",phoneNumberInput:"GZhveD",postalCodeInput:"_5of6LT",previewLabel:"_5PSXjV",preview:"i5jc1G",previewButton:"_3FVhDd",submitButtonWrapper:"_5VRfjg",alertInfo:"_2UJdKq"}},1415:function(e,t,n){e.exports={error:"_46Wd65",actionButtons:"_3K6KK5",cancelButton:"_37GqsB",addCommentButton:"_3W3KRs",commentsInput:"_4RVLQP",firstNameInput:"_4ZMbzT",lastNameInput:"_2SPeWQ",emailAddressInput:"yDABDL",phoneNumberInput:"_4LP3id",inline:"_2GpDxH",postalCodeInput:"_3YMV36",intllonger:"_5ZXd8u",submitButtonWrapper:"_49ZJRw",subscribeInputLabel:"_5qLooa",subscribeInput:"_65uyTW"}},2023:function(e,t,n){"use strict";n.r(t),n.d(t,"mapStateToProps",(function(){return vt}));var a=n(8),r=n(79),i=n(433),o=n(54),l=n(72),s=n(0),c=n.n(s),u=n(7),m=n.n(u),d=n(2),f=n(30),p=n(2034),b=n(1535),h=n(66),y=n(151),g=n(629),v=n(12),E=n(17),O=n(16),j=n(1306),S=n(942),C=n(955),I=n(324),_=n(558),N=n(11),T=n(1),w=n.n(T),P=n(129),R=n(133),A=n(280),k=n(365),D=n(22),L=n(153),x=n(5),F=n(18),M=n(1330),q=n(416),V=n(398),B=n(660),U=n(949),W=n(120),H=n(366);function z(){return(z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var G=function(e){return c.a.createElement(L.Field,{name:e.name},(function(t){var n=t.field.value,a=t.form.setFieldValue;return(c.a.createElement(P.a,z({type:"checkbox"},e,{id:e.value,checked:n.includes(e.value),onClick:function(){a(e.name,n.includes(e.value)?n.filter((function(t){return t!==e.value})):n.concat(e.value))}})))}))};G.propTypes={name:w.a.string.isRequired,value:w.a.string.isRequired};var K=G,Y=n(1413),Q=n.n(Y);var Z=function(e){var t,n,a,r=e.offerPrice,i=e.errors,o=e.touched;return(c.a.createElement("div",{className:Q.a.checkboxes,role:"group"},c.a.createElement(K,{"aria-label":"I’d like to offer $".concat(r," for this vehicle."),name:"cannedMessages",value:"includeOffer",labelText:c.a.createElement(s.Fragment,null,"I’d like to offer $"," ",c.a.createElement(L.Field,{"aria-label":"Offer price",className:m()(Q.a.offerPriceInput,(t={},n=Q.a.error,a=i.requireOfferPrice&&o.offerPrice,n in t?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a,t)),max:"500000",min:"1",name:"offerPrice",size:"7",type:"number"})," ","for this vehicle.")}),c.a.createElement(K,{name:"cannedMessages",value:"stillAvailable",labelText:"Is this vehicle still available?"}),c.a.createElement(K,{name:"cannedMessages",value:"testDrive",labelText:"I’d like to see and test drive the car. When are you available to meet?"}),c.a.createElement(K,{name:"cannedMessages",value:"morePictures",labelText:"Can you share more pictures?"})))};Z.propTypes={offerPrice:w.a.oneOfType([w.a.number,w.a.string]),errors:w.a.shape({}).isRequired,touched:w.a.shape({}).isRequired},Z.defaultProps={offerPrice:0};var J=Z,X=n(671),$=n(249),ee=n(954),te=n(73),ne=n(6),ae=ne.d.getEnvVariable(ne.d.EnvVariable.COUNTRY_CODE)||"US",re=Object(te.f)(ae),ie=Object(te.g)(ae),oe=(re.htmlPattern,Object(d.a)("listings.detail.contact.form.reach_me.placeholder.phone_number_optional",re.placeholder)),le=ie.maxInputLength,se=n(675);function ce(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ue=function(e){var t=e.formik,n=e.handleEditClick,a=e.canShowShortForm,r=e.isEditMode,i=e.useAnonymousContactEmail,o=e.errors,l=e.touched,s=r?L.Field:se.a,u=r?"label":"div",f=t.initialValues,p=t.values,b=r||!f.phoneNumber?L.Field:se.a,h=!f.firstName||!f.lastName||!f.emailAddress,y=r||h;return c.a.createElement("div",{className:Q.a.contactInfo},(!r||h)&&c.a.createElement(u,{className:Q.a.from},c.a.createElement("span",null,"From: ",c.a.createElement("span",{className:Q.a.firstNameInput},p.firstName)),a&&!r&&c.a.createElement($.a,{className:Q.a.editButton,icon:X.faEdit,onClick:n},"Edit contact info")),y&&c.a.createElement("div",{className:m()(ce({},Q.a.label,r))},"Name:"," ",c.a.createElement(s,{"aria-label":Object(d.a)("listings.detail.contact.form.input.first_name"),autoComplete:"given-name",className:m()(Q.a.firstNameInput,ce({},Q.a.error,o.firstName&&l.firstName)),maxLength:"50",name:"firstName",placeholder:Object(d.a)("listings.detail.contact.form.input.first_name"),type:"text"})," ",c.a.createElement(s,{"aria-label":Object(d.a)("listings.detail.contact.form.input.last_name"),autoComplete:"family-name",className:m()(Q.a.lastNameInput,ce({},Q.a.error,o.lastName&&l.lastName)),maxLength:"50",name:"lastName",placeholder:Object(d.a)("listings.detail.contact.form.input.last_name"),type:"text"})),y&&c.a.createElement(u,null,"Zip Code:"," ",c.a.createElement(s,{autoComplete:"postal-code",className:m()(Q.a.postalCodeInput,ce({},Q.a.error,o.postalCode&&l.postalCode)),name:"postalCode",type:"text"})),y&&c.a.createElement(u,null,"Email:"," ",c.a.createElement(s,{autoCapitalize:"none",autoComplete:"email",autoCorrect:"off",className:Q.a.emailAddressInput,maxLength:"200",name:"emailAddress",placeholder:Object(d.a)("listings.detail.contact.form.input.email"),type:"text"}),i&&c.a.createElement(ee.a,{isPrivateSeller:!0})),(y||!f.phoneNumber)&&c.a.createElement(u,{className:Q.a.label},"Get text alerts:"," ",c.a.createElement(b,{autoComplete:"tel",className:m()(Q.a.phoneNumberInput,ce({},Q.a.error,o.phoneNumber&&l.phoneNumber)),maxLength:"16",name:"phoneNumber",placeholder:oe,type:"tel"})),c.a.createElement("p",{className:Q.a.alertInfo},"We’ll forward alerts through email and SMS without sharing your contact info."))};ue.propTypes={isEditMode:w.a.bool.isRequired,useAnonymousContactEmail:w.a.bool.isRequired,canShowShortForm:w.a.bool.isRequired,handleEditClick:w.a.func.isRequired,formik:w.a.shape({values:w.a.shape({firstName:w.a.string})}).isRequired,errors:w.a.shape({}).isRequired,touched:w.a.shape({}).isRequired};var me=Object(L.connect)(ue),de=function(e){var t=e.formik.values,n=e.onChange,a=Object(s.useRef)(!1);return Object(s.useLayoutEffect)((function(){a.current?n(t):a.current=!0}),[n,t]),null};de.propTypes={onChange:w.a.func.isRequired,formik:w.a.shape({values:w.a.shape({})}).isRequired};var fe=Object(L.connect)(de),pe=n(1283),be=n.n(pe);function he(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(a=(o=l.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){r=!0,i=e}finally{try{a||null==l.return||l.return()}finally{if(r)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ye(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ye(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ye(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var ge=function(e){var t=e.ariaLabelledBy,n=e.canShowShortForm,a=e.className,r=e.hideSubscriptionCheckbox,i=e.initialValues,o=e.onSubmit,l=e.useAnonymousContactEmail,u=e.dismissAlert,f=he(Object(B.a)(!n),2),p=f[0],b=f[1],h=he(Object(B.a)(!1),2),y=h[0],g=h[1],E=he(Object(B.a)(!1),4),O=E[0],j=E[1],S=E[3],C=Object(s.useCallback)((function(){b(),Object(D.trackUiUsage)({uiElement:p?"SHORTY_STATIC_MODE":"SHORTY_EDIT_MODE"})}),[p,b]),I=Object(s.useCallback)((function(e){!O||e.cannedMessages.length||e.comments.trim().length||S()}),[O,S]),_=Object(s.useCallback)((function(e,t){var n=t.setStatus,a=t.setSubmitting,r=function(){return a(!1)};o(e,n).then(r,r),document&&document.activeElement&&document.activeElement.blur()}),[o]),N=he(Object(s.useState)({submitErrorAlertId:Object(A.a)()}),2),T=N[0],w=N[1],z=function(){T.submitErrorAlertId&&(u(T.submitErrorAlertId),w({submitErrorAlertId:null}))},G=function(){z(T.submitErrorAlertId)},K=function(e){var t=e.validateForm,n=e.setStatus;return function(){Object(D.trackUiUsage)({uiElement:"ContactDealerFormInlineSubmitClick"}),z(),t().then((function(e){e.isCanceled||e&&Object(k.a)(e).length>0&&(n({msg:Object(H.b)(e)}),Object(D.trackUiUsage)({uiElement:"ContactDealerFormSubmitError",errorTracking:Object(H.c)(e)}))}))}};return Object(s.useEffect)((function(){Object(D.trackUiUsage)({uiElement:"ContactDealerFormVisible",isEditMode:p,isPrivateSeller:!0,useAnonymousContactEmail:l})}),[]),c.a.createElement(L.Formik,{initialValues:i,onSubmit:_,validate:H.e},(function(e){var o=e.isSubmitting,s=e.setStatus,u=e.status,f=e.validateForm,b=e.values,h=b.cannedMessages,E=b.comments,S=b.offerPrice,_=e.errors,N=e.touched,T=!i.firstName||!i.lastName||!i.emailAddress,B=c.a.createElement(me,{isEditMode:p,useAnonymousContactEmail:l,canShowShortForm:n,handleEditClick:C,errors:_,touched:N});return c.a.createElement(L.Form,{"aria-labelledby":t,className:m()(be.a.madlibForm,a),onChange:G},function(e){var t=e.status,n=e.setStatus;if(t&&Object(k.a)(t).length>0){var a=Object(A.a)(),r={message:t.msg,type:W.a,dismissible:!0,id:a};return c.a.createElement(U.a,{alert:r,onDisplayed:function(){n({}),w({submitErrorAlertId:a})}})}return null}({status:u,setStatus:s}),T&&B,c.a.createElement(J,{offerPrice:S,errors:_,touched:N}),!O&&!y&&c.a.createElement(V.a,{onClick:function(){g(),Object(D.trackUiUsage)({uiElement:"ADD_COMMENTS_TOGGLE_CLICKED",uiObject:"OPEN_FROM_CONTACT_FORM"})}},"Add comments"),O&&c.a.createElement("p",{className:Q.a.preview},c.a.createElement("span",{className:Q.a.previewLabel},"Message preview:")," ",Object(q.a)(E,new x.Set(h),S)),!O&&y&&c.a.createElement(L.Field,{"aria-label":Object(d.a)("listings.detail.contact.form.input.comments"),className:Q.a.commentsInput,component:"textarea",name:"comments",placeholder:"Add a custom message (optional)"}),!(!h.length&&!E.trim().length)&&c.a.createElement(V.a,{className:Q.a.previewButton,onClick:j},O?"Close preview":"Preview message"),!T&&B,!r&&Object(v.b)("f:listings.contactDealer.EmailPriceDrops.desktop")&&c.a.createElement(L.Field,{name:"subscribeInContactForm"},(function(e){var t=e.field.value,n=e.form.setFieldValue;return(c.a.createElement(P.a,{type:"checkbox",id:"subscribeInContactForm",checked:t,onClick:function(){n("subscribeInContactForm",!t)},labelText:"Email price drops and new listings for my search"}))})),c.a.createElement("div",{className:Q.a.submitButtonWrapper},c.a.createElement(R.a,{disabled:o,fullWidth:!0,onClick:K({validateForm:f,setStatus:s}),size:"small",type:"submit",variant:"isolated"},c.a.createElement("div",{className:be.a.iconBtn},c.a.createElement(F.FontAwesomeIcon,{icon:M.faComments}),c.a.createElement("span",null,Object(d.a)("listings.detail.contact.form.submit.mobile"))))),c.a.createElement(fe,{onChange:I}))}))};ge.propTypes={ariaLabelledBy:w.a.string.isRequired,canShowShortForm:w.a.bool.isRequired,className:w.a.string,hideSubscriptionCheckbox:w.a.bool,initialValues:w.a.shape({cannedMessages:w.a.arrayOf(w.a.string),emailAddress:w.a.string,firstName:w.a.string,inquiryType:w.a.string,lastName:w.a.string,offerPrice:w.a.number,phoneNumber:w.a.string,postalCode:w.a.string}).isRequired,onSubmit:w.a.func.isRequired,useAnonymousContactEmail:w.a.bool.isRequired,dismissAlert:w.a.func.isRequired,status:w.a.shape({}),setStatus:w.a.func},ge.defaultProps={className:void 0,hideSubscriptionCheckbox:!1,status:{},setStatus:function(){}};var ve=ge,Ee=n(635),Oe=n.n(Ee),je=n(272),Se=n(3),Ce=n(10),Ie=n(1128),_e=n(1125),Ne=n(191),Te=n(678),we=n(1103),Pe=n(1414),Re=n(1415),Ae=n.n(Re),ke=function(e){var t=e.canEdit,n=e.isEditMode,a=e.onToggleAddingComment,r=e.onToggleEditing,i=e.isValid;return(c.a.createElement("div",{className:Ae.a.actionButtons},t&&n&&i&&c.a.createElement($.a,{icon:Pe.faCheckCircle,onClick:r},Object(d.a)("common.done_editing")),t&&n&&!i&&c.a.createElement($.a,{icon:we.faTimesCircle,onClick:r,className:Ae.a.cancelButton},Object(d.a)("common.cancel_editing")),t&&!n&&c.a.createElement($.a,{icon:X.faEdit,onClick:r},Object(d.a)("common.edit")),c.a.createElement(V.a,{className:Ae.a.addCommentButton,onClick:a},Object(d.a)("mobile.listings.detail.contact.form.personal_message"))))};ke.propTypes={canEdit:w.a.bool.isRequired,isEditMode:w.a.bool.isRequired,onToggleAddingComment:w.a.func.isRequired,onToggleEditing:w.a.func.isRequired,isValid:w.a.bool.isRequired};var De=ke,Le=n(1124);function xe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Fe=Object(Le.a)(),Me=["en_GB","en_CA","fr_CA"],qe=function(e){13===e.which&&document&&document.activeElement&&document.activeElement.blur()},Ve=function(e){var t,n=e.financingPrequalStatus,a=e.isEditable,r=e.useAnonymousContactEmail,i=e.vehicleEntityName,o=e.errors,l=e.touched,s=a?L.Field:se.a,u=m()(Ae.a.postalCodeInput,(xe(t={},Ae.a.intllonger,Me.includes(ne.d.getEnvVariable(ne.d.EnvVariable.LOCALE_ID))),xe(t,Ae.a.error,o.postalCode&&l.postalCode),t));return c.a.createElement(Fe,{emailInput:c.a.createElement(s,{"aria-label":Object(d.a)("listings.detail.contact.form.input.email"),autoCapitalize:"none",autoComplete:"email",autoCorrect:"off",className:m()(Ae.a.emailAddressInput,xe({},Ae.a.error,o.emailAddress&&l.emailAddress)),maxLength:200,name:"emailAddress",placeholder:Object(d.a)("listings.detail.contact.form.input.email"),type:"email",onKeyUp:qe,"data-cg-ft":a?"lead-form-email":"lead-form-readonly-email"}),financingPrequalStatus:n,firstNameInput:c.a.createElement(s,{"aria-label":Object(d.a)("listings.detail.contact.form.input.first_name"),autoComplete:"given-name",className:m()(Ae.a.firstNameInput,xe({},Ae.a.error,o.firstName&&l.firstName)),key:"firstName",maxLength:"50",name:"firstName",placeholder:Object(d.a)("listings.detail.contact.form.input.first_name"),type:"text",onKeyUp:qe,"data-cg-ft":a?"lead-form-first-name":"lead-form-readonly-first-name"}),inquiryTypeInput:null,lastNameInput:c.a.createElement(s,{"aria-label":Object(d.a)("listings.detail.contact.form.input.last_name"),autoComplete:"family-name",className:m()(Ae.a.lastNameInput,xe({},Ae.a.error,o.lastName&&l.lastName)),key:"lastName",maxLength:"50",name:"lastName",placeholder:Object(d.a)("listings.detail.contact.form.input.last_name"),type:"text",onKeyUp:qe,"data-cg-ft":a?"lead-form-last-name":"lead-form-readonly-last-name"}),phoneInput:c.a.createElement(s,{"aria-label":Object(d.a)("listings.detail.contact.form.input.phone"),autoComplete:"tel",className:m()(Ae.a.phoneNumberInput,xe({},Ae.a.error,o.phoneNumber&&l.phoneNumber)),maxLength:16,name:"phoneNumber",placeholder:oe,type:"tel",onKeyUp:qe,"data-cg-ft":a?"lead-form-phone":"lead-form-readonly-phone"}),postalCodeInput:c.a.createElement(s,{"aria-label":Object(d.a)("listings.detail.contact.form.input.zip"),autoComplete:"postal-code",className:u,maxLength:le,name:"postalCode",placeholder:Object(d.a)("listings.detail.contact.form.input.zip"),size:le,type:"text",onKeyUp:qe,"data-cg-ft":a?"lead-form-postal-code":"lead-form-readonly-postal-code"}),useAnonymousContactEmail:r,vehicleEntityName:i})};Ve.propTypes={financingPrequalStatus:w.a.element,isEditable:w.a.bool.isRequired,useAnonymousContactEmail:w.a.bool.isRequired,vehicleEntityName:w.a.string.isRequired,errors:w.a.shape({}).isRequired,touched:w.a.shape({}).isRequired},Ve.defaultProps={financingPrequalStatus:void 0};var Be,Ue=Ve,We=n(1104);function He(e){return(He="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ze(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Ge(e,t){return(Ge=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ke(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=Ze(e);if(t){var r=Ze(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Ye(this,n)}}function Ye(e,t){return!t||"object"!==He(t)&&"function"!=typeof t?Qe(e):t}function Qe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ze(e){return(Ze=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Je=null===(Be=Object(Ce.getWindow)())||void 0===Be?void 0:Be.IntersectionObserver,Xe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ge(e,t)}(i,e);var t,n,a,r=Ke(i);function i(e){var t,n,a,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),t=r.call(this,e),n=Qe(t),o=function(e){var n=e.validateForm,a=e.setStatus;return function(){Object(D.trackUiUsage)({uiElement:"ContactDealerFormInlineSubmitClick"}),t.dismissValidationErrorAlert(),n().then((function(e){if(e&&Object(k.a)(e).length>0){if(e.isCanceled)return;a({msg:Object(H.b)(e)}),Object(D.trackUiUsage)({uiElement:"ContactDealerFormSubmitError",errorTracking:Object(H.c)(e)})}}))}},(a="handleSubmitClick")in n?Object.defineProperty(n,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[a]=o,t.state={isEditMode:!e.canShowShortForm,showCommentsInput:!1,submitErrorAlertId:Object(A.a)(),hasReportedView:!1},t.handleCommentClick=t.handleCommentClick.bind(Qe(t)),t.onFormSubmit=t.onFormSubmit.bind(Qe(t)),t.onFormChange=t.onFormChange.bind(Qe(t)),t.handleEditClick=t.handleEditClick.bind(Qe(t)),t.handleSubmitClick=Oe()(t.handleSubmitClick).bind(Qe(t)),t.submitButtonRef=c.a.createRef(),t.observerCallback=t.observerCallback.bind(Qe(t)),t}return t=i,(n=[{key:"componentDidMount",value:function(){var e=this.props.useAnonymousContactEmail,t=this.state.isEditMode;Object(D.trackUiUsage)({uiElement:"ContactDealerFormVisible",isEditMode:t,isPrivateSeller:!1,useAnonymousContactEmail:e}),Je&&(this.observer=new IntersectionObserver(this.observerCallback,{threshold:.5}),this.observer.observe(this.submitButtonRef.current))}},{key:"componentWillUnmount",value:function(){Je&&this.observer.disconnect()}},{key:"onFormSubmit",value:function(e,t){var n=t.setStatus,a=t.setSubmitting,r=this.props,i=r.onSubmit,o=r.onQuoteFormSubmit,l=r.location,s=function(){return a(!1)};(null==l?void 0:l.pathname)===f.a.GET_A_QUOTE_PATH?o(e):i(e,n).then(s,s),document&&document.activeElement&&document.activeElement.blur()}},{key:"onFormChange",value:function(){this.dismissValidationErrorAlert()}},{key:"observerCallback",value:function(e){var t=this;e.forEach((function(e){!t.state.hasReportedView&&(e.isIntersecting||e.intersectionRatio>.5)&&(Object(D.trackUiUsage)({uiElement:"VDP_CONTACT_FORM_VIEWED"}),t.setState({hasReportedView:!0}))}))}},{key:"handleCommentClick",value:function(){Object(D.trackUiUsage)({uiElement:"ADD_COMMENTS_TOGGLE_CLICKED",uiObject:"OPEN_FROM_CONTACT_FORM"}),this.setState((function(e){return{showCommentsInput:!e.showCommentsInput}}))}},{key:"handleEditClick",value:function(e){var t=this,n=e.handleReset;e.isValid||n(),this.setState((function(e){return{isEditMode:!e.isEditMode}}),(function(){Object(D.trackUiUsage)({uiElement:t.state.isEditMode?"SHORTY_EDIT_MODE":"SHORTY_STATIC_MODE"})}))}},{key:"dismissValidationErrorAlert",value:function(){this.state.submitErrorAlertId&&(this.props.dismissAlert(this.state.submitErrorAlertId),this.setState({submitErrorAlertId:null}))}},{key:"isInitialValid",value:function(e){var t=Object(H.d)(e);return!(!t||Object.keys(t).length>0)}},{key:"renderWindowAlert",value:function(e){var t=this,n=e.status,a=e.setStatus;if(n&&Object(k.a)(n).length>0){var r=Object(A.a)(),i={message:n.msg,type:W.a,dismissible:!0,id:r};return c.a.createElement(U.a,{alert:i,onDisplayed:function(){a({}),t.setState({submitErrorAlertId:r})}})}return null}},{key:"render",value:function(){var e=this,t=this.props,n=t.ariaLabelledBy,a=t.canShowShortForm,r=t.connected,i=t.hideSubscriptionCheckbox,o=t.initialValues,l=t.inventoryListingId,s=t.showManagedLeadDelivery,u=t.useAnonymousContactEmail,f=t.vehicleCondition,p=t.vehicleEntityName,b=t.withMessaging,h=t.isBasicDealer,y=this.state,g=y.isEditMode,E=y.showCommentsInput;return c.a.createElement(L.Formik,{enableReinitialize:!0,initialValues:o,isInitialValid:function(){return e.isInitialValid(o)},onSubmit:this.onFormSubmit,validate:H.d},(function(t){var o=t.setStatus,y=t.status,O=t.validateForm,j=t.errors,S=t.touched,C=t.handleReset,I=t.isValid;return(c.a.createElement(L.Form,{className:m()(be.a.madlibForm),"aria-labelledby":n,onChange:e.onFormChange,noValidate:!0,"data-cg-ft":"vdp-lead-form"},e.renderWindowAlert({status:y,setStatus:o}),c.a.createElement(Ue,{financingPrequalStatus:r?c.a.createElement(Ie.a,null):void 0,isEditable:!a||g,useAnonymousContactEmail:u,vehicleCondition:f,vehicleEntityName:p,errors:j,touched:S}),c.a.createElement(De,{canEdit:a,isValid:I,errors:j,isEditMode:g,onToggleAddingComment:e.handleCommentClick,onToggleEditing:function(){e.handleEditClick({handleReset:C,isValid:I})}}),c.a.createElement(Te.a,{show:E},c.a.createElement(L.Field,{"aria-label":Object(d.a)("listings.detail.contact.form.input.comments"),className:Ae.a.commentsInput,component:"textarea",name:"comments",placeholder:Object(d.a)("common.form.default.comments"),tabIndex:E?0:-1})),r&&c.a.createElement(_e.a,{inventoryListingId:l,visible:g}),!i&&Object(v.b)("f:listings.contactDealer.EmailPriceDrops.desktop")&&c.a.createElement(L.Field,{name:"subscribeInContactForm"},(function(e){var t=e.field.value,n=e.form.setFieldValue;return(c.a.createElement(P.a,{type:"checkbox",id:"subscribeInContactForm",checked:t,onClick:function(){Object(D.trackUiUsage)({uiElement:"EMAIL_SUB_OPT_OUT_CLICKED",uiObject:"PRE_CLICK_VALUE_".concat(t)}),n("subscribeInContactForm",!t)},labelText:Object(v.b)("f:common.optedInSubDefault")?Object(d.a)("listings.detail.contact.form.newsletter.opt_in_message2"):Object(d.a)("listings.detail.contact.form.newsletter.opt_in_message")}))})),b&&s&&c.a.createElement(We.a,{customClass:Ae.a.callout,text:Object(d.a)("listings.managed_lead_delivery_message")}),h&&Object(Se.isInCountry)("UK")&&c.a.createElement(We.a,{text:Object(d.a)("listings.national_lockdown_message")}),c.a.createElement("div",{className:Ae.a.submitButtonWrapper,ref:e.submitButtonRef},c.a.createElement(R.a,{onClick:e.handleSubmitClick({validateForm:O,setStatus:o}),"data-cg-ft":"contact-form-submit",variant:"isolated",fullWidth:!0},c.a.createElement("div",{className:be.a.iconBtn},c.a.createElement(F.FontAwesomeIcon,{icon:je.faEnvelope}),c.a.createElement("span",null,s?Object(d.a)("listings.contact_form.notify_me"):Object(d.a)("listings.detail.contact.form.submit.mobile")))),Object(Ne.d)()&&u&&!s&&c.a.createElement("span",null,Object(d.a)("listings.detail.contact.form.anonymized_email")))))}))}}])&&ze(t.prototype,n),a&&ze(t,a),i}(s.Component);Xe.propTypes={ariaLabelledBy:w.a.string.isRequired,canShowShortForm:w.a.bool.isRequired,connected:w.a.bool,dismissAlert:w.a.func.isRequired,hideSubscriptionCheckbox:w.a.bool,initialValues:w.a.shape({emailAddress:w.a.string,firstName:w.a.string,inquiryType:w.a.string,lastName:w.a.string,phoneNumber:w.a.string,postalCode:w.a.string}).isRequired,inventoryListingId:w.a.number.isRequired,onSubmit:w.a.func.isRequired,useAnonymousContactEmail:w.a.bool.isRequired,vehicleCondition:w.a.oneOf(Object.values(O.n)).isRequired,vehicleEntityName:w.a.string.isRequired,showManagedLeadDelivery:w.a.bool,withMessaging:w.a.bool,isBasicDealer:w.a.bool},Xe.defaultProps={connected:!1,hideSubscriptionCheckbox:!1,showManagedLeadDelivery:!1,withMessaging:!1,isBasicDealer:!1};var $e=Xe;function et(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var tt=function(e){var t=e.isPrivateSeller,n=et(e,["isPrivateSeller"]);return t?c.a.createElement(ve,n):c.a.createElement($e,n)};tt.propTypes={isPrivateSeller:w.a.bool.isRequired};var nt=tt,at=n(119),rt=n(23),it=n(78),ot=n(530);function lt(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function st(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ct(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?st(Object(n),!0).forEach((function(t){ut(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):st(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ut(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var mt={sendPurchaseRequest:j.d,subscribe:S.d,dismissAlert:at.b,getAQuote:j.a},dt=Object(h.compose)(r.withRouter,Object(a.connect)((function(e,t){var n,a,r,i,s=Object(_.e)(e),c=Object(y.a)(e).applicant,u=Object(l.a)(e),m=u.get("isNonPayingDealer"),d=u.get("salesStatus"),f=Object(g.a)(e),p=!m&&f.length&&c,b=(null==t?void 0:t.srpListing)||Object(o.c)(e),h=(null==t?void 0:t.srpListing)?(null===(n=t.srpListing)||void 0===n?void 0:n.sellerType)===it.a.PRIVATE:Object(l.e)(e),j=Object(C.a)(b.vehicleCondition).defaultMessage,S=b.vehicleCondition;(null==t?void 0:t.srpListing)&&((null===(a=t.srpListing)||void 0===a?void 0:a.isOEM)||(null===(r=t.srpListing)||void 0===r?void 0:r.isOEMCPO)?S=O.n.CERTIFIED_PRE_OWNED:(null===(i=t.srpListing)||void 0===i?void 0:i.isNew)&&(S=O.n.NEW),S=O.n.USED);return{canShowShortForm:Object(_.a)(e),hideSubscriptionCheckbox:e.getIn(["search","config","hideSaveSearch"]),initialValues:ct(ct({comments:"",emailAddress:s.emailAddress||(null==p?void 0:p.email)||"",firstName:s.firstName||(null==p?void 0:p.firstName)||"",inquiryType:j,lastName:s.lastName||(null==p?void 0:p.lastName)||"",phoneNumber:s.phoneNumber||(null==p?void 0:p.phone)||"",postalCode:s.postalCode||(null==p?void 0:p.zip)||"",subscribeInContactForm:(Object(v.b)("f:common.optedInSubDefault")||Object(E.a)("EMAIL_OPT_OUT_V2"))&&!Object(N.u)(e)},h&&{cannedMessages:[],offerPrice:b.price}),{},{featuredType:Object(rt.j)(e)}),inventoryListingId:b.id,useAnonymousContactEmail:b.useAnonymousContactEmail||!1,vehicleEntityName:b.listingTitle||b.vehicleEntityName,isBasicDealer:d===ot.a.AVAILABLE,isPrivateSeller:h,vehicleCondition:S}}),mt,(function(e,t,n){var a=t.sendPurchaseRequest,r=t.getAQuote,i=t.subscribe,o=t.dismissAlert,l=n.history,s=(n.match,n.setIsSubmitting),c=lt(n,["history","match","setIsSubmitting"]),u=(e.filterValues,e.search,e.inventoryListingId);return ct(ct(ct({},lt(e,["filterValues","search","inventoryListingId"])),c),{},{onSubmit:function(e,t){return s(!0),a({inventoryListingId:u,body:e,history:l,srpListing:null==c?void 0:c.srpListing,pagePosition:null==c?void 0:c.pagePosition}).then((function(){return(null==c?void 0:c.handleOnClose)&&c.handleOnClose(),e.subscribeInContactForm?i({email:e.emailAddress,subscriptionSource:I.b}):null})).catch((function(e){if("SavedSearchResponseError"!==e.name){var n="ActionError"===e.name?e.message:Object(d.a)("listings.used.lead.error.header");t({msg:n})}s(!1)}))},onQuoteFormSubmit:function(e){var t;return s(!0),r({inventoryListingId:u,body:e,history:l,srpListing:null==c?void 0:c.srpListing,serviceProviderId:null==c||null===(t=c.srpListing)||void 0===t?void 0:t.serviceProviderId})},dismissAlert:o,inventoryListingId:u})})))(nt),ft=n(1329),pt=n.n(ft);function bt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(a=(o=l.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){r=!0,i=e}finally{try{a||null==l.return||l.return()}finally{if(r)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ht(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ht(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ht(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var yt=function(e){var t=e.headingIdSuffix,n=void 0===t?"":t,a=e.showManagedLeadDelivery,r=e.isPrivateSeller,i=void 0!==r&&r,o=e.withMessaging,l=void 0!==o&&o,u=e.formCollapsed,h=void 0!==u&&u,y=e.toggleForm,g=e.setContactFormNode,v=e.srpListing,E=e.pagePosition,O=e.handleOnClose,j=e.location,S=bt(Object(s.useState)(!1),2),C=S[0],I=S[1],_="".concat("contactSellerFormHeading").concat(n),N="listingSearchContactForm-waiid";return c.a.createElement(s.Fragment,null,C&&c.a.createElement("div",{className:m()(pt.a.listingSearchContactForm,(null==j?void 0:j.pathname)!==f.a.GET_A_QUOTE_PATH&&pt.a.withBorder)},c.a.createElement("div",{className:m()(pt.a.loading,pt.a.asButton)},c.a.createElement("span",null,a?Object(d.a)("common.loading"):Object(d.a)("listings.detail.contact.form.contacting_dealer_message")),c.a.createElement("br",null),c.a.createElement("img",{alt:"loading",src:"/gfx/loading.gif"}))),c.a.createElement("div",{className:m()(pt.a.listingSearchContactForm,(null==j?void 0:j.pathname)!==f.a.GET_A_QUOTE_PATH&&pt.a.withBorder,h&&pt.a.collapsed,C&&pt.a.hiddenForm),"data-cg-ft":"vdp-contact-form",ref:g,"aria-hidden":C},(null==j?void 0:j.pathname)!==f.a.GET_A_QUOTE_PATH&&c.a.createElement(p.a,{asButton:!v,ariaId:N,asModalHeader:!1,isPrivateSeller:i,showAvatar:i,isFromSrp:!!v,toggleForm:y,isCollapsed:h,srpOverrides:v}),c.a.createElement("div",{className:m()(pt.a.formWrap,pt.a.collapsible),"aria-hidden":h,id:N},c.a.createElement(dt,{ariaLabelledBy:_,connected:!0,setIsSubmitting:I,showManagedLeadDelivery:a,withMessaging:l,srpListing:v,handleOnClose:O,pagePosition:E,location:j}),c.a.createElement(b.a,{className:pt.a.disclaimer}))))},gt=n(666),vt=function(e,t){var n=(null==t?void 0:t.srpListing)||Object(o.c)(e),a=Object(l.a)(e),r=e.getIn(["app","managedLeadDelivery"])||!1;return{contacted:Object(i.a)(e,n.get("id")),contactedDate:n.get("contactedDate"),isPrivateSeller:(null==t?void 0:t.srpListing)?t.srpListing.sellerType===it.a.PRIVATE:Object(l.e)(e),showManagedLeadDelivery:!!a&&Object(gt.a)(a.isManagedLeadDelivery,r)}};t.default=Object(r.withRouter)(Object(a.connect)(vt)(yt))},366:function(e,t,n){"use strict";n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return m})),n.d(t,"c",(function(){return d}));var a=n(5),r=n(2),i=n(365),o=n(364),l=n(217),s=function(e,t){var n=e;a.Map.isMap(e)&&((n=e.toJS()).emailAddress=n.email,delete n.email);var r=n,i=r.emailAddress,o=r.firstName,s=r.lastName,c=r.postalCode,u=r.phoneNumber,m=r.offerPrice,d=r.cannedMessages,f={emailAddress:l.i.predicate({emailAddress:i})||l.c.predicate({emailAddress:i}),firstName:l.d.predicate({firstName:o,lastName:s})||l.e.predicate({firstName:o,lastName:s})||l.j.predicate({firstName:o}),lastName:l.f.predicate({firstName:o,lastName:s})||l.e.predicate({firstName:o,lastName:s})||l.k.predicate({lastName:s}),postalCode:l.m.predicate({postalCode:c})||l.h.predicate({postalCode:c}),phoneNumber:l.l.predicate({phoneNumber:u})};return t&&t.isPrivateSeller&&(f.requireOfferPrice=l.g.predicate({offerPrice:m,cannedMessages:d},{isPrivateSeller:t.isPrivateSeller})),Object.keys(f).forEach((function(e){f[e]||delete f[e]})),f},c=function(e){return s(e,{isPrivateSeller:!0})},u=function(e){var t=Object(i.a)(e).map((function(e){return l.a[e].error}));return"".concat(Object(r.a)("listing.lead.submit.validation.header"),":\n\n").concat(Object(o.a)(t).join("\n"))},m=function(e){var t=Object(i.a)(e).map((function(e){return"<li>".concat(l.a[e].error,"</li>")})),n=t.length>1?Object(r.a)("listing.lead.submit.validation.header.plural"):Object(r.a)("listing.lead.submit.validation.header.singular");return"<b>".concat(n,"</b><ul>").concat(Object(o.a)(t).join(""),"</ul>")},d=function(e){var t=Object(i.a)(e).map((function(e){return l.a[e].uiUsageError}));return Object(o.a)(t).join(",")}},382:function(e,t,n){e.exports={container:"_5giXsd",entered:"_5YUWXS",wrapper:"_2LMv9T",wrapperInner:"_3jW2QL"}},660:function(e,t,n){"use strict";var a=n(0);function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(a=(o=l.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){r=!0,i=e}finally{try{a||null==l.return||l.return()}finally{if(r)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}t.a=function(e){var t=r(Object(a.useState)(e),2),n=t[0],i=t[1];return[n,Object(a.useCallback)((function(e){return i("boolean"==typeof e?e:function(e){return!e})}),[i]),Object(a.useCallback)((function(){return i(!0)}),[i]),Object(a.useCallback)((function(){return i(!1)}),[i])]}},675:function(e,t,n){"use strict";var a=n(2),r=n(7),i=n.n(r),o=n(153),l=n(1),s=n.n(l),c=n(0),u=n.n(c),m=n(984),d=n.n(m);function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=function(e){var t=e.className,n=e.name,r=e["data-cg-ft"];return(u.a.createElement(o.Field,{name:n},(function(e){var n=e.field.value,o=String(n||"").trim();return u.a.createElement("span",{className:i()(d.a.readonly,f({},d.a.empty,!o),t),"data-cg-ft":r},o||Object(a.a)("listings.detail.contact_form.static_fallback"))})))};p.propTypes={className:s.a.string,name:s.a.string.isRequired,"data-cg-ft":s.a.string.isRequired},p.defaultProps={className:void 0},t.a=p},678:function(e,t,n){"use strict";var a=n(0),r=n.n(a),i=n(7),o=n.n(i),l=n(1),s=n.n(l),c=n(415),u=n.n(c),m=n(382),d=n.n(m);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function v(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=C(e);if(t){var r=C(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return j(this,n)}}function j(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?S(e):t}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var I=function(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))},_=function(e){e.style.height="auto"},N=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(l,e);var t,n,a,i=O(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=i.call(this,e)).handleEnter=t.handleEnter.bind(S(t)),t.handleEntering=t.handleEntering.bind(S(t)),t.handleExit=t.handleExit.bind(S(t)),t.handleExiting=t.handleExiting.bind(S(t)),t.addEndListener=t.addEndListener.bind(S(t)),t}return t=l,(n=[{key:"componentWillUnmount",value:function(){clearTimeout(this.timer)}},{key:"handleEnter",value:function(e){e.style.height="0px",e.style.display=""}},{key:"handleEntering",value:function(e){var t=this.wrapperRef?this.wrapperRef.clientHeight:0,n=I(t);e.style.transitionDuration="".concat(n,"ms"),this.autoTransitionDuration=n,e.style.height="".concat(t,"px")}},{key:"handleExit",value:function(e){var t=this.wrapperRef?this.wrapperRef.clientHeight:0;e.style.height="".concat(t,"px")}},{key:"handleExiting",value:function(e){var t=this.wrapperRef?this.wrapperRef.clientHeight:0,n=I(t);e.style.transitionDuration="".concat(n,"ms"),this.autoTransitionDuration=n,e.style.height="0px"}},{key:"handleExited",value:function(e){e.style.display="none"}},{key:"addEndListener",value:function(e,t){this.timer=setTimeout(t,this.autoTransitionDuration||0)}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,a=t.className,i=t.show,l=t.style,s=g(t,["children","className","show","style"]);return r.a.createElement(u.a,p({in:i,onEnter:this.handleEnter,onEntered:_,onEntering:this.handleEntering,onExit:this.handleExit,onExiting:this.handleExiting,onExited:this.handleExited,addEndListener:this.addEndListener,timeout:null},s),(function(t,s){return r.a.createElement("div",p({"aria-hidden":!i,className:o()(d.a.container,y({},d.a.entered,"entered"===t),a),style:h(h({},l),{},{minHeight:"0px",display:"none"})},s),r.a.createElement("div",{className:d.a.wrapper,ref:function(t){e.wrapperRef=t}},r.a.createElement("div",{className:d.a.wrapperInner},n)))}))}}])&&v(t.prototype,n),a&&v(t,a),l}(r.a.Component);N.propTypes={children:s.a.node.isRequired,className:s.a.string,show:s.a.bool,style:s.a.object},N.defaultProps={className:void 0,show:!1,style:void 0},t.a=N},949:function(e,t,n){"use strict";var a=n(1),r=n.n(a),i=n(0),o=n(8),l=n(119);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=p(e);if(t){var r=p(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return f(this,n)}}function f(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(o,e);var t,n,a,i=d(o);function o(){return c(this,o),i.apply(this,arguments)}return t=o,a=[{key:"propTypes",get:function(){return{alert:r.a.shape({message:r.a.string,type:r.a.string,dismissible:r.a.bool,id:r.a.number}),addToast:r.a.func.isRequired,onDisplayed:r.a.func}}},{key:"defaultProps",get:function(){return{alert:{message:"",type:"error",dismissible:!1,id:-1},onDisplayed:function(){}}}}],(n=[{key:"componentDidMount",value:function(){var e=this.props,t=e.alert,n=e.addToast,a=e.onDisplayed;n(t),a()}},{key:"render",value:function(){return null}}])&&u(t.prototype,n),a&&u(t,a),o}(i.PureComponent);t.a=Object(o.connect)(null,(function(e){return{addToast:function(t){return e(Object(l.a)(t))}}}))(b)},954:function(e,t,n){"use strict";var a=n(1101),r=n(18),i=n(950),o=n(2),l=n(1),s=n.n(l),c=n(0),u=n.n(c),m=n(983),d=n.n(m),f=function(e){var t=e.isPrivateSeller;return(u.a.createElement(i.a,{content:u.a.createElement("span",{className:d.a.tooltipContent},t?Object(o.a)("listings.detail.contact.form.private_seller.anonymized_email"):Object(o.a)("listings.detail.contact.form.anonymized_email")),placement:"right",size:"small"},u.a.createElement(r.FontAwesomeIcon,{className:d.a.icon,icon:a.faEyeSlash})))};f.propTypes={isPrivateSeller:s.a.bool.isRequired},t.a=Object(c.memo)(f)},955:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var a=n(16),r=n(73),i=n(2),o={BEST_PRICE:Object(i.a)("listings.detail.contact.form.inquiry.type.bestprice.v2"),TEST_DRIVE:Object(i.a)("listings.detail.contact.form.inquiry.type.testdrive.v2"),INTEREST:Object(i.a)("listings.detail.contact.form.inquiry.type.interested.v2"),AVAILABILITY:Object(i.a)("listings.detail.contact.form.inquiry.type.availability.v2"),VEHICLE_HISTORY:Object(i.a)("listings.detail.contact.form.inquiry.type.vehiclehistory.generic")},l={messages:[o.BEST_PRICE,o.TEST_DRIVE,o.INTEREST,o.AVAILABILITY],defaultMessage:o.BEST_PRICE},s={messages:[o.BEST_PRICE,o.TEST_DRIVE,o.INTEREST],defaultMessage:o.INTEREST},c={messages:[o.BEST_PRICE,o.TEST_DRIVE,o.INTEREST,o.AVAILABILITY],defaultMessage:o.BEST_PRICE},u={messages:[o.BEST_PRICE,o.TEST_DRIVE,o.INTEREST,o.VEHICLE_HISTORY],defaultMessage:o.INTEREST},m={messages:[o.BEST_PRICE,o.TEST_DRIVE,o.INTEREST,o.AVAILABILITY],defaultMessage:o.BEST_PRICE},d={messages:[o.BEST_PRICE,o.TEST_DRIVE,o.INTEREST],defaultMessage:o.INTEREST};function f(e){return e===a.n.NEW?Object(r.b)({en_GB:m,en_CA:l,fr_CA:l,en_US:c,es_US:c}):Object(r.b)({en_GB:d,en_CA:s,fr_CA:s,en_US:u,es_US:u})}},983:function(e,t,n){e.exports={icon:"_41By62",tooltipContent:"FBBYVA"}},984:function(e,t,n){e.exports={readonly:"_25jvD6",empty:"_3V3VXT"}}}]);
//# sourceMappingURL=a5ff638ef3ff2ea52cd367dce8915b6d.js.map
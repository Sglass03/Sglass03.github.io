(window.webpackJsonp=window.webpackJsonp||[]).push([[84],{1071:function(e,t,n){"use strict";var r=n(405),a=n(1),i=n.n(a),o=n(0),c=n.n(o),l=n(7),s=n.n(l),u=n(529),f=n.n(u),d=n(16),p=n(594),g=n.n(p);function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}f.a.setAppElement("#".concat(d.b));var v=function(e){var t=e.customBaseClass,n=e.children,a=h(e,["customBaseClass","children"]),i=b(Object(o.useState)(null),2),l=i[0],u=i[1];return Object(o.useEffect)((function(){if(l&&a.isOpen)return Object(r.disableBodyScroll)(l),function(){return Object(r.enableBodyScroll)(l)}}),[l,a.isOpen]),c.a.createElement(f.a,m({closeTimeoutMS:300,className:{base:s()(g.a.modal,!!t&&t),afterOpen:g.a.modalAfterOpen,beforeClose:g.a.modalBeforeClose},overlayClassName:{base:g.a.overlay,afterOpen:g.a.overlayAfterOpen,beforeClose:g.a.overlayBeforeClose}},a,{contentRef:u}),n)};v.propTypes={aria:i.a.shape({labelledby:i.a.string,describedby:i.a.string}),customBaseClass:i.a.string,children:i.a.node,contentLabel:a.string,isOpen:i.a.bool,onRequestClose:i.a.func.isRequired},v.defaultProps={aria:void 0,customBaseClass:void 0,children:void 0,contentLabel:void 0,isOpen:!1,onRequestClose:void 0},t.a=v},1126:function(e,t,n){"use strict";n.d(t,"a",(function(){return T}));var r=n(0),a=n.n(r),i=n(8),o=n(33),c=n(1097),l=n(72),s=n(25),u=n(1),f=n.n(u),d=n(7),p=n.n(d),g=n(1077),m=n(175),b=n.n(m),y=n(22),h=n(78),v=n(94),O=n(30),E=n(2),w=n(333),j=n(272),S=function(e,t,n){return e?Object(E.a)("mobile.listings.detail.private_listing.contact_form.header",(null==t?void 0:t.first)||(null==t?void 0:t.screenname)):n?Object(E.a)("listings.detail.contact.button.request_info"):Object(E.a)("listings.detail.contact.form.header_request_information")},P=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t)return e?w.faComment:j.faEnvelope},k=n(986),I=n.n(k);var R=function(e){var t,n,i,o=e.hideFinancing,c=e.history,l=e.inventoryListingId,s=e.isFeatured,u=e.seller,f=e.show,d=e.source,m="".concat("footer-contact-form","-").concat(f),v="".concat("footer-contact-form","-button"),E=(null==u?void 0:u.sellerType)===h.a.PRIVATE,w=Object(r.useCallback)((function(){Object(y.trackUiUsage)({uiObject:"".concat(d,"RequestInfoSlidingFooterButton")});var e=s?Object(O.o)({inventoryListingId:l}):Object(O.n)({inventoryListingId:l});return null==c?void 0:c.push({pathname:e,state:{source:d}})}),[l,s,c,d]);return a.a.createElement("div",{className:p()(I.a.buttonWrapper,(t={},n=I.a.show,i=f,n in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,t)),"data-cg-ft":m},f&&!o&&a.a.createElement(g.a,{size:"small",sourceId:"VDP_STICKY_LAUNCHER"},(function(e){var t=e.canCheckout;return(a.a.createElement(b.a,{fullWidth:!0,variant:"isolated",onClick:w,"data-cg-ft":v,icon:P(E,t)},S(E,u,t)))})),f&&o&&a.a.createElement(b.a,{fullWidth:!0,variant:"isolated",onClick:w,"data-cg-ft":v,icon:P(E)},S(E,u,!1)))};R.propTypes={hideFinancing:f.a.bool,history:f.a.shape({push:f.a.func}),inventoryListingId:f.a.number.isRequired,isFeatured:f.a.bool,seller:f.a.instanceOf(v.a),show:f.a.bool,source:f.a.string.isRequired},R.defaultProps={hideFinancing:!1,history:void 0,isFeatured:!1,seller:void 0,show:!1};var L=R;function C(){return(C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var _=function(e){var t=Object(i.useSelector)(s.d),n=Object(i.useSelector)(l.a);return a.a.createElement(L,C({isFeatured:t,seller:n},e))},T=Object(o.withRouter)(_);t.b=Object(o.withRouter)(Object(c.a)(_))},1360:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i}));var r=n(13),a=function(e){return{type:r.a,payload:e}},i=function(){return{type:r.n}}},1460:function(e,t,n){e.exports={cargurusListingSearchP2pSellerWarningBanner:"_5r3hkZ",heading:"_4tMhU9",text:"_5FDSgJ",link:"_3gAZzP",noUnderline:"_52znun",closeBtn:"s81UyK",closeSvg:"_55mwy4",processingWrapper:"_22oczW",confirmationWrapper:"_2VPfyy",verificationIndent:"GV5bmX"}},1469:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return g})),n.d(t,"c",(function(){return m}));var r=n(47),a=n(86),i=n(30),o=n(36),c=n(25),l=n(209),s=n(16),u=n(23),f=n(584);function d(e,t){return t?Object(i.d)({inventoryListingId:e}):Object(i.e)({inventoryListingId:e})}function p(){return function(e,t){var n=t(),i=Object(o.l)(n),s=Object(o.o)(n)||Object(o.p)(n),u=Object(c.d)(n);if(i){var p=Object(o.k)(n),g=u?p:p+1;Object(f.f)(n)&&e(Object(l.g)()).then((function(){e(Object(l.c)())})),a.a.push({pathname:d(i,s),state:{passedIndex:g}})}else Object(f.f)(n)&&e(Object(l.g)()).then((function(e){a.a.push(d(e.getIn([0,"SRPListing","id"]),s))})).catch(r.a.captureException)}}function g(){return function(e,t){var n=t(),i=Object(o.m)(n),c=Object(o.s)(n),s=Object(o.r)(n)||c;if(i){var u=Object(o.k)(n),p=Math.max(u-1,-1);Object(f.g)(n)&&e(Object(l.h)()).then((function(){e(Object(l.c)())})),a.a.push({pathname:d(i,s),state:{passedIndex:p}})}else Object(f.g)(n)&&e(Object(l.h)()).then((function(e){var t=e.last().getIn(["SRPListing","id"]);a.a.push(d(t,s))})).catch(r.a.captureException)}}function m(){return function(e,t){var n=t(),r=Object(u.b)(n),l=Object(u.g)(n),f=Object(u.e)(n),d=Object(c.a)(n),p=Object(o.k)(n);if(r&&d===r.id||l&&l.some((function(e){return e.id===d}))||f&&d===f.id)a.a.push(Object(i.h)({pageNumber:1}));else{var g=Math.ceil((p+1)/s.h);a.a.push(Object(i.h)({pageNumber:g}))}}}},1480:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=/^[a-z0-9!#$%&'*+\/=?\^_`{|}~\-]+(?:\.[a-z0-9!#$%&'*+\/=?\^_`{|}~\-]+)*@(?:[a-z0-9](?:[a-z0-9\-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9\-]*[a-z0-9])?$/gi,a=function(e){var t;return(null===(t=e)?null:t.replace(/^\s+|\s+$/g,"")).match(r)}},1629:function(e,t,n){e.exports={"cargurus-listing-search__vdp-ad":"_3qZtkn",topBorder:"zjtbVP",bottomBorder:"zdaGmJ"}},1635:function(e,t,n){e.exports={cgVdpPriceAnalysis:"_229gDP",noPrice:"_4L6ycm",uncertain:"_4PhBEH",great:"_3AE7EX",good:"_4NQdL3",fair:"_2o5dub",high:"_4jNuPs",overpriced:"_4dbv29",price:"_4mjnHP",newCarHeading:"GsBsso",newCarPrice:"_3ZJDvF",amount:"_5oUvuw",evaluation:"_3fAeU8",differentialWrap:"_5MpowW",label:"_2yScYT",noDealRatingReason:"_35qY1X",imvExplanation:"_2PxSrf",texasEvaluation:"RH7cDX",header:"d8Pjav",explanation:"_4qoUfc",collapseToggle:"_5inrXR",collapseContent:"_3KUwFj"}},1647:function(e,t,n){e.exports={navigationCarousel:"_2Qgcud",cardWrap:"_2VwthU",cardImg:"_527aCR",info:"_5zJHAX",title:"_7iEBoe"}},2297:function(e,t,n){e.exports={"cargurus-listing-search__legal-third-party-disclaimer":"_5FAtBt"}},2312:function(e,t,n){e.exports={buttonWrapper:"WV9vTh",show:"_2G7U3P",buttonText:"_2LCgme"}},2317:function(e,t,n){e.exports={postLeadBox:"_66Cbig",heading:"_3LBcwW",cta:"tYkzQn",ctaLabel:"_4ZZ6JE",actcMessage:"XGkFMN"}},2318:function(e,t,n){e.exports={dealerStars:"_4aB6fq",reviewsLink:"_4GuNyK"}},2319:function(e,t,n){e.exports={"internal__grille-modal-dialog__body":"_228x2p","internal__grille-modal-dialog__container":"_3vUGSY","internal__grille-modal-dialog__overlay":"_4kgjyp"}},2328:function(e,t,n){e.exports={fraudButton:"SG4VTi",button:"_4S2WzX"}},2330:function(e,t,n){e.exports={banner:"_3cUZkY",save:"c4dexh",saveBold:"qwpsmL"}},2331:function(e,t,n){e.exports={dealerImpressum:"_5ZggvJ",link:"_3HR6we",description:"_5RQf2a"}},2333:function(e,t,n){e.exports={cgVdpListingNavigation:"_2Ewret",bottomNav:"VaRsz1",button:"_3Gxbyp",leftTriangle:"jDwxbj",rightTriangle:"_27K5Ca",previous:"ZCEpw4",next:"_6LAH41",position:"_4AUKKe"}},2344:function(e,t,n){e.exports={dealerFeatureIndicators:"f53k5r"}},2356:function(e,t,n){e.exports={fpo:"_55g9Cf",a11yOutline:"rWDvaJ",errorOutline:"_2VvynN",screenReaderLabel:"_5UL5yz",privateSellerInfo:"WiVrap",avatar:"_2r9uSg",avatarImage:"_4wY6xT",about:"_62Grm1",header:"PdEoN8",name:"_4d6dt3",details:"_5iACSr",verifiedTagline:"_4tww5P"}},2357:function(e,t,n){e.exports={privateSellerInfoSection:"_23SQve",heading:"_4t6SQW",viewMoreTipsLabel:"_246oeX"}},2359:function(e,t,n){e.exports={shareListingButton:"_48Zwds"}},2377:function(e,t,n){e.exports={description:"_4H9MgC"}},2381:function(e,t,n){e.exports={summaryDetails:"_4Hs6Uw"}},2386:function(e,t,n){e.exports={cargurusListingSearchListing:"_4xyVwE",listingTitle:"QKHMNA",notFound:"ejMKQk",galleryAndActionButtons:"_58xtpR",buttons:"_4YonEy",sellerLocation:"_3vYzj3",listingActionButtons:"HshBWp",dealerDisclaimer:"_5Fzwf9",actcMessage:"_4TPMJz",sectionSpacing:"_5vKWHB",sectionSpacingTop:"_2qcUDp",dealerGuarantee:"GsaqZa",dealerGuaranteeLabel:"_3P2WpU",financingCTA:"_2yBp2A",financingCallout:"_222nSB"}},2394:function(e,t,n){e.exports={spin:"_2qtzn9",close:"_5MtLuk",backText:"_38n2RZ"}},2396:function(e,t,n){e.exports={close:"cNht2c",backText:"_2Smd9Q"}},2672:function(e,t,n){"use strict";n.r(t),n.d(t,"mapStateToProps",(function(){return Fu}));var r=n(8),a=n(66),i=n(6),o=n(102),c=n(0),l=n.n(c),s=n(1),u=n.n(s);function f(e,t){var n,r=window.pageYOffset,a=e-r;window.requestAnimationFrame((function e(i){var o=i-(n=n||i),c=Math.min(o/t,1);window.scrollTo(0,r+a*c),o<t&&window.requestAnimationFrame(e)}))}var d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"start",n=0;switch(t){case"end":n=e.offsetTop+e.offsetHeight;break;case"center":n=e.offsetTop+e.offsetHeight/2;break;default:n=e.offsetTop}return n},p=n(191);function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var m=function(e){var t=e.target,n=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,r=Object(c.useRef)(e);return Object(c.useEffect)((function(){r.current&&f(d(r.current,t)-(Object(p.d)()?96:0),n)}),[r.current,n]),r}(null,e.block,1e3);return l.a.createElement(t,g({},e,{scrollRef:n}))};m.propTypes={target:u.a.node,block:u.a.string},m.defaultProps={target:null,block:"start"};var b=m;function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){return function(r){return e(r)?l.a.createElement(b,y({},r,{target:n},t)):l.a.createElement(n,r)}}},v=n(222),O=n(237),E=n(1614),w=n(1523),j=n(9),S=n(441),P=n(1394),k=n(300),I=n(232),R=n(72),L=n(1300),C=n(44),_=n(36),T=n(584),N=n(54),D=n(25),x=n(11),A=n(53),F=n(209),q=n(433),U=n(1078),V=n(238),M=n(52),W=n.n(M),B=n(5),G=n(18),z=n(2269),H=n(7),Y=n.n(H),K=n(10),Z=n(281),J=n(17),Q=n(3),X=n(297),$=n(83),ee=n(1615),te=n(1616),ne=n(1532),re=Object(ne.a)(te.b),ae=n(12),ie=n(2),oe=n(676),ce=n(319),le=n(2043),se=n(285),ue=n(2030),fe=n(88),de=n(2021),pe=n(1067),ge=n(1624),me=n(1079),be=n(2052),ye=n(2025),he=n(1189),ve=n(1077),Oe=n(1628),Ee=n(1395),we=n(596),je=n(48),Se=n(2297),Pe=n.n(Se);function ke(e){return(ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Re(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Le(e,t){return(Le=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ce(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Te(e);if(t){var a=Te(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return _e(this,n)}}function _e(e,t){return!t||"object"!==ke(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Te(e){return(Te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ne=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Le(e,t)}(i,e);var t,n,r,a=Ce(i);function i(){return Ie(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=Object(ie.a)("listings.detail.accuracy_disclaimer");return(l.a.createElement("div",{className:Pe.a["cargurus-listing-search__legal-third-party-disclaimer"]},e))}}])&&Re(t.prototype,n),r&&Re(t,r),i}(c.PureComponent),De=n(1410),xe=n(1089),Ae=n(440),Fe=n(1367);function qe(){return(qe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Ue=function(e){var t=e.alternateImageSrc,n=e.contactCenterReference,r=e.images,a=e.inventoryListingId,i=e.isPrivateSeller,o=e.showLeadPrompt,c=e.trackGalleryImageView,s=null;if(void 0!==r[0].ocrFilterList&&r.filter((function(e){return void 0!==e.ocrFilterList})).length>=3){var u=r[0].ocrFilterList;s=r.map((function(e,t){var n="ocr-image-".concat(t);return(l.a.createElement(Ae.a,qe({key:n,ocrFilterList:u},e)))}))}else s=r.map((function(e,t){var n=e.ocrFilterList,r="ocr-image-".concat(t);return void 0!==n?l.a.createElement(Ae.a,qe({key:r},e)):e}));return(l.a.createElement(Fe.a,{alternateImageSrc:t,contactCenterReference:n,images:s,inventoryListingId:a,isPrivateSeller:i,showLeadPrompt:o,isOcr:!0,trackGalleryImageView:c}))};Ue.propTypes={alternateImageSrc:u.a.string.isRequired,contactCenterReference:u.a.shape({scrollIntoView:u.a.func.isRequired}),images:u.a.arrayOf(u.a.oneOfType([u.a.element,u.a.shape({url:u.a.string.isRequired})])),inventoryListingId:u.a.number.isRequired,isPrivateSeller:u.a.bool,showLeadPrompt:u.a.bool,trackGalleryImageView:u.a.func.isRequired},Ue.defaultProps={contactCenterReference:null,images:null,isPrivateSeller:!1,showLeadPrompt:!1};var Ve=Ue,Me=n(844);function We(e){return(We="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Be(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ge(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ze(e,t){return(ze=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function He(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ke(e);if(t){var a=Ke(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Ye(this,n)}}function Ye(e,t){return!t||"object"!==We(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ke(e){return(Ke=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ze=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ze(e,t)}(i,e);var t,n,r,a=He(i);function i(){return Be(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){return this.renderChild(l.a.createElement("path",{d:"M73.3,60L60.1,73.3c-0.7,0.7-1.9,0.7-2.7,0L37.5,53.4L17.6,73.3c-0.7,0.7-1.9,0.7-2.7,0L1.7,60.1c-0.7-0.7-0.7-1.9,0-2.7l19.9-19.9L1.7,17.6c-0.7-0.7-0.7-1.9,0-2.7L14.9,1.7c0.7-0.7,1.9-0.7,2.7,0l19.9,19.9L57.4,1.7c0.7-0.7,1.9-0.7,2.7,0l13.3,13.3c0.7,0.7,0.7,1.9,0,2.7L53.4,37.5l19.9,19.9C74.1,58.1,74.1,59.3,73.3,60z"}))}}])&&Ge(t.prototype,n),r&&Ge(t,r),i}(n(296).a),Je=u.a.shape({contentReportId:u.a.number,id:u.a.number,inventoryListingId:u.a.number,listingMetadataId:u.a.number,listingOwnerId:u.a.number,requestPersonId:u.a.number,requestReason:u.a.string,requestSentTimestamp:u.a.string,requestTimestamp:u.a.string,status:u.a.string,verificationCode:u.a.string,verificationUID:u.a.string}),Qe=n(1460),Xe=n.n(Qe);function $e(e){return($e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function et(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nt(e,t){return(nt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function rt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ot(e);if(t){var a=ot(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return at(this,n)}}function at(e,t){return!t||"object"!==$e(t)&&"function"!=typeof t?it(e):t}function it(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ot(e){return(ot=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ct(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var lt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nt(e,t)}(i,e);var t,n,r,a=rt(i);function i(){var e;et(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ct(it(e=a.call.apply(a,[this].concat(n))),"renderResendLink",(function(){var e=Object(ae.a)("f:account.sendConfirmationEmail");return(l.a.createElement("a",{className:Y()(Xe.a.link),href:e,rel:"nofollow"},"click here to resend"))})),e}return t=i,r=[{key:"propTypes",get:function(){return{timeUntilConfirmationEmailResend:u.a.string}}},{key:"defaultProps",get:function(){return{timeUntilConfirmationEmailResend:null}}}],(n=[{key:"render",value:function(){var e=this.props.timeUntilConfirmationEmailResend;return(l.a.createElement("div",{className:Y()(Xe.a.confirmationWrapper)},"You must confirm your email to activate, edit, close or reopen your listings.",l.a.createElement("br",null),"No confirmation email? Please check your spam folder and, if that fails,Â ",e?"come back in ".concat(e," to resend a confirmation email"):this.renderResendLink(),"."))}}])&&tt(t.prototype,n),r&&tt(t,r),i}(c.PureComponent);function st(e){return(st="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ut(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ft(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dt(e,t){return(dt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function pt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=mt(e);if(t){var a=mt(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return gt(this,n)}}function gt(e,t){return!t||"object"!==st(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function mt(e){return(mt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var bt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&dt(e,t)}(i,e);var t,n,r,a=pt(i);function i(){return ut(this,i),a.apply(this,arguments)}return t=i,r=[{key:"propTypes",get:function(){return{listingPrice:u.a.string,listingTitle:u.a.string,requiredVerification:Je}}},{key:"defaultProps",get:function(){return{listingPrice:null,listingTitle:null,requiredVerification:null}}}],(n=[{key:"render",value:function(){var e=Object(ae.a)("f:privateListing.viewListingVerification"),t=this.props,n=t.listingPrice,r=t.listingTitle,a=t.requiredVerification,i=a.requestTimestamp,o=a.verificationUID,s=new Date(i).toLocaleString("en-us",{month:"short",day:"numeric",year:"numeric"}),u=Y()(Xe.a.link,Xe.a.noUnderline);return l.a.createElement(c.Fragment,null,l.a.createElement("h4",{className:Y()(Xe.a.heading)},"Your listing is awaiting verification."),l.a.createElement("p",{className:Y()(Xe.a.text)},"Please verify you have possession of the vehicle following the link below. During this time, your listing may be suspended. If we do not receive verification 2 weeks after the request, your listing will be removed.",l.a.createElement("br",null),l.a.createElement("div",{className:Y()(Xe.a.verificationIndent)},l.a.createElement("a",{className:Y()(u),href:"".concat(e,"?verificationUID=").concat(o)},r," - ",n)," ","- requested ",s,l.a.createElement("br",null))))}}])&&ft(t.prototype,n),r&&ft(t,r),i}(c.PureComponent);function yt(e){return(yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ht(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vt(e,t,n){return t&&ht(e.prototype,t),n&&ht(e,n),e}function Ot(e,t){return(Ot=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Et(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=jt(e);if(t){var a=jt(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return wt(this,n)}}function wt(e,t){return!t||"object"!==yt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function jt(e){return(jt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var St=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ot(e,t)}(n,e);var t=Et(n);function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=t.call(this,e)).state={hideWarning:!1},r}return vt(n,null,[{key:"propTypes",get:function(){return{requiredVerification:Je,listingPrice:u.a.string,listingStatus:u.a.string,listingTitle:u.a.string,sellerIsConfirmed:u.a.bool,sellerOwnerPersonId:u.a.number,timeUntilConfirmationEmailResend:u.a.string,userOwnerPersonId:u.a.number}}},{key:"defaultProps",get:function(){return{requiredVerification:null,listingPrice:null,listingStatus:null,listingTitle:null,sellerIsConfirmed:!1,sellerOwnerPersonId:null,timeUntilConfirmationEmailResend:null,userOwnerPersonId:null}}}]),vt(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.requiredVerification,r=t.listingPrice,a=t.listingStatus,i=t.listingTitle,o=t.sellerIsConfirmed,c=t.sellerOwnerPersonId,s=t.timeUntilConfirmationEmailResend,u=t.userOwnerPersonId;if(this.state.hideWarning||!u||c!==u)return null;var f=[];return"PENDING"!==a&&"PAUSED"!==a||f.push(l.a.createElement("div",{key:"statusMessage"},"This listing is currently being processed.")),Object(ae.b)("f:account.sendConfirmationEmail")&&!o?f.push(l.a.createElement(lt,{key:"confirmationMessage",timeUntilConfirmationEmailResend:s})):Object(ae.b)("f:privateListing.viewListingVerification")&&n?f.push(l.a.createElement(bt,{key:"verificationMessage",requiredVerification:n,listingTitle:i,listingPrice:r})):"CLOSED"===a&&f.push(l.a.createElement("div",{key:"closedMessage"},"Your listing is currently closed. You will have to reopen it if you want it to appear in search results.")),0===f.length?null:l.a.createElement("div",{className:Y()(Xe.a.cargurusListingSearchP2pSellerWarningBanner)},l.a.createElement("button",{className:Y()("closeBtn"),onClick:function(){return e.setState({hideWarning:!0})}},l.a.createElement(Ze,{className:Y()("closeSvg")})),f)}}]),n}(c.PureComponent),Pt=Object(r.connect)((function(e){var t=Object(R.a)(e);return{sellerIsConfirmed:t.get("isConfirmed"),sellerOwnerPersonId:t.get("ownerPersonId"),timeUntilConfirmationEmailResend:t.get("timeUntilConfirmationEmailResend"),userOwnerPersonId:Object(A.c)(e)}}))(St),kt=n(533),It=n(1461),Rt=n(1629),Lt=n.n(Rt),Ct=n(1136),_t=n(350),Tt=function(e){return l.a.createElement(Ct.a,{adId:e.adId,adUnitName:e.adUnitName,adFormat:_t.b.INTERCHANGEABLE,adTargeting:e.targeting})};Tt.propTypes={adId:u.a.string.isRequired,adUnitName:u.a.string.isRequired,targeting:u.a.objectOf(u.a.oneOfType([u.a.string,u.a.arrayOf(u.a.string)])).isRequired};var Nt=Tt,Dt=function(e){return l.a.createElement(Ct.a,{adId:e.adId,adUnitName:e.adUnitName,adFormat:_t.b.MEDIUM_RECTANGLE,adTargeting:e.targeting})};Dt.propTypes={adId:u.a.string.isRequired,adUnitName:u.a.string,targeting:u.a.objectOf(u.a.oneOfType([u.a.string,u.a.arrayOf(u.a.string)])).isRequired},Dt.defaultProps={adUnitName:null};var xt=Dt;function At(e){return(At="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ft(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ft(Object(n),!0).forEach((function(t){Ut(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ft(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ut(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wt(e,t){return(Wt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Bt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=zt(e);if(t){var a=zt(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Gt(this,n)}}function Gt(e,t){return!t||"object"!==At(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function zt(e){return(zt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ht=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wt(e,t)}(i,e);var t,n,r,a=Bt(i);function i(){return Vt(this,i),a.apply(this,arguments)}return t=i,r=[{key:"propTypes",get:function(){return{inventoryListingId:u.a.number.isRequired,vdpTargeting:u.a.objectOf(u.a.oneOfType([u.a.string,u.a.arrayOf(u.a.string)])).isRequired,vdpAdUnitName:u.a.string,adId:u.a.string.isRequired,isExpandable:u.a.bool,adIndex:u.a.number}}},{key:"defaultProps",get:function(){return{isExpandable:Object(Q.getEnvVariable)(Q.EnvVariable.EXPERIENCE)===Q.Experiences.DESKTOP,vdpAdUnitName:null,adIndex:null}}}],(n=[{key:"shouldComponentUpdate",value:function(e){var t=e.inventoryListingId,n=e.vdpTargeting,r=e.vdpAdUnitName,a=e.adId,i=e.isExpandable,o=e.adIndex;return t!==this.props.inventoryListingId||a!==this.props.adId||i!==this.props.isExpandable||r!==this.props.vdpAdUnitName||!Object(Z.a)(n,this.props.vdpTargeting)||o!==this.props.adIndex}},{key:"renderAd",value:function(){var e=qt(qt({},this.props.vdpTargeting),"number"==typeof this.props.adIndex&&this.props.adIndex>=0&&{inLine:(this.props.adIndex+1).toString()});return this.props.isExpandable?l.a.createElement(Nt,{targeting:e,adUnitName:this.props.vdpAdUnitName,adId:this.props.adId}):l.a.createElement(xt,{targeting:e,adUnitName:this.props.vdpAdUnitName,adId:this.props.adId})}},{key:"render",value:function(){return l.a.createElement("div",{className:Lt.a["cargurus-listing-search__vdp-ad"]},this.renderAd())}}])&&Mt(t.prototype,n),r&&Mt(t,r),i}(c.Component),Yt=n(63),Kt={pure:!0,areStatePropsEqual:function(e,t){var n=Object(Z.a)(e.vdpTargeting,t.vdpTargeting),r=Object(Z.a)(e.vdpAdUnitName,t.vdpAdUnitName);return n&&r}},Zt=Object(r.connect)((function(e){return{vdpTargeting:Object(Yt.g)(e),vdpAdUnitName:Object(Yt.f)(e)}}),void 0,void 0,Kt)(Ht),Jt=function(e){return l.a.createElement(Ct.a,{adId:e.adId,adUnitName:e.adUnitName,adFormat:_t.b.LARGE_MOBILE_BANNER,adTargeting:e.targeting})};Jt.propTypes={adId:u.a.string.isRequired,adUnitName:u.a.string,targeting:u.a.objectOf(u.a.oneOfType([u.a.string,u.a.arrayOf(u.a.string)])).isRequired},Jt.defaultProps={adUnitName:null};var Qt=Jt;function Xt(e){return(Xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function en(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$t(Object(n),!0).forEach((function(t){tn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$t(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function tn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function an(e,t){return(an=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function on(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ln(e);if(t){var a=ln(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return cn(this,n)}}function cn(e,t){return!t||"object"!==Xt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ln(e){return(ln=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var sn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&an(e,t)}(i,e);var t,n,r,a=on(i);function i(){return nn(this,i),a.apply(this,arguments)}return t=i,r=[{key:"propTypes",get:function(){return{inventoryListingId:u.a.number.isRequired,vdpTargeting:u.a.objectOf(u.a.oneOfType([u.a.string,u.a.arrayOf(u.a.string)])).isRequired,vdpAdUnitName:u.a.string,noBottomBorder:u.a.bool,adId:u.a.string.isRequired,isExpandable:u.a.bool,adIndex:u.a.number}}},{key:"defaultProps",get:function(){return{isExpandable:Object(Q.getEnvVariable)(Q.EnvVariable.EXPERIENCE)===Q.Experiences.DESKTOP,vdpAdUnitName:null,noBottomBorder:!0,adIndex:null}}}],(n=[{key:"shouldComponentUpdate",value:function(e){var t=e.inventoryListingId,n=e.vdpTargeting,r=e.vdpAdUnitName,a=e.adId,i=e.isExpandable,o=e.adIndex;return t!==this.props.inventoryListingId||a!==this.props.adId||i!==this.props.isExpandable||r!==this.props.vdpAdUnitName||!Object(Z.a)(n,this.props.vdpTargeting)||o!==this.props.adIndex}},{key:"render",value:function(){var e=en(en({},this.props.vdpTargeting),"number"==typeof this.props.adIndex&&this.props.adIndex>=0&&{inLine:(this.props.adIndex+1).toString()});return(l.a.createElement("div",{className:Y()(Lt.a["cargurus-listing-search__vdp-ad"],Lt.a.topBorder,this.props.noBottomBorder?"":Lt.a.bottomBorder)},l.a.createElement(Qt,{targeting:e,adUnitName:this.props.vdpAdUnitName,adId:this.props.adId})))}}])&&rn(t.prototype,n),r&&rn(t,r),i}(c.Component),un={pure:!0,areStatePropsEqual:function(e,t){return Object(Z.a)(e.vdpTargeting,t.vdpTargeting)&&Object(Z.a)(e.vdpAdUnitName,t.vdpAdUnitName)}},fn=Object(r.connect)((function(e){return{vdpTargeting:Object(Yt.g)(e),vdpAdUnitName:Object(Yt.f)(e)}}),void 0,void 0,un)(sn),dn=n(1520),pn=n(1462),gn=n(16),mn=n(1630),bn=n(1288),yn=n(1631),hn=n(1286),vn=function(){var e=Object(r.useSelector)(R.a),t=e.atHomeDropOff,n=e.atHomeTestDrive,a=e.remoteAppointments,i=e.remotePurchases,o=e.showroomAppointments;return t||n||a||i||o?l.a.createElement(bn.a,{headerText:Object(ie.a)("listings.overview.filter.contactless_options"),sectionName:hn.a.CONTACTLESS_SERVICES},l.a.createElement(yn.a,null)):null},On=n(33),En=n(22),wn=n(1097),jn=n(133),Sn=n(333),Pn=n(272),kn=n(2312),In=n.n(kn);var Rn=function(e){var t,n,r,a=e.dataCgFt,i=e.handleOnClick,o=e.isPrivateSeller,c=e.sellerFirstName,s=e.sellerScreenName,u=e.show,f="".concat(a,"-").concat(u),d="".concat(a,"-button");return l.a.createElement("div",{className:Y()(In.a.buttonWrapper,(t={},n=In.a.show,r=u,n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t)),"data-cg-ft":f},u&&l.a.createElement(ve.a,{size:"small",sourceId:"VDP_STICKY_LAUNCHER"},(function(e){var t=e.canCheckout;return(l.a.createElement(jn.a,{fullWidth:!0,variant:"isolated",onClick:i,"data-cg-ft":d,size:"small"},l.a.createElement("div",{className:In.a.buttonText},!t&&l.a.createElement(G.FontAwesomeIcon,{className:In.a.buttonIcon,icon:o?Sn.faComment:Pn.faEnvelope}),l.a.createElement("span",null,function(e,t,n,r){return e?Object(ie.a)("mobile.listings.detail.private_listing.contact_form.header",t||n):r?Object(ie.a)("listings.detail.contact.button.request_info"):Object(ie.a)("listings.detail.contact.form.header_request_information")}(o,c,s,t)))))})))};Rn.propTypes={handleOnClick:u.a.func.isRequired,isPrivateSeller:u.a.bool.isRequired,sellerFirstName:u.a.string,sellerScreenName:u.a.string,show:u.a.bool.isRequired,dataCgFt:u.a.string.isRequired},Rn.defaultProps={sellerFirstName:"",sellerScreenName:""};var Ln=Object(r.connect)((function(e){var t=Object(R.a)(e);return{sellerFirstName:t.first,sellerScreenName:t.screenname}}))(Rn),Cn=Object(r.connect)((function(e){var t=Object(R.a)(e);return{sellerFirstName:t.first,sellerScreenName:t.screenname}}))(Ln),_n=n(30),Tn=n(35);function Nn(e){return(Nn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Dn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xn(e,t,n){return t&&Dn(e.prototype,t),n&&Dn(e,n),e}function An(e,t){return(An=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Fn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Vn(e);if(t){var a=Vn(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return qn(this,n)}}function qn(e,t){return!t||"object"!==Nn(t)&&"function"!=typeof t?Un(e):t}function Un(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vn(e){return(Vn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Mn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&An(e,t)}(n,e);var t=Fn(n);function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=t.call(this,e)).handleOnClick=r.handleOnClick.bind(Un(r)),r}return xn(n,null,[{key:"propTypes",get:function(){return{getLeadTrackingData:u.a.func.isRequired,history:u.a.shape({push:u.a.func.isRequired}).isRequired,inventoryListingId:u.a.number.isRequired,isPrivateSeller:u.a.bool.isRequired,show:u.a.bool.isRequired,featuredType:u.a.string}}},{key:"defaultProps",get:function(){return{featuredType:Tn.a.NONE}}}]),xn(n,[{key:"handleOnClick",value:function(){var e=this.props,t=e.getLeadTrackingData,n=e.history,r=e.inventoryListingId,a=e.featuredType;Object(je.c)({uiObject:"vdpRequestInfoSlidingFooterButton"}),Object(En.trackUiUsage)({uiObject:"vdpRequestInfoSlidingFooterButton"});var i={inventoryListingId:r,featuredType:a},o=a&&a!==Tn.a.NONE?Object(_n.o)(i):Object(_n.n)(i);n.push({pathname:o,state:{getLeadTrackingData:t,navigatedFromVDP:!0}})}},{key:"render",value:function(){var e=this.props,t=e.inventoryListingId,n=e.isPrivateSeller,r=e.show,a=e.getLeadTrackingData,i=e.featuredType;return(l.a.createElement(Cn,{show:r,isPrivateSeller:n,handleOnClick:this.handleOnClick,inventoryListingId:t,getLeadTrackingData:a,featuredType:i,dataCgFt:"footer-contact-form"}))}}]),n}(c.PureComponent),Wn=Object(On.withRouter)(Object(wn.a)(Mn)),Bn=n(2036),Gn=n(1068),zn=n(489),Hn=n(496),Yn=n(1467),Kn=n(1634),Zn=n(2317),Jn=n.n(Zn);function Qn(e){return(Qn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function er(e,t){return(er=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function tr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=rr(e);if(t){var a=rr(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return nr(this,n)}}function nr(e,t){return!t||"object"!==Qn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function rr(e){return(rr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ar=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&er(e,t)}(i,e);var t,n,r,a=tr(i);function i(){return Xn(this,i),a.apply(this,arguments)}return t=i,r=[{key:"logInboxEventStep2",value:function(){Object(Hn.a)("PostLeadBoxInboxMobile",2)}},{key:"logCheckoutEventStep2",value:function(){Object(Hn.a)("PostLeadBoxCheckoutMobile",2)}}],(n=[{key:"componentDidMount",value:function(){Object(Hn.a)("PostLeadBoxInboxMobile",1),Object(Hn.a)("PostLeadBoxCheckoutMobile",1)}},{key:"render",value:function(){var e=this.props,t=e.contactedDate,n=e.inventoryListingId,r="".concat(Object(ae.a)("f:privateListing.inbox"),"?pid=").concat(Yn.b),a="".concat(Object(ae.a)("f:privateListing.checkout.startCheckoutInvite"),"?pid=").concat(Yn.b,"&inventoryListingId=").concat(n);return l.a.createElement("section",{className:Jn.a.postLeadBox},l.a.createElement("h4",{className:Jn.a.heading},l.a.createElement("span",null,"You inquired about this vehicle ",l.a.createElement("b",null,Object(Kn.a)(t)))),l.a.createElement("div",{className:Jn.a.ctaSection},l.a.createElement("div",{className:Jn.a.cta},l.a.createElement(Gn.a,{href:r,variant:"primary",onClick:i.logInboxEventStep2,fullWidth:!0},"Go to Inbox",l.a.createElement(G.FontAwesomeIcon,{icon:Pn.faEnvelope}))),l.a.createElement("div",{className:Jn.a.cta},l.a.createElement("p",{className:Jn.a.ctaLabel},"Already seen the car and agreed on a price?"),l.a.createElement(Gn.a,{href:a,variant:"secondary",onClick:i.logCheckoutEventStep2,fullWidth:!0},"Start Purchase",l.a.createElement(G.FontAwesomeIcon,{icon:zn.faChevronRight})))),l.a.createElement(pn.a,{className:Jn.a.actcMessage}))}}])&&$n(t.prototype,n),r&&$n(t,r),i}(c.PureComponent);ar.propTypes={contactedDate:u.a.string.isRequired,inventoryListingId:u.a.number.isRequired};var ir=n(282),or=n(331),cr=n(424),lr=n(293),sr=n(298),ur=n.n(sr),fr=n(2318),dr=n.n(fr),pr=function(e){var t=e.listingId,n=e.dealerRating,r=e.currentReviewCount,a=e.scrollToReviews,o="";if(n&&(o=Math.floor(10*n)/10),!o)return null;return l.a.createElement("div",{className:dr.a.dealerStars},l.a.createElement("p",null,Object(ie.a)("listings.vdp.collapsible.reviews.header")),l.a.createElement(lr.a,{rating:o,starSize:20}),l.a.createElement(ur.a,{className:dr.a.reviewsLink,onClick:function(){Object(En.trackUiUsage)({uiElement:"MobileVDP_goToDealerReviewsClick",uiObject:{dealerRating:n,listingId:t}}),a()}},1===r?Object(ie.a)("dealer.user_review.reviews.count.one"):Object(ie.a)("listings.detail.price_analysis.dealer_rating.readReviews",i.e.internationalizeNumber(r))))};pr.propTypes={currentReviewCount:u.a.number.isRequired,listingId:u.a.number.isRequired,dealerRating:u.a.number.isRequired,scrollToReviews:u.a.func.isRequired};var gr=pr,mr=n(1314),br=n.n(mr),yr=n(1635),hr=n.n(yr);function vr(e){return(vr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Or(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Er(e,t,n){return t&&Or(e.prototype,t),n&&Or(e,n),e}function wr(e,t){return(wr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function jr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=kr(e);if(t){var a=kr(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Sr(this,n)}}function Sr(e,t){return!t||"object"!==vr(t)&&"function"!=typeof t?Pr(e):t}function Pr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kr(e){return(kr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ir=br.a.div({open:{height:"auto",opacity:1},closed:{height:"1px",opacity:0}}),Rr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wr(e,t)}(n,e);var t=jr(n);function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=t.call(this,e)).toggle=r.toggle.bind(Pr(r)),r.state={isOpen:!1},r}return Er(n,null,[{key:"propTypes",get:function(){return{children:u.a.node.isRequired,headerText:u.a.node.isRequired,handleOnClick:u.a.func}}},{key:"defaultProps",get:function(){return{handleOnClick:null}}}]),Er(n,[{key:"callOnClickCallback",value:function(){var e=this.props.handleOnClick;return e&&e({isOpen:this.state.isOpen})}},{key:"toggle",value:function(){this.setState((function(e){return{isOpen:!e.isOpen}}),this.callOnClickCallback)}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.headerText,r=this.state.isOpen;return l.a.createElement(c.Fragment,null,l.a.createElement("button",{"aria-expanded":r,className:hr.a.collapseToggle,onClick:this.toggle,type:"button"},n),l.a.createElement(Ir,{className:hr.a.collapseContent,pose:r?"open":"closed","aria-hidden":!r},t))}}]),n}(c.Component);function Lr(e){return(Lr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Cr(){return(Cr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function _r(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Tr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Nr(e,t,n){return t&&Tr(e.prototype,t),n&&Tr(e,n),e}function Dr(e,t){return(Dr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function xr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=qr(e);if(t){var a=qr(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Ar(this,n)}}function Ar(e,t){return!t||"object"!==Lr(t)&&"function"!=typeof t?Fr(e):t}function Fr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qr(e){return(qr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ur="OPEN",Vr="CLOSE",Mr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Dr(e,t)}(n,e);var t=xr(n);function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=t.call(this,e)).state={isImvExplanationDisplayed:!1},r.toggleImvExplanation=r.toggleImvExplanation.bind(Fr(r)),r}return Nr(n,null,[{key:"handleIMVDetailsClick",value:function(e){var t=e.isOpen;Object(je.c)({uiElement:"handleIMVDetailsClick",uiObject:t?Ur:Vr}),Object(En.trackUiUsage)({uiElement:"handleIMVDetailsClick",uiObject:t?Ur:Vr})}},{key:"renderImvExplanationText",value:function(){var e={dangerouslySetInnerHTML:{__html:Object(ie.a)("listings.detail.price_analysis.imv.explanation")}};return(l.a.createElement("p",{className:hr.a.imvExplanation},l.a.createElement("span",e),Object(ae.b)("f:common.helpLink")&&l.a.createElement(cr.a,null,l.a.createElement("a",{href:Object(ae.a)("f:klink.whatIsIMVArticle"),target:"_blank"},Object(ie.a)("listings.detail.price_analysis.imv.explanation.learn-more")))))}},{key:"propTypes",get:function(){return{dealRating:X.a,expectedPrice:u.a.number,isNew:u.a.bool,isInTexas:u.a.bool,isPrivateSeller:u.a.bool,noDealRatingReason:u.a.string,price:u.a.number,priceDifferentialString:u.a.string,priceString:u.a.string,dealerRating:u.a.number,currentReviewCount:u.a.number,inventoryListingId:u.a.number,scrollToReviews:u.a.func}}},{key:"defaultProps",get:function(){return{dealRating:null,isNew:!1,isInTexas:!1,isPrivateSeller:!1,noDealRatingReason:null,priceDifferentialString:"",priceString:"",price:0,expectedPrice:0,dealerRating:null,currentReviewCount:null,inventoryListingId:null,scrollToReviews:function(){}}}}]),Nr(n,[{key:"shouldComponentUpdate",value:function(e,t){var n=this.props,r=n.dealRating,a=_r(n,["dealRating"]),i=e.dealRating,o=_r(e,["dealRating"]);return!Object(Z.a)(a,o)||!Object(Z.a)(r,i)||!Object(Z.a)(this.state,t)}},{key:"getEvaluationLabelText",value:function(){return this.props.price?this.props.price>this.props.expectedPrice?Object(ie.a)("listings.detail.price_analysis.above_market.capitalized"):Object(ie.a)("listings.detail.price_analysis.you_save"):Object(ie.a)("carValues.result.market_value")}},{key:"getPriceLabel",value:function(e){return this.props.isNew&&!e?Object(ie.a)("listings.detail.price_analysis.dealer_price"):this.props.priceString?this.props.isPrivateSeller?Object(ie.a)("listings.detail.price_analysis.seller_price"):Object(ie.a)("listings.detail.price_analysis.dealer_price"):Object(ie.a)("listing.details.cargurus.imv")}},{key:"toggleImvExplanation",value:function(){this.setState({isImvExplanationDisplayed:!this.state.isImvExplanationDisplayed})}},{key:"renderTexasImvDetails",value:function(){var e=this.props,t=e.expectedPrice,n=e.dealRating,r=e.isInTexas,a=Object(ie.a)("listings.detail.price_history_analysis.texas_disclaimer.click_target"),o="<a target='_blank' href=".concat("/Cars/Link?url=http%3A%2F%2Ftxdmv.gov%2Fcontact-us&hmac=7487A58884DE096D5F9BD52B0DD9D840E85DDE5E",">").concat(a,"</a>"),c=r&&n&&t,s={dangerouslySetInnerHTML:{__html:Object(ie.a)("listings.detail.deal_rating_analysis.texas_disclaimer.main",o)}};return c?l.a.createElement("div",{className:hr.a.texasEvaluation},l.a.createElement("div",{className:hr.a.header},Object(ie.a)("listing.details.cargurus.imv")),l.a.createElement("div",{className:hr.a.amount},Object(ie.a)("common.currency",i.e.internationalizeNumber(t))),l.a.createElement(cr.a,{onClick:this.handleDisclaimerClick},l.a.createElement("div",Cr({className:hr.a.explanation},s)))):null}},{key:"render",value:function(){var e=this.props,t=e.dealRating,r=e.expectedPrice,a=e.isNew,o=e.isInTexas,s=e.noDealRatingReason,u=e.priceDifferentialString,f=e.price,d=e.priceString,p=e.dealerRating,g=e.currentReviewCount,m=e.scrollToReviews,b=e.inventoryListingId,y=t.isOutlier&&r&&f>r,h=t.isOutlier&&r&&f<r,v=!y&&!h&&(d||!o&&r),O=!o&&r,E=s?"(".concat(s,")"):"",w={dangerouslySetInnerHTML:{__html:this.getPriceLabel(O)}};return l.a.createElement("div",{className:hr.a.cgVdpPriceAnalysis,"data-cg-ft":"vdp-deal-rating"},l.a.createElement($.c,{viewVersionName:"SEEING_DEALER_STARS_VDP"},l.a.createElement($.b,null,l.a.createElement(gr,{scrollToReviews:m,currentReviewCount:g,dealerRating:p,listingId:b}))),a&&l.a.createElement("p",Cr({className:hr.a.newCarHeading},w)),a&&!v&&l.a.createElement("div",{className:hr.a.newCarPrice},l.a.createElement("span",{className:hr.a.noPrice},Object(ie.a)("common.listings.detail.price.no_price_listed"))),a&&v&&l.a.createElement("div",{className:hr.a.newCarPrice},l.a.createElement("span",{className:hr.a.amount},d)),!a&&!v&&r&&!o&&l.a.createElement("div",{className:hr.a.newCarPrice},l.a.createElement("div",{className:hr.a.header},Object(ie.a)("listing.details.cargurus.imv")),l.a.createElement("div",{className:hr.a.amount},Object(ie.a)("common.currency",i.e.internationalizeNumber(r)))),!a&&l.a.createElement(c.Fragment,null,l.a.createElement(or.a,{rating:t.className}),l.a.createElement("h2",{className:hr.a[t.className]},t.vdpAlternateText||t.labelUppercase)),!a&&t.isPriceNA&&E&&l.a.createElement("div",{className:hr.a.noDealRatingReason},l.a.createElement("span",null,E)),!a&&t.isOutlier&&y&&l.a.createElement("div",{className:hr.a.outlierExplanationMessage},l.a.createElement("span",null,Object(ie.a)("listings.detail.price_analysis.outlier.highprice"))),!a&&t.isOutlier&&h&&l.a.createElement("div",{className:hr.a.outlierExplanationMessage},l.a.createElement("span",null,Object(ie.a)("listings.detail.price_analysis.outlier.lowprice"))),!a&&v&&d&&l.a.createElement("div",{className:hr.a.price},d),!a&&O&&!y&&!h&&l.a.createElement("div",{className:hr.a.evaluation},!o&&l.a.createElement(Rr,{handleOnClick:n.handleIMVDetailsClick,headerText:l.a.createElement(c.Fragment,null,l.a.createElement("span",{className:hr.a.amount},d||o||!r?u:Object(ie.a)("common.currency",i.e.internationalizeNumber(r))),l.a.createElement("span",{className:hr.a.differentialWrap},l.a.createElement("p",{className:hr.a.label},this.getEvaluationLabelText()),l.a.createElement("sup",null,l.a.createElement(G.FontAwesomeIcon,{icon:ir.faInfoCircle}))))},n.renderImvExplanationText())),o&&!a&&this.renderTexasImvDetails())}}]),n}(c.Component),Wr=n(107),Br=n(1398),Gr=n(280),zr=function(){return document},Hr=function(){return zr().querySelector("body")},Yr=n(134),Kr=n(254),Zr=n(2319),Jr=n.n(Zr);function Qr(e){return(Qr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $r(e,t,n){return t&&Xr(e.prototype,t),n&&Xr(e,n),e}function ea(e,t){return(ea=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ta(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=aa(e);if(t){var a=aa(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return na(this,n)}}function na(e,t){return!t||"object"!==Qr(t)&&"function"!=typeof t?ra(e):t}function ra(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aa(e){return(aa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ia=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ea(e,t)}(n,e);var t=ta(n);function n(e,r){var a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(a=t.call(this,e,r)).deprecatedBemElementGenerator=Object(Yr.a)(Jr.a,"grille-modal-dialog"),a.handleClose=a.handleClose.bind(ra(a)),a.bodyOverlayClassName=Y()(a.deprecatedBemElementGenerator("body")()).split(" "),a.elements={documentElement:zr(),bodyElement:Hr()},a.uniqueId="modal-".concat(Object(Gr.a)()),a}return $r(n,null,[{key:"propTypes",get:function(){return{onClose:u.a.func,onOpen:u.a.func,children:u.a.node,className:u.a.string,transition:u.a.string}}},{key:"defaultProps",get:function(){return{children:null,className:"",onClose:Kr.a,onOpen:Kr.a,transition:""}}}]),$r(n,[{key:"componentWillMount",value:function(){var e=this.elements,t=e.documentElement,n=e.bodyElement,r=t.createElement("div"),a=this.deprecatedBemElementGenerator("mobile-dialog");r.setAttribute("id",this.uniqueId),Y()(a(),this.props.className).split(" ").forEach((function(e){return r.classList.add(e)})),n.appendChild(r)}},{key:"componentDidMount",value:function(){var e=Hr();this.bodyOverlayClassName.forEach((function(t){return e.classList.add(t)})),this.props.onOpen()}},{key:"componentWillUnmount",value:function(){var e=this.elements,t=e.documentElement,n=e.bodyElement,r=Hr();this.bodyOverlayClassName.forEach((function(e){return r.classList.remove(e)}));var a=t.querySelector("#".concat(this.uniqueId));n.removeChild(a)}},{key:"handleClose",value:function(e){var t=this;return function(n){t.props.onClose(n,e)}}},{key:"renderTransition",value:function(){var e=this.props,t=e.children,n=e.transition;if(!n)return t;return l.a.createElement(Br.TransitionGroup,null,l.a.createElement(Br.CSSTransition,{classNames:n,key:this.uniqueId,timeout:300,appear:!0},t))}},{key:"render",value:function(){var e=this.props.className,t=this.deprecatedBemElementGenerator("container"),n=this.deprecatedBemElementGenerator("overlay");return Object(Wr.createPortal)(l.a.createElement("div",{role:"presentation",className:Y()(n()),onClick:this.handleClose},l.a.createElement("div",{className:Y()(t(),e)},this.renderTransition())),zr().querySelector("#".concat(this.uniqueId)))}}]),n}(c.Component),oa=n(2027),ca=function(e){var t=e.className,n=e.closeReportFraudModal,r=e.inventoryListingId;return(l.a.createElement(ia,null,l.a.createElement(oa.a,{className:t,closeReportFraudModal:n,inventoryListingDebug:"mobileOther",inventoryListingId:r})))};ca.propTypes={className:u.a.string,closeReportFraudModal:u.a.func.isRequired,inventoryListingId:u.a.number.isRequired},ca.defaultProps={className:void 0};var la=ca,sa=n(2328),ua=n.n(sa);function fa(e){return(fa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function da(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pa(e,t,n){return t&&da(e.prototype,t),n&&da(e,n),e}function ga(e,t){return(ga=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ma(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ha(e);if(t){var a=ha(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ba(this,n)}}function ba(e,t){return!t||"object"!==fa(t)&&"function"!=typeof t?ya(e):t}function ya(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ha(e){return(ha=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var va=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ga(e,t)}(n,e);var t=ma(n);function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=t.call(this,e)).state={isReportFraudModalOpen:!1},r.toggleReportFraudModal=r.toggleReportFraudModal.bind(ya(r)),r}return pa(n,null,[{key:"propTypes",get:function(){return{inventoryListingId:u.a.number.isRequired}}}]),pa(n,[{key:"toggleReportFraudModal",value:function(e){e.preventDefault(),this.setState((function(e){return{isReportFraudModalOpen:!e.isReportFraudModalOpen}}))}},{key:"render",value:function(){return l.a.createElement(c.Fragment,null,l.a.createElement("div",{className:ua.a.fraudButton},l.a.createElement("button",{className:ua.a.button,onClick:this.toggleReportFraudModal,tabIndex:-1},Object(ie.a)("private_listings.report-fraud-link.label"))),this.state.isReportFraudModalOpen&&l.a.createElement(la,{inventoryListingId:this.props.inventoryListingId,closeReportFraudModal:this.toggleReportFraudModal}))}}]),n}(c.PureComponent),Oa=n(1073),Ea=n(1304),wa=n(1289),ja=n(370),Sa=n(673),Pa=n.n(Sa);function ka(e){return(ka="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ia(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ra(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function La(e,t){return(La=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ca(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ta(e);if(t){var a=Ta(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return _a(this,n)}}function _a(e,t){return!t||"object"!==ka(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ta(e){return(Ta=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Na=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&La(e,t)}(o,e);var t,n,r,a=Ca(o);function o(){return Ia(this,o),a.apply(this,arguments)}return t=o,r=[{key:"propTypes",get:function(){return{city:u.a.string.isRequired,dealRatingLabel:u.a.string.isRequired,inventoryListingId:u.a.number.isRequired,isNew:u.a.bool.isRequired,listingTitle:u.a.string.isRequired,mileage:u.a.number.isRequired,shareVDP:u.a.func.isRequired,state:u.a.string.isRequired,defaultSize:u.a.string.isRequired}}}],(n=[{key:"getMailBody",value:function(){var e=this.props,t=e.city,n=e.dealRatingLabel,r=e.isNew,a=e.mileage,o=e.state,c=e.listingTitle,l="".concat(Object(ie.a)("mobile.listing.share.email.body.new.2a"),"\n").concat(Object(ie.a)("mobile.listing.share.email.body.new.2b",c),"\n"),s="".concat(Object(ie.a)("mobile.listing.share.email.body.used.2a"),"\n").concat(c," (").concat(n,")\n").concat(a?Object(ie.a)("mobile.listing.share.email.mileage",i.e.internationalizeNumber(a)):"");return"".concat(r?l:s," ").concat(t&&o?Object(ie.a)("mobile.listing.share.email.location",t,o):"","\n").concat(this.getShareLink())}},{key:"getMailSubject",value:function(){return Object(ie.a)("mobile.listing.share.email.subject",this.props.listingTitle)}},{key:"getMailtoUrl",value:function(){return"mailto:?body=".concat(encodeURIComponent(this.getMailBody()),"&amp;subject=").concat(encodeURIComponent(this.getMailSubject()))}},{key:"getShareLink",value:function(){var e=window.location.origin;return"".concat(e).concat(Object(ae.a)("f:listings.share.via.email.mobile")).concat(this.props.inventoryListingId)}},{key:"render",value:function(){return l.a.createElement(Gn.a,{handleClick:this.props.shareVDP(ja.a),href:this.getMailtoUrl(),variant:"secondary",isGhost:!0,fullWidth:!0,size:this.props.defaultSize},l.a.createElement("div",{className:Pa.a.iconBtn},l.a.createElement(G.FontAwesomeIcon,{icon:wa.faEnvelope}),l.a.createElement("span",null,Object(ie.a)("mobile.listings.detail.share.email.button.label"))))}}])&&Ra(t.prototype,n),r&&Ra(t,r),o}(c.PureComponent),Da=Object(Ea.a)((function(){return Object(ae.b)("f:listings.share.via.email.mobile")}))(Na),xa=n(853);function Aa(e){return(Aa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fa(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ua(e,t){return(Ua=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Va(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Wa(e);if(t){var a=Wa(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Ma(this,n)}}function Ma(e,t){return!t||"object"!==Aa(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Wa(e){return(Wa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ba=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ua(e,t)}(i,e);var t,n,r,a=Va(i);function i(){return Fa(this,i),a.apply(this,arguments)}return t=i,r=[{key:"propTypes",get:function(){return{facebookShareUrl:u.a.string.isRequired,shareVDP:u.a.func.isRequired,defaultSize:u.a.string.isRequired}}}],(n=[{key:"render",value:function(){return l.a.createElement(Gn.a,{handleClick:this.props.shareVDP(ja.d),href:this.props.facebookShareUrl,variant:"secondary",target:"_blank",isGhost:!0,fullWidth:!0,size:this.props.defaultSize},l.a.createElement("div",{className:Y()(Pa.a.iconBtn,Pa.a.facebook)},l.a.createElement(xa.a,null),l.a.createElement("span",null,Object(ie.a)("listings.detail.fb.link"))))}}])&&qa(t.prototype,n),r&&qa(t,r),i}(c.PureComponent),Ga=Object(Ea.a)((function(){return Object(ae.b)("f:listings.share.facebook.mobile")}))(Ba),za=n(1637),Ha=n(1468),Ya=function(e){var t=e.inventoryListingId,n=e.listingTitle,r=Object(K.getWindow)().encodeURIComponent(Object(ie.a)("mobile.listing.share.whatsapp.body",n,function(e){return"".concat(window.location.origin).concat(Object(ae.a)("f:listings.share.via.whatsapp")).concat(e)}(t)));return"".concat(Ha.b,"/?text=").concat(r)};function Ka(e){var t=e.inventoryListingId,n=e.listingTitle,r=e.shareVDP,a=e.defaultSize,i=Ya({inventoryListingId:t,listingTitle:n});return l.a.createElement(Gn.a,{handleClick:r(ja.c),href:i,variant:"secondary",target:"_blank",isGhost:!0,fullWidth:!0,size:a},l.a.createElement("div",{className:Y()(Pa.a.iconBtn,Pa.a.facebook)},l.a.createElement(G.FontAwesomeIcon,{icon:za.faWhatsapp}),l.a.createElement("span",null,Object(ie.a)("mobile.listings.detail.contact.label.whatsapp"))))}Ka.propTypes={inventoryListingId:u.a.number.isRequired,listingTitle:u.a.string.isRequired,shareVDP:u.a.func.isRequired,defaultSize:u.a.string.isRequired};var Za=Object(Ea.a)((function(){return Object(ae.b)("f:listings.share.via.whatsapp")}))(Ka),Ja=n(2329);function Qa(e){return(Qa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $a(e,t,n){return t&&Xa(e.prototype,t),n&&Xa(e,n),e}function ei(e,t){return(ei=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ti(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ai(e);if(t){var a=ai(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ni(this,n)}}function ni(e,t){return!t||"object"!==Qa(t)&&"function"!=typeof t?ri(e):t}function ri(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ai(e){return(ai=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ii=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=Object(Q.getEnvVariable)(Q.EnvVariable.DEVICE_OS);return t===Q.Environments.IOS?"sms:&body=".concat(e):t===Q.Environments.ANDROID?"sms:?body=".concat(e):"sms:"},oi=function(e){var t=e.inventoryListingId,n=e.listingTitle;return Object(ie.a)("mobile.listing.share.phone.body",n,function(e){return"".concat(window.location.origin).concat(Object(ae.a)("f:listings.share.sendToPhone.mobile")).concat(e)}(t))},ci=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ei(e,t)}(n,e);var t=ti(n);function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=t.call(this,e)).shareVDP=r.shareVDP.bind(ri(r)),r.confirmSaveListing=r.confirmSaveListing.bind(ri(r)),r}return $a(n,null,[{key:"propTypes",get:function(){return{inventoryListingId:u.a.number.isRequired,isAuthenticated:u.a.bool.isRequired,isSaved:u.a.bool.isRequired,listingTitle:u.a.string.isRequired,saveListing:u.a.func.isRequired,shareVDP:u.a.func.isRequired,defaultSize:u.a.string.isRequired}}}]),$a(n,[{key:"shareVDP",value:function(){var e=this,t=this.props.shareVDP;t(ja.b)(),setTimeout((function(){e.confirmSaveListing()}),10)}},{key:"confirmSaveListing",value:function(){var e=this.props,t=e.isAuthenticated,n=e.isSaved,r=e.saveListing;t&&!n&&(confirm(Object(ie.a)("mobile.listings.detail.save.listing.prompt"))&&r())}},{key:"render",value:function(){var e=this.props,t=e.inventoryListingId,n=e.listingTitle,r=e.defaultSize,a=oi({inventoryListingId:t,listingTitle:n});return l.a.createElement(Gn.a,{handleClick:this.shareVDP,href:ii(a),variant:"secondary",isGhost:!0,fullWidth:!0,size:r},l.a.createElement("div",{className:Pa.a.iconBtn},l.a.createElement(G.FontAwesomeIcon,{icon:Ja.faMobile}),l.a.createElement("span",null,Object(ie.a)("mobile.listings.detail.share.phone.button.label"))))}}]),n}(c.PureComponent),li=Object(Ea.a)((function(){return Object(ae.b)("f:listings.share.sendToPhone.mobile")}))(Object(r.connect)()(ci));function si(e){return(si="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ui(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function fi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function di(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pi(e,t){return(pi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function gi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=bi(e);if(t){var a=bi(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return mi(this,n)}}function mi(e,t){return!t||"object"!==si(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function bi(e){return(bi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var yi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pi(e,t)}(i,e);var t,n,r,a=gi(i);function i(){return fi(this,i),a.apply(this,arguments)}return t=i,r=[{key:"propTypes",get:function(){return{city:u.a.string.isRequired,closeShareListingPanel:u.a.func.isRequired,dealRatingLabel:u.a.string.isRequired,facebookShareUrl:u.a.string.isRequired,inventoryListingId:u.a.number.isRequired,isAuthenticated:u.a.bool.isRequired,isNew:u.a.bool.isRequired,isOpen:u.a.bool.isRequired,isSaved:u.a.bool.isRequired,listingTitle:u.a.string.isRequired,mileage:u.a.number.isRequired,saveListing:u.a.func.isRequired,shareVDP:u.a.func.isRequired,state:u.a.string.isRequired}}}],(n=[{key:"shouldComponentUpdate",value:function(e){e.shareVDP,e.closeShareListingPanel;var t=ui(e,["shareVDP","closeShareListingPanel"]),n=this.props,r=(n.shareVDP,n.closeShareListingPanel,ui(n,["shareVDP","closeShareListingPanel"]));return!Object(Z.a)(t,r)}},{key:"render",value:function(){var e=this.props,t=e.city,n=e.dealRatingLabel,r=e.inventoryListingId,a=e.isAuthenticated,i=e.closeShareListingPanel,o=e.isNew,c=e.isSaved,s=e.listingTitle,u=e.mileage,f=e.saveListing,d=e.shareVDP,p=e.state,g=e.isOpen,m=Object(ae.b)("f:listings.share.via.whatsapp")?"small":"defaultSize";return l.a.createElement("div",{className:Y()(Pa.a.shareListing,g?Pa.a.open:Pa.a.closed)},l.a.createElement("p",{className:Pa.a.label},Object(ie.a)("mobile.listings.detail.share.button.label"),l.a.createElement("span",{className:Pa.a.closePanel,onClick:i,role:"button",tabIndex:-1},"Ã")),l.a.createElement(Da,{city:t,dealRatingLabel:n,inventoryListingId:r,isNew:o,listingTitle:s,mileage:u,shareVDP:d,state:p,defaultSize:m}),Object(ae.b)("f:listings.share.via.whatsapp")&&l.a.createElement(Za,{inventoryListingId:r,isAuthenticated:a,isSaved:c,saveListing:f,shareVDP:d,listingTitle:s,defaultSize:m}),l.a.createElement(li,{inventoryListingId:r,isAuthenticated:a,isSaved:c,saveListing:f,shareVDP:d,listingTitle:s,defaultSize:m}),l.a.createElement(Ga,{facebookShareUrl:this.props.facebookShareUrl,inventoryListingId:r,isNew:o,shareVDP:d,defaultSize:m}))}}])&&di(t.prototype,n),r&&di(t,r),i}(c.Component),hi=Object(Oa.a)("#".concat("cargurus-listing-search__portals__vdp-share-panel"))(yi),vi=n(577),Oi=n(2330),Ei=n.n(Oi),wi=!1,ji=function(e){var t=e.isSaved,n=e.dealRating;return!t&&Object(J.a)("SAVE_BENEFITS_VDP")&&n.rank>=3?(wi||(Object(En.trackUiUsage)({uiObject:"mobile-save-banner-shown",uiElement:"VDP"}),wi=!0),l.a.createElement("div",{className:Ei.a.banner},l.a.createElement("div",{className:Ei.a.saveBold},Object(ie.a)("listings.overview.mobile.encourage_save.1")),l.a.createElement(G.FontAwesomeIcon,{className:Ei.a.icon,icon:vi.faHeart}),l.a.createElement("div",{className:Ei.a.save},Object(ie.a)("listings.overview.mobile.encourage_save.3")))):null};ji.propTypes={isSaved:u.a.bool.isRequired,dealRating:X.a.isRequired};var Si=ji,Pi=n(2331),ki=n.n(Pi);function Ii(e){return(Ii="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ri(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Li(e,t,n){return t&&Ri(e.prototype,t),n&&Ri(e,n),e}function Ci(e,t){return(Ci=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _i(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Di(e);if(t){var a=Di(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Ti(this,n)}}function Ti(e,t){return!t||"object"!==Ii(t)&&"function"!=typeof t?Ni(e):t}function Ni(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Di(e){return(Di=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var xi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ci(e,t)}(n,e);var t=_i(n);function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=t.call(this,e)).handleLinkClick=r.handleLinkClick.bind(Ni(r)),r.state={infoExpanded:!1},r}return Li(n,null,[{key:"propTypes",get:function(){return{inventoryListingId:u.a.number.isRequired,impressumDetails:u.a.string.isRequired,getImpressumDetails:u.a.func.isRequired}}}]),Li(n,[{key:"handleLinkClick",value:function(e){var t=this,n=this.props,r=n.inventoryListingId,a=n.impressumDetails,i=n.getImpressumDetails;e.preventDefault(),a?this.setState({infoExpanded:!this.state.infoExpanded}):i(r).then((function(){t.setState({infoExpanded:!t.state.infoExpanded})}))}},{key:"render",value:function(){var e=this.props.impressumDetails;return(l.a.createElement("div",{className:ki.a.dealerImpressum},l.a.createElement("a",{role:"button",tabIndex:"0",onClick:this.handleLinkClick,className:ki.a.link,"data-cg-ft":"vdp-impressum-link"},Object(ie.a)("listing.detail.impressum.link")),this.state.infoExpanded&&l.a.createElement("pre",{dangerouslySetInnerHTML:{__html:e},className:ki.a.description,"data-cg-ft":"vdp-impressum-box"})))}}]),n}(c.Component),Ai={getImpressumDetails:O.e},Fi=Object(r.connect)((function(e){return{impressumDetails:Object(N.f)(e)}}),Ai)(xi),qi=n(2332),Ui=n(2333),Vi=n.n(Ui),Mi=n(1469),Wi=n(23),Bi=n(65);function Gi(e){return(Gi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Hi(e,t,n){return t&&zi(e.prototype,t),n&&zi(e,n),e}function Yi(e,t){return(Yi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ki(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Qi(e);if(t){var a=Qi(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Zi(this,n)}}function Zi(e,t){return!t||"object"!==Gi(t)&&"function"!=typeof t?Ji(e):t}function Ji(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qi(e){return(Qi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Xi={browseToNextListingCreator:Mi.a,browseToPreviousListingCreator:Mi.b},$i=Object(r.connect)((function(e){return{currentIndex:Object(_.k)(e),listingCount:Object(C.c)(e),isFeatured:Object(D.d)(e),featuredPriorityListing:Object(Wi.l)(e),featuredListing:Object(Wi.i)(e),newCarFeaturedListings:Object(Bi.a)(e),listingId:Object(D.a)(e),highlightIndex:Object(Wi.a)(e)}}),Xi)(Object(On.withRouter)(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Yi(e,t)}(n,e);var t=Ki(n);function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=t.call(this,e)).gotoNextListing=r.gotoNextListing.bind(Ji(r)),r.gotoPreviousListing=r.gotoPreviousListing.bind(Ji(r)),r.handleNextListingKeyPress=r.handleNextListingKeyPress.bind(Ji(r)),r.handlePreviousListingKeyPress=r.handlePreviousListingKeyPress.bind(Ji(r)),r}return Hi(n,null,[{key:"propTypes",get:function(){return{componentPosition:u.a.string,isFeatured:u.a.bool.isRequired,listingCount:u.a.number,currentIndex:u.a.number,browseToNextListingCreator:u.a.func.isRequired,browseToPreviousListingCreator:u.a.func.isRequired,featuredPriorityListing:u.a.shape(),featuredListing:u.a.shape(),newCarFeaturedListings:W.a.listOf(u.a.shape()),listingId:u.a.number.isRequired,highlightIndex:u.a.number,history:u.a.shape({location:u.a.shape({state:u.a.shape({passedIndex:u.a.number})})}).isRequired}}},{key:"defaultProps",get:function(){return{componentPosition:"",currentIndex:null,listingCount:0,featuredPriorityListing:null,featuredListing:null,highlightIndex:-1,newCarFeaturedListings:null}}}]),Hi(n,[{key:"canShowPreviousButton",value:function(){var e=this.props,t=e.featuredPriorityListing,n=e.featuredListing,r=e.listingId,a=e.isFeatured,i=e.highlightIndex,o=e.currentIndex,c=e.newCarFeaturedListings;if(a&&c&&c.length){var l=c.findIndex((function(e){return e.id===r}));if(l>-1)return l>0}return a&&t?n&&r===n.id||-1!==i:a?-1!==i:o>0||0===o&&(!!n||!!t||!(!c||!c.length))}},{key:"handleNextListingKeyPress",value:function(e){return("keypress"!==e.type||"Enter"===e.key)&&this.gotoNextListing(e)}},{key:"handlePreviousListingKeyPress",value:function(e){return("keypress"!==e.type||"Enter"===e.key)&&this.gotoPreviousListing(e)}},{key:"gotoNextListing",value:function(e){var t="".concat(this.props.currentIndex+1,"-ARROW--NEXT");Object(je.c)({uiElement:"VDP_NAVIGATION_CLICK",uiObject:t}),Object(En.trackUiUsage)({uiElement:"VDP_NAVIGATION_CLICK",uiObject:t}),e.preventDefault(),this.props.browseToNextListingCreator()}},{key:"gotoPreviousListing",value:function(e){var t="".concat(this.props.currentIndex+1,"-ARROW--PREV");Object(je.c)({uiElement:"VDP_NAVIGATION_CLICK",uiObject:t}),Object(En.trackUiUsage)({uiElement:"VDP_NAVIGATION_CLICK",uiObject:t}),e.preventDefault(),this.props.browseToPreviousListingCreator()}},{key:"renderPreviousButton",value:function(){return l.a.createElement("div",{className:Y()(Vi.a.button,Vi.a.previous)},this.canShowPreviousButton()&&l.a.createElement("a",{role:"button",tabIndex:0,onClick:this.gotoPreviousListing,onKeyPress:this.handlePreviousListingKeyPress,"aria-label":Object(ie.a)("listing.detail.navigation.previous_listing")},l.a.createElement("span",{role:"presentation",className:Vi.a.leftTriangle},l.a.createElement(G.FontAwesomeIcon,{icon:qi.faTriangle}))))}},{key:"renderNextButton",value:function(){return l.a.createElement("div",{className:Y()(Vi.a.button,Vi.a.next)},(this.props.isFeatured||this.props.currentIndex<this.props.listingCount-1)&&l.a.createElement("a",{role:"button",tabIndex:0,onClick:this.gotoNextListing,onKeyPress:this.handleNextListingKeyPress,"aria-label":Object(ie.a)("listing.detail.navigation.next_listing")},l.a.createElement("span",{role:"presentation",className:Vi.a.rightTriangle},l.a.createElement(G.FontAwesomeIcon,{icon:qi.faTriangle}))))}},{key:"renderPosition",value:function(){var e=this.props,t=e.isFeatured,n=e.listingCount,r=e.currentIndex,a=t?Object(ie.a)("listings.overview.mobile.sponsored_listing.banner"):Object(ie.a)("listing.detail.navigation.header",r+1,n);return-1!==r||t?l.a.createElement("p",{className:Vi.a.position,dangerouslySetInnerHTML:{__html:a}}):l.a.createElement("p",{className:Vi.a.position})}},{key:"render",value:function(){return this.props.listingCount?l.a.createElement("div",{className:Y()(Vi.a.cgVdpListingNavigation,(e={},t=Vi.a.bottomNav,n="BOTTOM"===this.props.componentPosition,t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e)),"data-cg-ft":"vdp-listing-navigation"},this.renderPreviousButton(),this.renderPosition(),this.renderNextButton()):null;var e,t,n}}]),n}(c.PureComponent))),eo=n(2020),to=n(239),no=n(2023),ro=n(1472),ao=n(1473);function io(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:95;if(e&&e.current&&e.current.scrollIntoView&&(e.current.scrollIntoView(),t)){var n=t,r=window.scrollY;r&&window.scroll(0,r-n)}}var oo=n(1474),co=n.n(oo),lo=n(945),so=n(970),uo=n(43),fo=n(329),po=n(182),go=n(632),mo=n(98),bo=n(1132),yo=n(47),ho=n(679),vo=n.n(ho);function Oo(e){return(Oo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Eo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function So(e,t,n){return t&&jo(e.prototype,t),n&&jo(e,n),e}function Po(e,t){return(Po=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ko(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Lo(e);if(t){var a=Lo(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Io(this,n)}}function Io(e,t){return!t||"object"!==Oo(t)&&"function"!=typeof t?Ro(e):t}function Ro(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Lo(e){return(Lo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Co=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Po(e,t)}(n,e);var t=ko(n);function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=t.call(this,e)).state={hasReportedView:!1,textDisclaimerVisible:!1,dealerClickId:null},r.handleDisclaimerCancel=r.handleDisclaimerCancel.bind(Ro(r)),r.handleDisclaimerConfirm=r.handleDisclaimerConfirm.bind(Ro(r)),r.handleWhatsAppClick=r.handleWhatsAppClick.bind(Ro(r)),r}return So(n,null,[{key:"propTypes",get:function(){return{getLeadTrackingData:u.a.func.isRequired,trackLeadSubmissionEvent:u.a.func.isRequired,onClick:u.a.func,phoneNumberWA:u.a.string,supportsWhatsApp:u.a.bool,vehicleEntityName:u.a.string.isRequired,listing:u.a.instanceOf(po.a).isRequired,searchZip:u.a.string,isSellerPrivate:u.a.bool,adContext:u.a.object}}},{key:"defaultProps",get:function(){return{phoneNumberWA:null,onClick:function(){},supportsWhatsApp:!1,searchZip:"",isSellerPrivate:!1,adContext:{}}}}]),So(n,[{key:"canShowWhatsApp",value:function(){var e=this.props,t=e.phoneNumberWA,n=e.supportsWhatsApp;return t&&n}},{key:"handleSuccessfulClickIdRequest",value:function(e){var t=this.props,n=t.onClick,r=t.phoneNumberWA,a=t.vehicleEntityName,i=t.trackLeadSubmissionEvent,o=t.listing,c=t.searchZip,l=t.isSellerPrivate,s=t.adContext;i("whatsapp-lead-click"),lo.a.conversion(o,c,s,l);var u=Object(K.getWindow)().encodeURIComponent("".concat(Object(ie.a)("mobile.listings.detail.contact.whatsapp.body_with_entity",a,e)," "));n&&n();var f=r.replace(/\D/g,""),d="".concat(Ha.b,"/").concat(f,"?text=").concat(u);Object(K.getWindow)().location.href=d}},{key:"sendWhatsAppLeadTrack",value:function(){var e=this,t=this.props.getLeadTrackingData,n=fo.a.fromJS(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Eo(Object(n),!0).forEach((function(t){wo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Eo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({type:mo.a.WHATS_APP,postFlow:go.a.BASIC},t(!0)));Object(uo.B)(n).then((function(t){t.json().then((function(t){e.handleSuccessfulClickIdRequest(t.clickId)})).catch((function(e){yo.a.captureException(e)}))}))}},{key:"handleWhatsAppClick",value:function(){Object(je.c)({uiElement:"whatsAppButtonClicked"}),Object(En.trackUiUsage)({uiElement:"whatsAppButtonClicked"}),Object(ae.b)("f:classifier.callCenter.mobile.requireLegalDisclaimer")?this.handleDisclaimerOpen():this.sendWhatsAppLeadTrack()}},{key:"handleDisclaimerOpen",value:function(){this.setState({textDisclaimerVisible:!0})}},{key:"handleDisclaimerCancel",value:function(){this.setState({textDisclaimerVisible:!1}),Object(je.c)({uiElement:"ContactDealerFormWhatsAppDisclaimerClose"}),Object(En.trackUiUsage)({uiElement:"ContactDealerFormWhatsAppDisclaimerClose"})}},{key:"handleDisclaimerConfirm",value:function(){this.setState({textDisclaimerVisible:!1}),Object(je.c)({uiElement:"ContactDealerFormWhatsAppDisclaimerConfirm"}),Object(En.trackUiUsage)({uiElement:"ContactDealerFormWhatsAppDisclaimerConfirm"}),this.sendWhatsAppLeadTrack()}},{key:"render",value:function(){return this.canShowWhatsApp()?l.a.createElement(c.Fragment,null,l.a.createElement(jn.a,{onClick:this.handleWhatsAppClick,variant:"primary",isGhost:!0},l.a.createElement("div",{className:vo.a.iconBtn,ref:this.ref},l.a.createElement(G.FontAwesomeIcon,{icon:za.faWhatsapp,size:"lg"}),l.a.createElement("span",null,Object(ie.a)("mobile.listings.detail.contact.label.whatsapp")))),l.a.createElement(bo.a,{visible:this.state.textDisclaimerVisible,confirmCallback:this.handleDisclaimerConfirm,cancelCallback:this.handleDisclaimerCancel,confirmIcon:l.a.createElement(G.FontAwesomeIcon,{icon:za.faWhatsapp,size:"lg"}),type:"whatsApp"})):null}}]),n}(c.Component),_o=Object(r.connect)((function(e){var t=Object(R.a)(e),n=Object(N.b)(e),r=Object(x.s)(e),a=Object(R.e)(e),i=Object(Yt.a)(e);return{phoneNumberWA:t.get("phoneNumberWA"),supportsWhatsApp:t.get("supportsWhatsApp"),vehicleEntityName:n.vehicleEntityName,listing:n,searchZip:r,isSellerPrivate:a,adContext:i}}),(function(e){return{trackWhatsAppLead:function(t){return e(Object(v.l)(t))},trackLeadSubmissionEvent:function(t){return e(Object(so.a)(t))}}}))(Co),To=n(1475),No=n(666);function Do(e){return(Do="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ao(e,t,n){return t&&xo(e.prototype,t),n&&xo(e,n),e}function Fo(e,t){return(Fo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function qo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Mo(e);if(t){var a=Mo(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Uo(this,n)}}function Uo(e,t){return!t||"object"!==Do(t)&&"function"!=typeof t?Vo(e):t}function Vo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mo(e){return(Mo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Wo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Bo=i.d.EnvVariable,Go=i.d.getEnvVariable,zo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fo(e,t)}(n,e);var t=qo(n);function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),Wo(Vo(r=t.call(this,e)),"renderSmsContactButton",(function(){var e=r.props,t=e.getLeadTrackingData,n=e.inventoryListingId;return(l.a.createElement(ao.a,{getLeadTrackingData:t,inventoryListingId:n}))})),Wo(Vo(r),"renderSecondaryContactButton",(function(){var e=r.props,t=e.getLeadTrackingData,n=e.inventoryListingId;return(l.a.createElement(c.Fragment,null,Object(J.a)("FACEBOOK_LEADS_V3")&&l.a.createElement(To.a,{getLeadTrackingData:t,inventoryListingId:n}),l.a.createElement(_o,{getLeadTrackingData:t,inventoryListingId:n})))})),r.loadContactFormWithMakeOffer=Object(to.a)(r.loadContactFormWithMakeOffer.bind(Vo(r)),100),r.setContactFormNode=r.setContactFormNode.bind(Vo(r)),r.toggleForm=r.toggleForm.bind(Vo(r)),r.state={formCollapsed:r.props.initialCollapsedState||r.props.contacted,offerChecked:!1},r}return Ao(n,null,[{key:"scrollToContactForm",value:function(e){io(e)}},{key:"propTypes",get:function(){return{checkIncludeOffer:u.a.func.isRequired,contacted:u.a.bool,contactedDate:u.a.string,getLeadTrackingData:u.a.func.isRequired,initialCollapsedState:u.a.bool,inventoryListingId:u.a.number,isPrivateSeller:u.a.bool,languageTag:u.a.string,managedLeadDeliveryIsEnabled:u.a.bool.isRequired,setContactCenterNode:u.a.oneOfType([u.a.func,u.a.shape({current:u.a.instanceOf(Element)})]),sellerIsManagedLeadDelivery:u.a.bool}}},{key:"defaultProps",get:function(){return{contactedDate:null,contacted:!1,initialCollapsedState:!1,inventoryListingId:null,isPrivateSeller:!1,languageTag:Go(Bo.LANGUAGE_TAG),setContactCenterNode:null,sellerIsManagedLeadDelivery:!1}}}]),Ao(n,[{key:"shouldComponentUpdate",value:function(e,t){return!Object(Z.a)(t,this.state)||!Object(Z.a)(e,this.props)}},{key:"setContactFormNode",value:function(e){this.contactFormReference=e}},{key:"expandForm",value:function(){this.setState({formCollapsed:!1})}},{key:"loadContactFormWithMakeOffer",value:function(){this.props.checkIncludeOffer(),this.expandForm(),this.contactFormReference&&this.contactFormReference.scrollIntoView()}},{key:"toggleForm",value:function(){var e=this;this.setState({formCollapsed:!this.state.formCollapsed},(function(){Object(En.trackUiUsage)({uiObject:"contactFormToggle",uiElement:e.state.formCollapsed?"closed":"open"})}))}},{key:"toggleCallbackForm",value:function(){var e=this;this.setState({formCollapsed:!0},(function(){Object(En.trackUiUsage)({uiObject:"callbackFormToggle",uiElement:e.state.callbackFormCollapsed?"closed":"open"})}))}},{key:"renderDealerButtons",value:function(){var e=this.props.getLeadTrackingData;return(l.a.createElement(c.Fragment,null,l.a.createElement(ro.a,{getLeadTrackingData:e}),l.a.createElement("div",{className:co.a.splitButtonContainer},this.renderSmsContactButton(),this.renderSecondaryContactButton()),l.a.createElement(no.default,{formCollapsed:this.state.formCollapsed,toggleForm:this.toggleForm,setContactFormNode:this.setContactFormNode})))}},{key:"renderLastContactedDateString",value:function(){var e=this.props,t=e.contactedDate,n=e.contacted,r=e.languageTag,a=e.managedLeadDeliveryIsEnabled,i=e.sellerIsManagedLeadDelivery;if(!n)return null;var o=(t?new Date(Date.parse(t)):new Date).toLocaleString(r,{month:"numeric",day:"numeric",year:"numeric"}),s=Object(No.a)(i,a)?Object(ie.a)("listing.messaged_on",o):Object(ie.a)("mobile.listings.saved.contacted.on",o);return l.a.createElement(c.Fragment,null,n&&l.a.createElement("div",{className:Y()(co.a.lastContacted)},s))}},{key:"render",value:function(){var e=this.props,t=e.isPrivateSeller,n=e.setContactCenterNode;return(l.a.createElement("div",{className:co.a.cgVdpContactCenter,ref:n},t?l.a.createElement(no.default,{formCollapsed:this.state.formCollapsed,toggleForm:this.toggleForm,setContactFormNode:this.setContactFormNode}):this.renderDealerButtons(),this.renderLastContactedDateString()))}}]),n}(c.Component),Ho=n(1360),Yo=n(228),Ko=Object(r.connect)((function(e){return{isPrivateSeller:Object(R.e)(e),managedLeadDeliveryIsEnabled:e.getIn(["app","managedLeadDelivery"])||!1}}),(function(e){return{checkIncludeOffer:function(){return e(Object(Ho.a)(Yo.a.name))}}}))(zo),Zo=n(73),Jo=n(2339),Qo=n(2340),Xo=n(1641),$o=n(1399),ec=n(2341),tc=n(2342),nc=n(1361),rc=n(1327),ac=n(1642),ic=n(1643),oc=n(1362),cc=n(567),lc=n(94),sc=n(1344),uc=n.n(sc),fc=n(1412),dc=function(e){var t=e.seller,n=e.listing;return(l.a.createElement("div",{className:uc.a.centeredWrap},l.a.createElement(fc.a,{seller:t,listing:n})))};dc.propTypes={seller:u.a.instanceOf(lc.a).isRequired,listing:u.a.instanceOf(po.a).isRequired};var pc=dc,gc=n(1400),mc=n(1478),bc=n(2344),yc=n.n(bc),hc=function(e){var t=e.seller,n=t.facebookUrl,r=t.twitterUrl,a=t.websiteUrl,i=t.inventoryUrl,o=t.street,c=t.latitude,s=!(!o&&!c);return l.a.createElement("div",{className:yc.a.dealerFeatureIndicators},n&&l.a.createElement(G.FontAwesomeIcon,{icon:rc.faFacebookSquare,"data-track-ui":"facebook-icon",fixedWidth:!0}),r&&l.a.createElement(G.FontAwesomeIcon,{icon:nc.faTwitterSquare,"data-track-ui":"twitter-icon",fixedWidth:!0}),a&&l.a.createElement(G.FontAwesomeIcon,{icon:mc.faGlobe,"data-track-ui":"website-icon",fixedWidth:!0}),s&&l.a.createElement(G.FontAwesomeIcon,{icon:Xo.faMap,"data-track-ui":"map-icon",fixedWidth:!0}),i&&l.a.createElement(G.FontAwesomeIcon,{icon:gc.faCar,"data-track-ui":"inventory-icon",fixedWidth:!0}))};hc.propTypes={seller:u.a.instanceOf(lc.a).isRequired};var vc=hc,Oc=function(e){var t=e.seller,n=e.dealerName,r=e.dealerLogoUrl,a=Object(ie.a)("listings.detail.service_provider.image.dealer_name",{dealerName:n});return l.a.createElement("div",{className:uc.a.header},r&&l.a.createElement("div",{className:uc.a.logoWrap,"data-track-ui":"dealer-logo"},l.a.createElement("img",{src:r,alt:a,itemProp:"image",itemType:"http://schema.org/ImageObject"})),l.a.createElement("div",{className:uc.a.dealerNameAndFeaturesWrap},l.a.createElement("h3",{className:uc.a.dealerName,itemProp:"name","data-track-ui":"dealer-name"},n),l.a.createElement(vc,{seller:t})))};Oc.propTypes={seller:u.a.instanceOf(lc.a).isRequired,dealerName:u.a.string,dealerLogoUrl:u.a.string},Oc.defaultProps={dealerLogoUrl:null,dealerName:null};var Ec=Oc,wc=function(e){var t=e.currentDealerReviewsCount,n=e.dealerRating,r=1===t?Object(ie.a)("dealer.user_review.reviews.count.one"):Object(ie.a)("dealer.user_review.reviews.count.many",t);return+n>0&&l.a.createElement("div",{className:uc.a.avgRating,itemProp:"aggregateRating",itemScope:!0,itemType:"http://schema.org/AggregateRating","data-track-ui":"dealer-rating"},l.a.createElement("meta",{itemProp:"ratingCount",content:t}),l.a.createElement("meta",{itemProp:"ratingValue",content:n}),l.a.createElement("span",{className:uc.a.starsWrapper},l.a.createElement(lr.a,{rating:n,ratingValue:r,starSize:20})),l.a.createElement("span",{className:uc.a.reviewString},r))};wc.propTypes={currentDealerReviewsCount:u.a.number.isRequired,dealerRating:u.a.number.isRequired};var jc=wc,Sc=function(e){var t=e.currentDealerReviewsCount,n=e.dealerLogoUrl,r=e.dealerName,a=e.dealerRating,i=e.getLeadTrackingData,o=e.history,s=e.inventoryListingId,u=e.latitude,f=e.serviceProviderId,d=e.streetAddress,p=e.trackMapLead,g=e.seller,m=e.listing;Object(c.useEffect)((function(){Object(En.trackUiUsage)({uiElement:"show-mr-goodbar",spid:f})}),[f]);var b=function(e){var t=e.target&&e.target.closest("[data-track-ui]").dataset.trackUi;Object(En.trackUiUsage)({uiElement:"click-mr-goodbar",uiObject:t,spid:f}),o.push({pathname:Object(_n.p)({inventoryListingId:s}),state:{getLeadTrackingData:i,inventoryListingId:s,navigatedFromVDP:!0}})},y=!(!d&&!u);return l.a.createElement("div",{className:Y()(uc.a.cgDealerInfoSection,uc.a.cgBrandedDealerInfoSection),itemScope:!0,itemType:"http://schema.org/AutoDealer","data-cg-ft":"vdp-dealer-info-section"},Object(J.a)("VDP_DEALER_INFO_SECTION_MOBILE")?l.a.createElement("div",null,l.a.createElement("div",{className:uc.a.brandingPageLinkWrap,role:"button",onClick:b,"data-track-ui":"mr-goodbar-block",tabIndex:-1},l.a.createElement(Ec,{seller:g,dealerName:r,dealerLogoUrl:n})),l.a.createElement(jc,{currentDealerReviewsCount:t,dealerRating:a}),l.a.createElement(pc,{seller:g,listing:m})):l.a.createElement("div",{className:uc.a.brandingPageLinkWrap,role:"button",onClick:b,"data-track-ui":"mr-goodbar-block",tabIndex:-1},l.a.createElement(Ec,{seller:g,dealerName:r,dealerLogoUrl:n}),l.a.createElement(jc,{currentDealerReviewsCount:t,dealerRating:a}),l.a.createElement(pc,{seller:g,listing:m})),!Object(J.a)("VDP_DEALER_INFO_SECTION_MOBILE")&&l.a.createElement("div",{className:uc.a.actionButtons},l.a.createElement(jn.a,{"data-cg-ft":"vdp-dealer-contact-link",isGhost:!0,onClick:function(){Object(En.trackUiUsage)({uiElement:"contact-mr-goodbar",spid:f}),o.push({pathname:Object(_n.n)({inventoryListingId:s}),state:{getLeadTrackingData:i,navigatedFromVDP:!0}})},size:"small",tabIndex:-1,variant:"primary"},l.a.createElement(G.FontAwesomeIcon,{icon:wa.faEnvelope,fixedWidth:!0}),Object(ie.a)("listing.detail.mobile.dealer_info.button.contact")," "),y&&l.a.createElement(jn.a,{"data-cg-ft":"vdp-dealer-directions-link",isGhost:!0,onClick:p,size:"small",tabIndex:-1,variant:"primary"},l.a.createElement(G.FontAwesomeIcon,{icon:cc.faMapMarkerAlt,fixedWidth:!0}),Object(ie.a)("listing.detail.mobile.dealer_info.button.directions"))),Object(J.a)("VDP_DEALER_INFO_SECTION_MOBILE")&&l.a.createElement("div",{className:uc.a.dealerInfoButton},l.a.createElement(jn.a,{isGhost:!0,onClick:b,"data-track-ui":"mr-goodbar-block",tabIndex:-1,size:"small",variant:"primary"},Object(ie.a)("listing.detail.mobile.dealer_info.button.dealer_information"))))};Sc.propTypes={currentDealerReviewsCount:u.a.number,dealerLogoUrl:u.a.string,dealerName:u.a.string,dealerRating:u.a.number,getLeadTrackingData:u.a.func.isRequired,history:u.a.shape({push:u.a.func.isRequired}).isRequired,inventoryListingId:u.a.number,latitude:u.a.number,serviceProviderId:u.a.number,streetAddress:u.a.string,trackMapLead:u.a.func.isRequired,seller:u.a.instanceOf(lc.a).isRequired,listing:u.a.instanceOf(po.a).isRequired},Sc.defaultProps={currentDealerReviewsCount:0,dealerLogoUrl:null,dealerName:null,dealerRating:null,inventoryListingId:null,latitude:null,serviceProviderId:null,streetAddress:null};var Pc=Object(On.withRouter)(Sc);function kc(e){return(kc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ic(){return(Ic=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Rc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Lc(e,t,n){return t&&Rc(e.prototype,t),n&&Rc(e,n),e}function Cc(e,t){return(Cc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Dc(e);if(t){var a=Dc(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Tc(this,n)}}function Tc(e,t){return!t||"object"!==kc(t)&&"function"!=typeof t?Nc(e):t}function Nc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Dc(e){return(Dc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var xc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Cc(e,t)}(n,e);var t=_c(n);function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=t.call(this,e)).trackDealerInventoryClick=r.trackDealerInventoryClick.bind(Nc(r)),r.trackFacebookLead=r.trackFacebookLead.bind(Nc(r)),r.trackInstagramLead=r.trackInstagramLead.bind(Nc(r)),r.trackMapLead=r.trackMapLead.bind(Nc(r)),r.trackPhoneLead=r.trackPhoneLead.bind(Nc(r)),r.trackTwitterLead=r.trackTwitterLead.bind(Nc(r)),r.trackWebsiteLead=r.trackWebsiteLead.bind(Nc(r)),r}return Lc(n,null,[{key:"propTypes",get:function(){return{addressLines:u.a.arrayOf(u.a.string).isRequired,city:u.a.string,country:u.a.string,currentDealerReviewsCount:u.a.number,dealerLogoUrl:u.a.string,dealerName:u.a.string,dealerRating:u.a.number,dealerHours:u.a.shape({dayOfWeek:u.a.string,closingTime:u.a.string,isOpenToday:u.a.bool,openNow:u.a.bool,openTime:u.a.string,appointmentOnly:u.a.bool}),dealerHomePageUrl:u.a.string,dealerInventoryUrl:u.a.string,dealerPhone:u.a.string,dealerPhoneString:u.a.string,dealerWebsite:u.a.string,description:u.a.string,facebookUrl:u.a.string,getLeadTrackingData:u.a.func,instagramUrl:u.a.string,inventoryListingId:u.a.number,isBrandingPage:u.a.bool,latitude:u.a.number,longitude:u.a.number,onlineOnly:u.a.bool,pagePosition:u.a.number,postalCode:u.a.string,region:u.a.string,serviceProviderId:u.a.number,showTrackedPhone:u.a.bool,streetAddress:u.a.string,trackDealerInventoryClick:u.a.func.isRequired,trackLeadSubmissionEvent:u.a.func.isRequired,trackFacebookLead:u.a.func.isRequired,trackInstagramLead:u.a.func.isRequired,trackMapLead:u.a.func.isRequired,trackPhoneLead:u.a.func.isRequired,trackTwitterLead:u.a.func.isRequired,trackWebsiteLead:u.a.func.isRequired,twitterUrl:u.a.string,seller:u.a.instanceOf(lc.a).isRequired,listing:u.a.instanceOf(po.a).isRequired}}},{key:"defaultProps",get:function(){return{city:null,country:null,currentDealerReviewsCount:0,dealerHours:null,dealerHomePageUrl:null,dealerInventoryUrl:null,dealerLogoUrl:null,dealerName:null,dealerPhone:null,dealerPhoneString:null,dealerRating:null,dealerWebsite:null,description:null,facebookUrl:null,getLeadTrackingData:null,instagramUrl:null,inventoryListingId:null,isBrandingPage:!1,latitude:null,longitude:null,onlineOnly:null,pagePosition:0,postalCode:null,region:null,serviceProviderId:null,showTrackedPhone:!1,streetAddress:null,twitterUrl:null}}}]),Lc(n,[{key:"canShowPhysicalLocationDetails",value:function(){var e=this.props,t=e.onlineOnly,n=e.dealerHours;return!(t||n&&n.appointmentOnly)}},{key:"trackDealerInventoryClick",value:function(){this.props.trackDealerInventoryClick()}},{key:"trackMapLead",value:function(){var e=this.props.trackLeadSubmissionEvent;this.props.trackMapLead(),e("dealer-map-click")}},{key:"trackFacebookLead",value:function(){var e=this.props.trackLeadSubmissionEvent;this.props.trackFacebookLead(),e("dealer-facebook-click")}},{key:"trackInstagramLead",value:function(){var e=this.props.trackLeadSubmissionEvent;this.props.trackInstagramLead(),e("dealer-instagram-click")}},{key:"trackPhoneLead",value:function(){var e=this.props.trackLeadSubmissionEvent;this.props.trackPhoneLead(),e("phone-call-lead-click")}},{key:"trackTwitterLead",value:function(){var e=this.props.trackLeadSubmissionEvent;this.props.trackTwitterLead(),e("dealer-twitter-click")}},{key:"trackWebsiteLead",value:function(){var e=this.props.trackLeadSubmissionEvent;this.props.trackWebsiteLead(),e("dealer-website-click")}},{key:"render",value:function(){var e=this.props,t=e.addressLines,n=e.city,r=e.currentDealerReviewsCount,a=e.dealerHours,i=e.dealerHomePageUrl,o=e.dealerInventoryUrl,c=e.dealerLogoUrl,s=e.dealerName,u=e.dealerPhone,f=e.dealerPhoneString,d=e.dealerRating,p=e.dealerWebsite,g=e.facebookUrl,m=e.instagramUrl,b=e.isBrandingPage,y=e.latitude,h=e.onlineOnly,v=e.postalCode,O=e.region,E=e.showTrackedPhone,w=e.streetAddress,j=e.twitterUrl;if(b)return l.a.createElement(Pc,this.props);var S=s,P=Object(ie.a)("listings.detail.service_provider.info.url.title",s),k="tel:".concat(u),I=1===r?Object(ie.a)("dealer.user_review.reviews.count.one"):Object(ie.a)("dealer.user_review.reviews.count.many",r);return l.a.createElement("div",{className:uc.a.cgDealerInfoSection,itemScope:!0,itemType:"http://schema.org/AutoDealer","data-cg-ft":"vdp-dealer-info-section"},l.a.createElement("div",{className:uc.a.header},c&&l.a.createElement("img",{src:c,alt:s,itemProp:"image",itemType:"http://schema.org/ImageObject"}),l.a.createElement("h3",{itemProp:"name"},l.a.createElement("a",{itemProp:"url",href:i,onClick:this.trackDealerInventoryClick,title:P,"data-cg-ft":"vdp-dealer-homepage-link"},S))),+d>0&&l.a.createElement("div",{className:uc.a.avgRating,itemProp:"aggregateRating",itemScope:!0,itemType:"http://schema.org/AggregateRating"},l.a.createElement("meta",{itemProp:"ratingCount",content:r}),l.a.createElement("meta",{itemProp:"ratingValue",content:d}),l.a.createElement("span",{className:uc.a.starsWrapper},l.a.createElement(lr.a,{rating:d,ratingValue:I,starSize:20})),l.a.createElement("span",{className:uc.a.reviewString},I)),l.a.createElement("div",{className:uc.a.hoursAndAddress},a&&l.a.createElement("div",{className:uc.a.hours},l.a.createElement(G.FontAwesomeIcon,{icon:Qo.faClock,fixedWidth:!0})," ",l.a.createElement(ic.a,Ic({},a,{onlineOnly:h,fixedWidth:!0}))),this.canShowPhysicalLocationDetails()&&l.a.createElement("div",{className:uc.a.address},l.a.createElement(G.FontAwesomeIcon,{icon:Jo.faHome,fixedWidth:!0}),l.a.createElement("div",{className:Y()(uc.a.address,uc.a.text)},l.a.createElement(oc.a,{addressLines:t}),l.a.createElement("span",{"aria-hidden":!0,className:uc.a.hidden,itemProp:"address",itemScope:!0,itemType:"http://schema.org/PostalAddress"},l.a.createElement("meta",{itemProp:"streetAddress",content:w}),l.a.createElement("meta",{itemProp:"addressLocality",content:n}),l.a.createElement("meta",{itemProp:"addressRegion",content:O}),l.a.createElement("meta",{itemProp:"postalCode",content:v}))))),this.canShowPhysicalLocationDetails()&&(w||y)&&l.a.createElement("div",{className:uc.a.row},l.a.createElement("a",{role:"link",tabIndex:-1,onClick:this.trackMapLead},l.a.createElement(G.FontAwesomeIcon,{icon:Xo.faMap,fixedWidth:!0}),Object(ie.a)("listings.detail.service_provider.info.map_directions.link"))),E&&f&&l.a.createElement("div",{className:uc.a.row,itemProp:"telephone"},l.a.createElement("a",{href:k,onClick:this.trackPhoneLead,"data-cg-ft":"vdp-dealer-phone-link"},l.a.createElement(G.FontAwesomeIcon,{icon:$o.faPhone,flip:"horizontal",fixedWidth:!0}),Object(ie.a)("mobile.listings.detail.contact.label.call")," ",f)),l.a.createElement("div",{className:uc.a.row},l.a.createElement("a",{href:o,onClick:this.trackDealerInventoryClick,"data-cg-ft":"vdp-dealer-inventory-link"},l.a.createElement(G.FontAwesomeIcon,{icon:ec.faSearch,fixedWidth:!0}),Object(ie.a)("listings.detail.service_provider.inventory.link"))),l.a.createElement("div",{className:Y()(uc.a.row,uc.a.rowFlex)},l.a.createElement("div",{className:uc.a.dealerWebsiteLink},p&&l.a.createElement(cr.a,{onClick:this.trackWebsiteLead},l.a.createElement("a",{href:p,target:"_blank",rel:"noopener"},l.a.createElement(G.FontAwesomeIcon,{icon:tc.faGlobeAmericas,fixedWidth:!0}),Object(ie.a)("mobile.listings.detail.dealer.website.text")))),!!(g||j||m)&&l.a.createElement("div",{className:uc.a.socialMediaLinks},g&&l.a.createElement(cr.a,{onClick:this.trackFacebookLead},l.a.createElement("a",{href:g,target:"_blank",className:uc.a.facebook,"data-cg-ft":"vdp-dealer-facebook-link","aria-label":Object(ie.a)("listings.detail.fb.link")},l.a.createElement(G.FontAwesomeIcon,{icon:rc.faFacebookSquare,fixedWidth:!0}))),j&&l.a.createElement(cr.a,{onClick:this.trackTwitterLead},l.a.createElement("a",{href:j,target:"_blank",className:uc.a.twitter,"data-cg-ft":"vdp-dealer-twitter-link","aria-label":Object(ie.a)("listings.detail.twitter.link")},l.a.createElement(G.FontAwesomeIcon,{icon:nc.faTwitterSquare,fixedWidth:!0}))),m&&l.a.createElement(cr.a,{onClick:this.trackInstagramLead},l.a.createElement("a",{href:m,target:"_blank",className:uc.a.instagram,"data-cg-ft":"vdp-dealer-instagram-link","aria-label":Object(ie.a)("listings.detail.instagram.link")},l.a.createElement(G.FontAwesomeIcon,{icon:ac.faInstagram,fixedWidth:!0}))))))}}]),n}(c.Component),Ac=n(71);function Fc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fc(Object(n),!0).forEach((function(t){Uc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Uc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Vc={trackInstagramLead:v.e,trackTwitterLead:v.j,trackFacebookLead:v.d,trackWebsiteLead:v.k,trackMapLead:v.g,trackPhoneLead:v.h,trackDealerInventoryClick:Ac.i,trackLeadSubmissionEvent:so.a},Mc=Object(r.connect)((function(e,t){var n=Object(R.a)(e),r=Object(N.b)(e);return{addressLines:n.get("addressLines"),canShowNationwideShipping:Object(N.a)(e),city:n.get("city"),country:n.get("country"),currentDealerReviewsCount:Object(L.a)(e),dealerHours:n.get("hours"),dealerHomePageUrl:n.get("homePageUrl"),dealerInventoryUrl:n.get("inventoryUrl"),dealerLogoHeight:n.get("logoHeight"),dealerLogoUrl:n.get("logoUrl"),dealerLogoWidth:n.get("logoWidth"),dealerName:n.get("name"),dealerPhone:n.get("phoneNumber"),dealerPhoneString:n.get("phoneNumberString"),dealerRating:n.get("averageRating"),dealerWebsite:r.get("websiteUrl"),distance:r.get("distance"),inventoryListingId:t.inventoryListingId,inclusionType:r.inclusionType,isBrandingPage:n.get("isBrandingPage"),facebookUrl:n.get("facebookUrl"),latitude:n.get("latitude"),longitude:n.get("longitude"),onlineOnly:n.get("onlineOnly"),pagePosition:Object(_.k)(e),postalCode:n.get("postalCode"),region:n.get("region"),sellerCityRegion:n.get("cityRegion"),serviceHours:n.get("serviceHours"),serviceProviderId:n.get("serviceProviderId"),streetAddress:n.get("street"),twitterUrl:n.get("twitterUrl"),instagramUrl:n.get("instagramUrl"),searchType:Object(x.y)(e)?V.a.USED:V.a.NEW,showTrackedPhone:r.get("showTrackedPhone"),seller:n,listing:r}}),Vc,(function(e,t,n){var r,a,o,c,l,s=n.dealerName,u=n.inventoryListingId,f=e.serviceProviderId,d=e.pagePosition,p=e.inclusionType,g=e.searchType,m=n.isFeatured,b=n.featuredType,y=i.d.EnvVariable,h=i.d.getEnvVariable(y.DEVICE_OS),v=i.d.getEnvVariable(i.d.EnvVariable.COUNTRY_CODE),O=Object(Zo.c)(v).getRegionalAddress,E=encodeURI((a=(r=e).streetAddress,o=r.city,c=r.postalCode,l=r.region,O(a,o,l,c))),w="IOS"===h?"maps:q=".concat(s,"&daddr=").concat(E):"https://maps.google.com/maps?daddr=".concat(E),j={serviceProviderId:f,inventoryListingId:u,pagePosition:d,isFeatured:m,inclusionType:p,searchType:g,featuredType:b};return qc(qc({},e),{},{getLeadTrackingData:n.getLeadTrackingData,trackInstagramLead:function(){return t.trackInstagramLead(j)},trackTwitterLead:function(){return t.trackTwitterLead(j)},trackFacebookLead:function(){return t.trackFacebookLead(j)},trackWebsiteLead:function(){return t.trackWebsiteLead(j)},trackMapLead:function(){return t.trackMapLead(qc(qc({},j),{},{redirectUrl:w}))},trackPhoneLead:function(){return t.trackPhoneLead(qc(qc({},j),{},{forceSend:!0}))},trackDealerInventoryClick:function(){return t.trackDealerInventoryClick("dealer-inventory-click")},trackLeadSubmissionEvent:t.trackLeadSubmissionEvent})}))(xc),Wc=n(1524),Bc=n(2019),Gc=n(672),zc=n(2058),Hc=n(2356),Yc=n.n(Hc);function Kc(e){var t=e.hasVerifiedID,n=e.profilePhotoUrl,r=e.sellerCityRegion,a=e.sellerFirstName,i=e.sellerJoinDate,o=e.sellerScreenName;return(l.a.createElement("div",{className:Yc.a.privateSellerInfo},l.a.createElement("div",{className:Yc.a.avatar},l.a.createElement(Gc.a,{src:n})),l.a.createElement("div",{className:Yc.a.about},l.a.createElement("h3",{className:Yc.a.header},Object(ie.a)("private_listings.private-seller-info.header")),l.a.createElement("p",{className:Yc.a.name},a||o," ",l.a.createElement(zc.a,null)),l.a.createElement("p",{className:Yc.a.details},r&&l.a.createElement("span",null,r),i&&r&&l.a.createElement("span",null,"Â |Â "),i&&l.a.createElement("span",null,"Joined ",new Date(i).toLocaleDateString("en-US",{month:"short",year:"numeric"}))),t&&l.a.createElement("p",{className:Yc.a.verifiedTagline},l.a.createElement("img",{alt:"User verified badge",src:"/gfx/p2p/verifiedUserBadge.svg"}),"Seller has provided a valid ID"))))}Kc.defaultProps={sellerFirstName:null,profilePhotoUrl:null,hasVerifiedID:!1},Kc.propTypes={hasVerifiedID:u.a.bool,profilePhotoUrl:u.a.string,sellerCityRegion:u.a.string.isRequired,sellerFirstName:u.a.string,sellerJoinDate:u.a.number.isRequired,sellerScreenName:u.a.string.isRequired};var Zc=n(2357),Jc=n.n(Zc);function Qc(e){return(Qc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function el(e,t){return(el=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function tl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=rl(e);if(t){var a=rl(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return nl(this,n)}}function nl(e,t){return!t||"object"!==Qc(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function rl(e){return(rl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var al=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&el(e,t)}(i,e);var t,n,r,a=tl(i);function i(){return Xc(this,i),a.apply(this,arguments)}return t=i,r=[{key:"propTypes",get:function(){return{hasVerifiedID:u.a.bool,sellerFirstName:u.a.string,sellerScreenName:u.a.string.isRequired,sellerJoinDate:u.a.number.isRequired,sellerCityRegion:u.a.string.isRequired,profilePhotoUrl:u.a.string}}},{key:"defaultProps",get:function(){return{hasVerifiedID:!1,sellerFirstName:null,profilePhotoUrl:null}}}],(n=[{key:"render",value:function(){var e=this.props,t=e.hasVerifiedID,n=e.sellerFirstName,r=e.sellerScreenName,a=e.sellerJoinDate,i=e.sellerCityRegion,o=e.profilePhotoUrl;return(l.a.createElement("div",{className:Jc.a.privateSellerInfoSection},l.a.createElement(Kc,{hasVerifiedID:t,sellerFirstName:n,sellerScreenName:r,sellerJoinDate:a,sellerCityRegion:i,profilePhotoUrl:o})))}}])&&$c(t.prototype,n),r&&$c(t,r),i}(c.PureComponent),il=Object(r.connect)((function(e){var t=Object(R.a)(e),n=Object(N.b)(e);return{hasVerifiedID:t.get("hasVerifiedID"),profilePhotoUrl:t.get("profilePhotoUrl"),sellerFirstName:t.get("first"),sellerScreenName:t.get("screenname"),sellerJoinDate:t.get("creation"),sellerCityRegion:t.get("cityRegion"),sellerId:t.get("sellerId"),inventoryListingId:n.get("id")}}))(al),ol=n(852),cl=n(2358),ll=n(2359),sl=n.n(ll),ul=function(e){var t=e.handleOnClick;return(l.a.createElement("div",{className:sl.a.shareListingButton},l.a.createElement(ol.a,{ariaLabel:Object(ie.a)("mobile.listings.detail.share.button.label"),onClick:t,"data-cg-ft":"listing-result-share-btn",screenReaderLabel:Object(ie.a)("listings.detail.share.share_listing.link.default"),buttonName:Object(ie.a)("listings.detail.share.share_listing.link.default")},l.a.createElement(G.FontAwesomeIcon,{icon:cl.faShareAlt}))))};ul.propTypes={handleOnClick:u.a.func.isRequired};var fl=ul,dl=Object(r.connect)()(fl),pl=n(942),gl=n(119),ml=n(667),bl=n(558),yl=n(120),hl=n(324),vl=n(1480),Ol=n(1612),El=n(1613),wl=n.n(El);function jl(e){return(jl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Sl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sl(Object(n),!0).forEach((function(t){kl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function kl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Il(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Rl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ll(e,t,n){return t&&Rl(e.prototype,t),n&&Rl(e,n),e}function Cl(e,t){return(Cl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Dl(e);if(t){var a=Dl(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Tl(this,n)}}function Tl(e,t){return!t||"object"!==jl(t)&&"function"!=typeof t?Nl(e):t}function Nl(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Dl(e){return(Dl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var xl=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Cl(e,t)}(n,e);var t=_l(n);function n(e,r){var a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(a=t.call(this,e,r)).formSubmit=a.formSubmit.bind(Nl(a)),a.handleEmailChange=a.handleEmailChange.bind(Nl(a)),a.subscribe=a.subscribe.bind(Nl(a)),a.state={email:Object(J.a)("EMAIL_AUTOFILL")&&e.userEmail?e.userEmail:"",formHasErrors:!1},a}return Ll(n,null,[{key:"propTypes",get:function(){return{subscribe:u.a.func.isRequired,addToast:u.a.func.isRequired,userIsAuthenticated:u.a.bool.isRequired,userEmail:u.a.string}}},{key:"defaultProps",get:function(){return{userEmail:""}}}]),Ll(n,[{key:"shouldComponentUpdate",value:function(e,t){e.subscribe,e.addToast;var n=Il(e,["subscribe","addToast"]),r=this.props,a=(r.subscribe,r.addToast,Il(r,["subscribe","addToast"]));return!Object(Z.a)(this.state,t)||!Object(Z.a)(n,a)}},{key:"handleEmailChange",value:function(e){this.setState({email:e.target.value,formHasErrors:!1})}},{key:"isFormValid",value:function(){return Object(vl.a)(this.state.email)}},{key:"subscribe",value:function(e){var t=this,n=this.props.subscribe,r={subscriptionSource:hl.c};return n(Pl(Pl({},e),r)).then(null,(function(){t.setState({formHasErrors:!0})}))}},{key:"formSubmit",value:function(e){e.preventDefault();var t=this.props,n=t.userEmail,r=t.addToast;if(n||this.isFormValid()){var a=n||this.state.email;this.subscribe({email:a})}else r({message:Object(ie.a)("common.form.validation.error.email.invalid"),type:yl.a}),this.setState({formHasErrors:!0})}},{key:"renderEmailInput",value:function(){return this.props.userEmail?null:l.a.createElement(c.Fragment,null,l.a.createElement("input",{className:Y()(wl.a.input,this.state.formHasErrors&&wl.a.invalid),placeholder:Object(ie.a)("common.form.label.your.email"),onInput:this.handleEmailChange,defaultValue:this.state.email,"aria-label":Object(ie.a)("common.form.label.your.email")}))}},{key:"renderPrivacyPolicy",value:function(){return this.props.userIsAuthenticated?null:l.a.createElement(Ol.a,null)}},{key:"renderSubscribeButtons",value:function(){var e=Object(ie.a)("listings.overview.newsletter.submit.button"),t=Object(ie.a)("listings.used.lead.success.subscribe.message");return(Object(J.a)("NOTIFY_ME_MOBILE")||Object(J.a)("NOTIFY_ME_MOBILE_2"))&&(e=Object(ie.a)("listings.overview.newsletter.submit.button.emailme")),Object(J.a)("NOTIFY_ME_MOBILE")&&(t=Object(ie.a)("listings.detail.newsletter.callout.main.email_me")),Object(J.a)("NOTIFY_ME_MOBILE_2")&&(t=Object(ie.a)("listings.detail.newsletter.callout.main.email_me.2")),l.a.createElement("form",{onSubmit:this.formSubmit},l.a.createElement("label",{htmlFor:"vehicle-details-subscription",dangerouslySetInnerHTML:{__html:t}}),this.renderEmailInput(),l.a.createElement("div",{className:wl.a.buttonRow},l.a.createElement(jn.a,{onClick:this.formSubmit,variant:"primary",fullWidth:!0},l.a.createElement("div",{className:wl.a.iconBtn},l.a.createElement(G.FontAwesomeIcon,{icon:wa.faEnvelope}),l.a.createElement("span",null,e))),this.renderPrivacyPolicy()))}},{key:"render",value:function(){return l.a.createElement("div",{className:wl.a.vdpSubscribe},this.renderSubscribeButtons())}}]),n}(c.Component),Al=Object(r.connect)((function(e){return{userIsAuthenticated:Object(A.k)(e),userEmail:Object(J.a)("EMAIL_AUTOFILL")?Object(A.b)(e)||Object(bl.b)(e):Object(A.b)(e)}}),(function(e){return{subscribe:function(t){return e(Object(pl.b)(t))},addToast:gl.a,addSubscribeModal:ml.a}}))(xl),Fl=n(2053),ql=n(1647),Ul=n.n(ql),Vl=n(859),Ml=n(860),Wl=n(663),Bl=function(e){var t=e.title,n=e.price,r=e.rating,a=e.image,i=e.listingId,o=e.onClick,c=e.showMissingImage;return(l.a.createElement("div",{className:Ul.a.cardWrap},l.a.createElement(Vl.a,null,l.a.createElement(On.Link,{to:Object(_n.e)({inventoryListingId:i}),onClick:o},l.a.createElement("div",{style:{backgroundImage:"url(".concat(a,")")},className:Ul.a.cardImg},c&&Object(ie.a)("email.common.image.alt.not_available")),l.a.createElement(Ml.a,null,l.a.createElement("div",{className:Ul.a.info},l.a.createElement("h3",{className:Ul.a.title},t),l.a.createElement("h2",null,n),l.a.createElement(Wl.a,{rating:r.className,label:r.labelUppercase})))))))};Bl.propTypes={title:u.a.string.isRequired,price:u.a.string,rating:X.a,image:u.a.string,listingId:u.a.number.isRequired,onClick:u.a.func,showMissingImage:u.a.bool},Bl.defaultProps={price:null,rating:null,image:null,onClick:function(){},showMissingImage:!1};var Gl=Bl,zl=function(e){return e.map((function(e,t){var n=Object(o.b)(e.get("dealRating")),r=e.get("priceString")?e.get("priceString"):Object(ie.a)("common.listings.detail.price.no_price_listed"),a=e.get("mainPictureUrl")?e.get("mainPictureUrl"):"/gfx/cg/no-listing-image-available.jpg",i=!e.get("mainPictureUrl"),c=e.get("id"),s="carousel-card-".concat(c),u=function(e,t){return window.snowplow?function(){window.snowplow("trackStructEvent","VDP","shop-similar-click",e,t)}:function(){}}(c,t);return l.a.createElement(Gl,{key:s,listingId:c,title:e.get("listingTitle"),rating:n,price:r,image:a,showMissingImage:i,onClick:u})}))},Hl=function(e){var t=e.listings;return(l.a.createElement(c.Fragment,null,!!t.size&&l.a.createElement("h2",null,Object(ie.a)("listings.vdp.navigation_carousel.title")),l.a.createElement("div",{className:Ul.a.navigationCarousel},zl(t))))},Yl=n(1648),Kl=n(1649),Zl=n(1651),Jl=function(e){var t=e.listing,n=e.seller,r=t.price,a=t.priceHistoryBreakdown,i=n.isTexasDealer,o=n.isManagedLeadDelivery,c=Object(Kl.b)({listingPrice:r,priceHistoryBreakdown:a}),s=Object(Kl.c)(c),u=Object(Yl.b)(s,i,c);return l.a.createElement(bn.a,{"data-cg-ft":"vdp-negotiation",headerText:Object(ie.a)("listings.vdp.collapsible.negotiation.header"),sectionName:hn.a.NEGOTIATION,subheader:u},l.a.createElement(Zl.a,{inventoryListingId:t.id,price:t.price,sellerIsManagedLeadDelivery:o,hideHeader:!0}))};Jl.propTypes={listing:u.a.instanceOf(po.a).isRequired,seller:u.a.instanceOf(lc.a).isRequired};var Ql=Jl,Xl=n(2031),$l=function(e){var t=e.listing;return(l.a.createElement(bn.a,{"data-cg-ft":"vdp-mileage-analysis",headerText:Object(ie.a)("common.listings.details.mileage_analysis"),sectionName:hn.a.MILEAGE_ANALYSIS},l.a.createElement(Xl.a,{mileageString:t.mileageString,mileage:t.mileage,year:t.year,hideHeader:!0})))};$l.propTypes={listing:u.a.instanceOf(po.a).isRequired};var es=$l,ts=n(1652),ns=n(1653),rs=function(e){var t=e.listing,n=t.newCarPricingDto;return function(e){var t=e||{},n=t.newCarPricingDto,r=t.isNew,a=!!n&&!!n.fairPriceCutoff,i=!!n&&!!n.incentiveCashbackIncluded;return r&&(a||i)}(t)?l.a.createElement(bn.a,{headerText:Object(ie.a)("listings.vdp.price_analysis_collapsible.header"),sectionName:hn.a.PRICE_ANALYSIS,subheader:Object(ie.a)("listings.vdp.collapsible.price_analysis.new_car")},l.a.createElement(ns.a,{hideHeader:!0,listing:t}),l.a.createElement(ts.a,{newCarPricingDto:n})):null};rs.propTypes={listing:u.a.instanceOf(po.a).isRequired};var as=rs,is=n(2033),os=n(1482),cs=io,ls=function(e){var t=e.averageRating,n=e.currentReviewCount,r=e.inventoryListingId,a=e.startOpen,i=Object(os.b)(t,n);return l.a.createElement(bn.a,{headerText:Object(ie.a)("listings.vdp.collapsible.reviews.header"),sectionName:hn.a.REVIEWS,startOpen:a,subheader:i},l.a.createElement(is.a,{inventoryListingId:r,hideTitle:!0}))};ls.propTypes={averageRating:u.a.number,currentReviewCount:u.a.number,inventoryListingId:u.a.number,startOpen:u.a.bool},ls.defaultProps={averageRating:null,currentReviewCount:null,inventoryListingId:null,startOpen:!1};var ss=ls,us=cs,fs=Object(r.connect)((function(e){var t=Object(R.a)(e),n=Object(L.b)(e)||[];return{averageRating:t.averageRating,currentReviewCount:n.length}}))(ss),ds=n(1662),ps=n(1343),gs=n(2377),ms=n.n(gs);function bs(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ys(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ys(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ys(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var hs=function(e){var t=bs(e.description.split("[!@@Additional Info@@!]"),1),n=bs(t[0].split("[!@@ NL @@!]"),1)[0];return l.a.createElement("div",{className:ms.a.description},[n].map(Object(ps.a)("description",{useDangerousInnerHtml:!0},{ALLOWED_TAGS:["#text"]})))};hs.propTypes={description:u.a.string},hs.defaultProps={description:""};var vs=hs,Os=function(e){var t=e.listing.description;return t?l.a.createElement(bn.a,{headerText:Object(ie.a)("listings.vdp.collapsible.details.header"),sectionName:hn.a.DETAILS,subheader:l.a.createElement(vs,{description:t})},l.a.createElement(ds.a,{description:t,showDescriptionHeading:!1})):null};Os.propTypes={listing:u.a.instanceOf(po.a)},Os.defaultProps={listing:{}};var Es=Os,ws=n(67),js=n(1663),Ss=function(e){var t=e.listing||{},n=t.deliveryTitle,r=t.inclusionType,a=t.isNationwideShipperDealer,i=r===ws.b.NATIONWIDE_SHIPPING&&a;return i&&n?l.a.createElement(bn.a,{headerText:Object(ie.a)("listings.vdp.delivery_collapsible.header"),sectionName:hn.a.DELIVERY,subheader:n},l.a.createElement(js.a,{isCollapsible:!0,canShowNationwideShipping:i,deliveryTitle:n})):null};Ss.propTypes={listing:u.a.instanceOf(po.a)},Ss.defaultProps={listing:null};var Ps=Ss,ks=n(1522),Is=n(1402),Rs=n.n(Is),Ls=n(2381),Cs=n.n(Ls),_s=n(2037),Ts=function(e){var t=e.listing,n=t.vehicleEntityName,r=t.reviewSummary,a=t.carId;if(!r)return null;if(!r.starRating&&!r.overallScore)return null;var i,o,c,s="overallScore"in r,u=Object(ie.a)("listings.vdp.review_summary.title",n),f=s?Object(ie.a)("listings.vdp.review_summary.score",r.overallScore,10):(o=(i=r).starRating,1===(c=i.reviewCount)?Object(ie.a)("listings.vdp.review_summary.star_count.singular",o,5):Object(ie.a)("listings.vdp.review_summary.star_count",o,5,c));return l.a.createElement(bn.a,{headerText:u,sectionName:hn.a.REVIEW_SUMMARY,subheader:f},s&&l.a.createElement("div",{className:Cs.a.summaryDetails},l.a.createElement("h3",{className:Rs.a.header4},Object(ie.a)("listings.vdp.review_summary.overview")),l.a.createElement("p",null,r.reviewLeadIn)),!s&&l.a.createElement("div",{className:Cs.a.summaryDetails},l.a.createElement("h3",{className:Rs.a.header4},Object(ie.a)("listings.vdp.review_summary.thegood")),l.a.createElement("p",null,r.theGood),l.a.createElement("h3",{className:Rs.a.header4},Object(ie.a)("listings.vdp.review_summary.thebad")),l.a.createElement("p",null,r.theBad)),l.a.createElement(_s.a,{vehicleEntityName:n,carId:a}))};Ts.propTypes={listing:u.a.instanceOf(po.a).isRequired};var Ns=Ts,Ds=n(2386),xs=n.n(Ds),As=n(827),Fs=n(2054),qs=n(2055),Us=n(1665),Vs=n(660),Ms=n(1074),Ws=n(1666),Bs=n(1345),Gs=n(1396),zs=function(){var e=Object(K.getWindow)(),t=e.innerHeight||0,n=e.innerWidth||0;return t>n?{height:"100%",width:"".concat(n,"px")}:{height:"".concat(t,"px"),width:"100%"}},Hs=n(2394),Ys=n.n(Hs);function Ks(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Zs(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Zs(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zs(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Js=function(e){var t=e.onClose,n=e.showModal,r=e.spinCarUrl,a=Ks(Object(c.useState)(zs),2),i=a[0],o=a[1],s=Ks(Object(Vs.a)(!0),4),u=s[0],f=(s[1],s[2]),d=s[3];function p(){o(zs)}return Object(c.useEffect)((function(){return Object(K.getWindow)().addEventListener("resize",p),function(){Object(K.getWindow)().removeEventListener("resize",p)}}),[]),Object(c.useEffect)((function(){n||f()}),[n,f]),l.a.createElement(Ms.b,{show:n},l.a.createElement(Bs.a,{loading:u}),l.a.createElement("button",{className:Ys.a.close,onClick:t},l.a.createElement(G.FontAwesomeIcon,{icon:Ws.faArrowLeft}),l.a.createElement("span",{className:Ys.a.backText},Object(ie.a)("common.back"))),l.a.createElement(Gs.a,{customClass:Ys.a.spin,inlineStyles:i,onLoad:d,spinCarUrl:r}))};Js.propTypes={onClose:u.a.func,showModal:u.a.bool,spinCarUrl:u.a.string},Js.defaultProps={onClose:null,showModal:!1,spinCarUrl:null};var Qs=Js;function Xs(){return(Xs=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function $s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return eu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eu(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function tu(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var nu=function(e){var t=e.vin,n=tu(e,["vin"]),r=Object(Us.a)(t).spinCarUrl,a=$s(Object(Vs.a)(!1),2),i=a[0],o=a[1];return Object(c.useEffect)((function(){i&&Object(En.trackUiUsage)({uiElement:"vdpSpinCarCallout",uiObject:"clicked"})}),[i]),l.a.createElement(c.Fragment,null,l.a.createElement(Fe.a,Xs({spinCarUrl:r,spinModalIsOpen:i,toggleSpinModal:o},n)),!!r&&l.a.createElement(Qs,{onClose:o,showModal:i,spinCarUrl:r}))};nu.propTypes={vin:u.a.string},nu.defaultProps={vin:null};var ru=nu,au=n(2047),iu=n(1667),ou=function(){var e=Object(K.getWindow)().innerWidth||0,t=e?9*e/16:0;return{width:"".concat(e,"px"),height:"".concat(t,"px")}},cu=n(2396),lu=n.n(cu);function su(){return(su=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function uu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return fu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fu(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function du(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var pu=function(e){var t=e.vin,n=du(e,["vin"]),r=Object(iu.a)(),a=r.hasSpin,i=r.spinDivWatcherRef,o=uu(Object(Vs.a)(!1),2),s=o[0],u=o[1],f=uu(Object(c.useState)(ou()),2),d=f[0],p=f[1];function g(){p(ou())}Object(c.useEffect)((function(){return Object(K.getWindow)().addEventListener("resize",g),function(){Object(K.getWindow)().removeEventListener("resize",g)}}),[]),Object(c.useEffect)((function(){s&&Object(En.trackUiUsage)({uiElement:"vdpInstavid360Callout",uiObject:"clicked"})}),[s]);var m=l.a.createElement(au.a,{hidden:!a||!s,ref:i,vin:t,containerStyles:d});return(l.a.createElement(c.Fragment,null,l.a.createElement(Fe.a,su({instavid360Component:a?m:void 0,toggleInstavid360Modal:u},n)),(!a||!s)&&m,a&&l.a.createElement(Ms.b,{show:s},l.a.createElement("button",{className:lu.a.close,onClick:u},l.a.createElement(G.FontAwesomeIcon,{icon:Ws.faArrowLeft}),l.a.createElement("span",{className:lu.a.backText},Object(ie.a)("common.back"))),m)))};pu.propTypes={vin:u.a.string},pu.defaultProps={vin:null};var gu=pu,mu=function(e){var t=!!e&&e.classList.contains("hidden");e&&!t&&e.classList.add("hidden")},bu=function(e){e&&e.classList.remove("hidden")},yu=function(){return Object(c.useEffect)((function(){var e=Object(K.getDocument)().querySelector("#bonnetNavTray"),t=Object(K.getDocument)().querySelector("#bonnetPrimaryMenuOpenWrapper");return mu(e),bu(t),function(){bu(e),mu(t)}}),[]),null},hu=n(1126);function vu(e){return(vu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ou(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Eu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ou(Object(n),!0).forEach((function(t){wu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ou(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function wu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ju(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Su(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pu(e,t,n){return t&&Su(e.prototype,t),n&&Su(e,n),e}function ku(e,t){return(ku=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Iu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Cu(e);if(t){var a=Cu(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Ru(this,n)}}function Ru(e,t){return!t||"object"!==vu(t)&&"function"!=typeof t?Lu(e):t}function Lu(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Cu(e){return(Cu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var _u=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ku(e,t)}(n,e);var t=Iu(n);function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=t.call(this,e)).window=Object(K.getWindow)(),r.document=Object(K.getDocument)(),r.toggleReportFraudModal=r.toggleReportFraudModal.bind(Lu(r)),r.setContactCenterNode=r.setContactCenterNode.bind(Lu(r)),r.listingTabsRef=null,r.calculator=Object(c.createRef)(),r.financingBelowDealerInfo=Object(c.createRef)(),r.financingAboveLeadForm=Object(c.createRef)(),r.financingCalculator=Object(c.createRef)(),r.dealerReviewsSection=Object(c.createRef)(),r.setListingTabsRef=r.setListingTabsRef.bind(Lu(r)),r.renderFinancingCTA=r.renderFinancingCTA.bind(Lu(r)),r.handleScroll=r.handleScroll.bind(Lu(r)),r.getLeadTrackingData=r.getLeadTrackingData.bind(Lu(r)),r.state={isReportFraudModalOpen:!1},r}return Pu(n,null,[{key:"propTypes",get:function(){return{adsReady:u.a.bool.isRequired,autoFinancingCalculatorModel:le.a,brandingEnabled:u.a.bool,canShowNationwideShipping:u.a.bool,city:u.a.string,clearDetailViewTimeouts:u.a.func.isRequired,closeShareListingPanel:u.a.func.isRequired,contacted:u.a.bool,contactedDate:u.a.string,dealRating:X.a,dealerReviewsCount:u.a.number,deliveryCost:u.a.number,deliveryTitle:u.a.string,detailViewTimeouts:W.a.listOf(u.a.number).isRequired,description:u.a.string,disclaimer:u.a.string,distance:u.a.oneOfType([u.a.string,u.a.number]),error:u.a.instanceOf(Error),expectedPrice:u.a.number,facebookShareUrl:u.a.string,featuredPremiumListingId:u.a.number,fetchListing:u.a.func.isRequired,fetchListingIncentives:u.a.func.isRequired,fetchNewCarSuggestions:u.a.func.isRequired,fetchSrpForListing:u.a.func.isRequired,financingEligibility:ue.b,financePartners:u.a.arrayOf(u.a.string).isRequired,financeListing:u.a.shape({entityId:u.a.string,inventoryListingId:u.a.number}).isRequired,financeSourceId:u.a.string,hasLoadedSrp:u.a.bool,hasOcr:u.a.bool,hasSellerPaidForDisplayAdsFocus:u.a.bool.isRequired,hideSaveSearch:u.a.bool,hideSRPAds:u.a.bool.isRequired,initializeAdsLibraryAction:u.a.func.isRequired,inventoryListingId:u.a.number,isAuthenticated:u.a.bool.isRequired,isComplete:u.a.bool.isRequired,isEligibleForInstavid360:u.a.bool,isFailed:u.a.bool.isRequired,isDealerInventoryPage:u.a.bool,isFeatured:u.a.bool,isFinancePrequalified:u.a.bool,isCurrentUsersListing:u.a.bool,isInTexas:u.a.bool,isNew:u.a.bool,isNewCarSuggestion:u.a.bool,isPrivateSeller:u.a.bool,isSaved:u.a.bool.isRequired,isShareListingPanelOpen:u.a.bool.isRequired,leadTrackingData:u.a.shape({pagePosition:u.a.number,searchType:u.a.oneOf(["USED","NEW"]).isRequired}).isRequired,listing:u.a.shape({autoEntityInfo:u.a.shape({entityId:u.a.string}),inclusionType:u.a.string,isNew:u.a.bool,year:u.a.number,vehicleCondition:u.a.string,id:u.a.number,makeId:u.a.string,modelId:u.a.string}).isRequired,listingIndex:u.a.number,listingTitle:u.a.string,listingsToFetch:u.a.oneOfType([W.a.set,u.a.array]),location:u.a.shape({pathname:u.a.string.isRequired,state:u.a.object}).isRequired,mileage:u.a.number,newCarSuggestions:u.a.arrayOf(u.a.shape({inclusionType:u.a.string,year:u.a.number,vehicleCondition:u.a.string,id:u.a.number,makeId:u.a.string,modelId:u.a.string})),noDealRatingReason:u.a.string,ownerPersonId:u.a.number,openFinanceCalc:u.a.bool.isRequired,openDealerReviews:u.a.bool.isRequired,pictures:u.a.arrayOf(u.a.oneOfType([u.a.object,u.a.string])),postalCode:u.a.string,previousInventoryListingId:u.a.number,price:u.a.number,priceDifferentialString:u.a.string,priceString:u.a.string,requiredVerification:Je,saveListing:u.a.func.isRequired,searchDistance:u.a.number,searchZip:u.a.string,scrollRef:u.a.shape({current:u.a.instanceOf(Element)}),seller:u.a.shape({isManagedLeadDelivery:u.a.bool,isPrivateSeller:u.a.bool,isTexasDealer:u.a.bool}),sellerCityRegion:u.a.string,sellerId:u.a.number,sellerName:u.a.string,sellerPostalCode:u.a.string,sellerRating:u.a.number,serviceProviderId:u.a.number,shareVDP:u.a.func.isRequired,showFinancing:u.a.bool,state:u.a.string,status:u.a.string,toggleShareListingPanel:u.a.func.isRequired,trackViewedVDP:u.a.func.isRequired,updateOnLoginSuccess:u.a.func.isRequired,isNonPayingDealer:u.a.bool,featuredType:u.a.string,trackGalleryImageView:u.a.func.isRequired,currentReviewCount:u.a.number}}},{key:"defaultProps",get:function(){return{autoFinancingCalculatorModel:null,brandingEnabled:!1,canShowNationwideShipping:!1,city:null,contacted:!1,contactedDate:null,dealRating:null,dealerReviewsCount:0,deliveryCost:null,deliveryTitle:null,description:null,disclaimer:null,distance:null,error:null,expectedPrice:null,facebookShareUrl:null,featuredPremiumListingId:null,financeSourceId:null,financingEligibility:new B.List,hasLoadedSrp:!1,hasOcr:!1,hasSellerPaidForDisplayAdsFocus:!1,hideSaveSearch:!1,inventoryListingId:null,isDealerInventoryPage:!1,isEligibleForInstavid360:!1,isFeatured:!1,isFinancePrequalified:!1,isInTexas:!1,isCurrentUsersListing:!1,isNew:null,isNewCarSuggestion:!1,isPrivateSeller:!1,isSaved:!1,listingIndex:null,listingTitle:null,listingsToFetch:[],mileage:null,newCarSuggestions:null,noDealRatingReason:null,ownerPersonId:null,pictures:null,postalCode:"",previousInventoryListingId:null,price:null,priceDifferentialString:null,priceString:null,requiredVerification:null,searchDistance:null,searchZip:null,scrollRef:null,seller:null,sellerCityRegion:null,sellerId:0,sellerName:null,sellerPostalCode:null,sellerRating:null,serviceProviderId:null,showFinancing:!1,state:null,status:null,isNonPayingDealer:!1,featuredType:Tn.a.NONE,currentReviewCount:null}}}]),Pu(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.fetchListing,n=e.fetchSrpForListing,r=e.hasLoadedSrp,a=e.adsReady,i=e.hideSRPAds,o=e.initializeAdsLibraryAction,c=e.listingIndex,l=e.isFeatured,s=e.listing,u=e.sellerPostalCode,f=e.inventoryListingId,d=e.listingsToFetch,p=e.searchDistance,g=e.fetchListingIncentives,m=e.searchZip,b=e.isComplete;d.forEach((function(e){return t(e,m,p)})),!a&&i&&o(),b?(this.trackVDPView(),this.checkScrollToContactForm(),this.checkScrollToDealerReviews(),s.vehicleCondition===gn.n.NEW&&g(f,{entityId:s.autoEntityInfo.entityId,zip:u}),-1===c&&n()):r||-1!==c||l||n(),Object(se.trackPageView)(),Object(je.b)(),this.window.IntersectionObserver||this.window.addEventListener("scroll",this.handleScroll)}},{key:"componentWillReceiveProps",value:function(e){if(e.error&&!kt.a.is(e.error))throw e.error}},{key:"shouldComponentUpdate",value:function(e,t){e.shareVDP;var n=e.listingsToFetch,r=ju(e,["shareVDP","listingsToFetch"]),a=this.props,i=(a.shareVDP,a.listingsToFetch),o=ju(a,["shareVDP","listingsToFetch"]);return!Object(Z.a)(r,o)||!Object(Z.a)(t,this.state)||!n.equals(i)}},{key:"componentDidUpdate",value:function(e){e.isComplete!==this.props.isComplete&&(this.trackVDPView(),this.checkScrollToDealerReviews(),this.checkScrollToContactForm(),this.props.listing.vehicleCondition===gn.n.NEW&&this.props.fetchListingIncentives(this.props.inventoryListingId,{entityId:this.props.listing.autoEntityInfo.entityId,zip:this.props.sellerPostalCode}))}},{key:"componentWillUnmount",value:function(){this.props.closeShareListingPanel(),this.props.detailViewTimeouts.forEach(clearTimeout),this.props.clearDetailViewTimeouts(),this.window.IntersectionObserver||this.window.removeEventListener("scroll",this.handleScroll)}},{key:"getLeadTrackingData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.props,n=t.inventoryListingId,r=t.isFeatured,a=t.leadTrackingData,i=t.serviceProviderId,o=t.featuredType,c=this.props.listing.inclusionType;return Eu(Eu({forceSend:e,inclusionType:c,inventoryListingId:n,isFeatured:r},a),{},{serviceProviderId:i,featuredType:o})}},{key:"setListingTabsRef",value:function(e){this.listingTabsRef=e}},{key:"setContactCenterNode",value:function(e){this.contactCenterReference=e,this.forceUpdate()}},{key:"trackVDPView",value:function(){var e=this.props,t=e.featuredPremiumListingId,n=e.inventoryListingId,r=e.isFeatured,a=e.isNewCarSuggestion,i=e.newCarSuggestions,o=e.isDealerInventoryPage,c=e.listing,l="inventoryListing_".concat(r?"featured":"mainBody"),s=Object(fe.b)(c.price),u=i&&i.length?i[0].monthlyPayment-s:null;this.props.trackViewedVDP({featuredPremiumListingId:t,inventoryListingId:n,isFeatured:r,placement:l,isNewCarSuggestion:a,newCarImpressionDelta:u,isDealerInventoryPage:o})}},{key:"isNewCarTest",value:function(){return Object(J.a)("NEW_CAR_PRODUCT_V1")&&Object(ae.b)("f:listings.newCarSuggestions")&&!this.props.isPrivateSeller&&!this.props.listing.isNew&&this.props.listing.year>=2016}},{key:"searchForNewCars",value:function(){if(this.props.isComplete&&this.isNewCarTest()&&!this.props.newCarSuggestions&&!this.state.searchedForNewCars){var e=this.props.listing.modelId.replace(/\D+/g,""),t=this.props.listing.makeId.replace(/\D+/g,"");this.props.fetchNewCarSuggestions({inventoryListingId:this.props.listing.id,formattedModelId:e,formattedMakeId:t}),this.setState({searchedForNewCars:!0})}}},{key:"checkScrollToContactForm",value:function(){var e=(this.props.location.state||{}).scrollToContactForm&&this.contactCenterReference&&this.contactCenterReference.scrollIntoView;("?focus=requestInfo"===this.props.location.search||e)&&this.contactCenterReference.scrollIntoView({behavior:"smooth",block:"start"})}},{key:"checkScrollToDealerReviews",value:function(){this.props.openDealerReviews&&this.dealerReviewsSection&&this.dealerReviewsSection.current&&this.dealerReviewsSection.current.scrollIntoView&&us(this.dealerReviewsSection)}},{key:"scrollToReviewsOpen",value:function(){var e,t;(null===(e=this.dealerReviewsSection)||void 0===e||null===(t=e.current)||void 0===t?void 0:t.scrollIntoView)&&us(this.dealerReviewsSection)}},{key:"toggleReportFraudModal",value:function(e){e.preventDefault(),this.setState((function(e){return{isReportFraudModalOpen:!e.isReportFraudModalOpen}}))}},{key:"canShowPostLeadBox",value:function(){return this.props.isPrivateSeller&&this.props.contactedDate&&Object(ae.b)("f:privateListing.inbox")&&Object(ae.b)("f:privateListing.checkout.startCheckoutInvite")}},{key:"handleScroll",value:function(){if(this.shouldRenderSlidingContactFooter()){var e=this.shouldShowContactFooter();e!==this.state.showContactFooter&&this.setState({showContactFooter:e})}}},{key:"shouldRenderSlidingContactFooter",value:function(){var e=this.props,t=e.isCurrentUsersListing,n=e.contacted,r=e.financingEligibility;return!(t||this.canShowPostLeadBox()||n&&r.size)}},{key:"shouldShowContactFooter",value:function(){if(!this.contactCenterReference)return!1;var e=this.contactCenterReference.getBoundingClientRect().bottom,t=this.document.querySelector(".site-header");return e<(t&&t.getBoundingClientRect()||{height:0}).height}},{key:"renderCarousel",value:function(){var e=this.props,t=e.featuredType,n=e.inventoryListingId,r=e.isEligibleForInstavid360,a=e.isFeatured,i=e.isPrivateSeller,o=e.listing,c=e.pictures,s=e.seller,u=e.trackGalleryImageView;return Object(J.a)(Object(ae.b)("f:listings.spinCar")&&!(s.isNonPayingDealer||s.isPrivateSeller))?l.a.createElement(ru,{alternateImageSrc:"/gfx/cg/no-listing-image-available.jpg",contactCenterReference:this.contactCenterReference,featuredType:t,images:c,inventoryListingId:n,isFeatured:a,isPrivateSeller:i,vin:o.vin,trackGalleryImageView:u}):r?l.a.createElement(gu,{alternateImageSrc:"/gfx/cg/no-listing-image-available.jpg",contactCenterReference:this.contactCenterReference,featuredType:t,images:c,inventoryListingId:n,isFeatured:a,isPrivateSeller:i,vin:o.vin,trackGalleryImageView:u}):l.a.createElement(Fe.a,{alternateImageSrc:"/gfx/cg/no-listing-image-available.jpg",contactCenterReference:this.contactCenterReference,featuredType:t,images:c,inventoryListingId:n,isFeatured:a,isPrivateSeller:i,trackGalleryImageView:u})}},{key:"renderListingNavigation",value:function(e){return this.props.isNewCarSuggestion?null:l.a.createElement($i,{componentPosition:e})}},{key:"renderPrimaryCTAs",value:function(){var e=this.props,t=e.inventoryListingId,n=e.sellerId,r=e.isFeatured,a=e.isPrivateSeller,i=e.isCurrentUsersListing,o=e.sellerName,c=e.contactedDate,s=e.contacted,u=e.seller;return i?l.a.createElement(mn.a,{sellerName:o,inventoryListingId:t}):this.canShowPostLeadBox()?l.a.createElement(ar,{contactedDate:c,inventoryListingId:t}):l.a.createElement(Ko,{contacted:s,contactedDate:c,getLeadTrackingData:this.getLeadTrackingData,inventoryListingId:t,isFeatured:r,isPrivateSeller:a,sellerId:n,setContactCenterNode:this.setContactCenterNode,sellerIsManagedLeadDelivery:!!u&&u.isManagedLeadDelivery})}},{key:"renderFinancingCTA",value:function(){var e=this.props,t=e.financeListing,n=e.financePartners,r=e.financingEligibility,a=e.inventoryListingId,i=e.isPrivateSeller,o=e.ownerPersonId,c=e.serviceProviderId,s=e.showFinancing,u={inventoryListingId:a,serviceProviderId:c,ownerPersonId:o};return!i&&l.a.createElement(l.a.Fragment,null,l.a.createElement(me.default,{financePartners:n,listing:t,forwardRef:this.financingCalculator,sourceId:pe.a.CALCULATOR_LAUNCHER}),l.a.createElement(ue.a,{financingEligibilityLookupWithTransactions:r,financeData:u,beforeAutopayLaunch:Ee.g,getAutopayConfig:Ee.f,launchFinancingNow:s}),l.a.createElement(ve.a,{icon:!0,forwardRef:this.financingCalculator,sourceId:pe.a.CALCULATOR_LAUNCHER}))}},{key:"renderNewCarSuggestions",value:function(){var e=this.props.newCarSuggestions;this.isNewCarTest()&&e&&e.length;return null}},{key:"render",value:function(){var e=this,t=this.props,n=t.autoFinancingCalculatorModel,r=t.brandingEnabled,a=t.canShowNationwideShipping,i=t.city,o=t.closeShareListingPanel,s=t.contacted,u=t.dealRating,f=t.deliveryTitle,d=t.description,p=t.disclaimer,g=t.distance,m=t.expectedPrice,b=t.facebookShareUrl,y=t.financingEligibility,h=t.financeListing,v=t.financePartners,O=t.financeSourceId,E=t.hasOcr,w=t.hasSellerPaidForDisplayAdsFocus,j=t.hideSaveSearch,S=t.hideSRPAds,P=t.inventoryListingId,k=t.isAuthenticated,I=t.isComplete,R=t.isFailed,L=t.isFeatured,C=t.isFinancePrequalified,_=t.isInTexas,T=t.isNew,N=t.isPrivateSeller,D=t.isSaved,x=t.isShareListingPanelOpen,A=t.listing,F=t.listingTitle,q=t.mileage,U=t.navigationCarouselListings,V=t.noDealRatingReason,M=t.postalCode,W=t.pictures,B=t.price,H=t.priceDifferentialString,K=t.priceString,Z=t.requiredVerification,X=t.scrollRef,te=t.seller,ne=t.sellerCityRegion,le=t.sellerId,se=t.saveListing,ue=t.shareVDP,fe=t.showFinancing,me=t.state,ve=t.status,Ee=t.toggleShareListingPanel,je=t.updateOnLoginSuccess,Se=t.featuredType,Pe=t.searchZip,ke=t.searchDistance,Ie=t.trackGalleryImageView,Re=t.currentReviewCount,Le=A.inclusionType===ws.b.NATIONWIDE_SHIPPING&&A.isNationwideShipperDealer&&A.deliveryTitle,Ce=Object(ae.b)("f:ad.vdpLargeMobileBannerAd")&&!w&&!N,_e=!Object(Q.getEnvVariable)(Q.EnvVariable.MOBILE_APP),Te=Boolean("AVAILABLE"!==te.salesStatus),Ae=Boolean(Object(J.a)("WRECK_O_MEND_V6")&&!Te&&Pe&&ke),Fe=Boolean(Object(J.a)("WRECK_O_MEND_V6")&&Te&&Pe&&ke);if(R)return l.a.createElement("div",{className:xs.a.cargurusListingSearchListing},l.a.createElement($.c,{viewVersionName:"MOBILE_NAV_TRAY_V2"},l.a.createElement($.b,null,l.a.createElement(yu,null))),this.renderListingNavigation(),l.a.createElement(xe.a,null),this.renderListingNavigation());if(!I)return l.a.createElement(c.Fragment,null,l.a.createElement(ce.a,{loading:!0}),l.a.createElement($.c,{viewVersionName:"MOBILE_NAV_TRAY_V2"},l.a.createElement($.b,null,l.a.createElement(yu,null))));var qe=Object(oe.a)("VDP_MILEAGE_ANALYSIS_VARIANT_1")&&Object(J.a)("VDP_MILEAGE_ANALYSIS")||Object(oe.a)("VDP_MILEAGE_ANALYSIS_VARIANT_2");return l.a.createElement("div",{className:xs.a.cargurusListingSearchListing},l.a.createElement($.c,{viewVersionName:"MOBILE_NAV_TRAY_V2"},l.a.createElement($.b,null,l.a.createElement(yu,null))),l.a.createElement(we.a,{title:null==A?void 0:A.listingTitle,withSuffix:!0}),this.renderListingNavigation(),l.a.createElement(Pt,{sellerId:le,requiredVerification:Z,listingPrice:K,listingStatus:ve,listingTitle:F}),l.a.createElement("h1",{className:Y()(xs.a.listingTitle),"data-cg-ft":"vdp-listing-title"},F),l.a.createElement(As.a,null),l.a.createElement("div",{className:Y()(xs.a.galleryAndActionButtons)},E?l.a.createElement(Ve,{alternateImageSrc:"/gfx/cg/no-listing-image-available.jpg",contactCenterReference:this.contactCenterReference,images:W,inventoryListingId:P,isPrivateSeller:N,trackGalleryImageView:Ie}):this.renderCarousel(),l.a.createElement("div",{className:Y()(xs.a.galleryAndActionButtons,xs.a.buttons)},l.a.createElement(dl,{handleOnClick:Ee}),l.a.createElement(Me.a,{inventoryListingId:P,isSaved:D}))),(!te.get("onlineOnly")||Le)&&l.a.createElement("div",{className:Y()(xs.a.sellerLocation)},l.a.createElement(De.a,{canShowNationwideShipping:a,deliveryTitle:f,distance:g,listingAddress:ne})),Object(ae.b)("f:listings.warrantyBadge")&&l.a.createElement("div",{className:xs.a.dealerGuarantee},l.a.createElement(G.FontAwesomeIcon,{icon:z.faShieldCheck}),l.a.createElement("span",{className:xs.a.dealerGuaranteeLabel},Object(ie.a)("listings.badge.with_guarantee"))),l.a.createElement(Si,{isSaved:D,dealRating:u}),l.a.createElement(Mr,{priceDifferentialString:H,price:B,isNew:T,isInTexas:_,isPrivateSeller:N,priceString:K,expectedPrice:m,dealRating:u,noDealRatingReason:V,dealerRating:te.averageRating,currentReviewCount:Re,inventoryListingId:A.id,scrollToReviews:function(){return e.scrollToReviewsOpen()}}),l.a.createElement(be.b,{financePartners:v,forwardRef:this.financingAboveLeadForm,isContacted:s,isFinancePrequalified:C,isNonPayingDealer:te.isNonPayingDealer,isPrivateSeller:te.isPrivateSeller,listing:h,listingId:A.id}),!N&&!s&&C&&l.a.createElement(ge.a,{financePartners:v,listing:h,forwardRef:this.financingCalculator,sourceId:pe.a.CONTACT_CENTER_LAUNCHER}),this.renderPrimaryCTAs(),N&&l.a.createElement(il,null),N&&d&&l.a.createElement(Fl.a,{description:d||"",model:A.autoEntityInfo.model}),l.a.createElement(eo.a,{inventoryListingId:P}),Object(J.a)("WRECK_O_MEND_V6")&&l.a.createElement(Fs.a,{className:xs.a.sectionSpacingTop,salesStatus:te.salesStatus,navArrows:!1}),l.a.createElement(he.default,{financePartners:v,listing:h,onLogin:je,show:fe,sourceId:O}),l.a.createElement(Oe.a,{listingId:P}),!te.isPrivateSeller&&l.a.createElement(de.a,{autoFinancingCalculatorModel:n,financePartners:v,hideBottomBorder:!0,inventoryListingId:P,isPrivateSeller:N,isNonPayingDealer:te.isNonPayingDealer,postalCode:M,price:B,ref:this.calculator,renderAboveDisclaimer:this.renderFinancingCTA,scrollRef:X},l.a.createElement(re,{listing:A,seller:te}),l.a.createElement(ee.a,{listing:A,seller:te})),Object(J.a)("FUEL_COST_CALCULATOR_V2")&&l.a.createElement(ks.b,{listing:A}),l.a.createElement(Ql,{listing:A,seller:te}),!A.isNew&&qe&&l.a.createElement(es,{listing:A}),l.a.createElement(as,{listing:A}),l.a.createElement(Bc.a,{inventoryListingId:P,sellerId:le,isCollapsible:!0}),!Object(J.a)("WRECK_O_MEND_V6")&&l.a.createElement(Fs.a,{className:xs.a.sectionSpacingTop,salesStatus:te.salesStatus,navArrows:!1}),l.a.createElement(Ps,{listing:A}),!S&&Ce&&_e&&l.a.createElement(It.a,{inventoryListingId:P},l.a.createElement(fn,{inventoryListingId:P,adId:"bannerAdLARGE_MOBILE_BANNER",adIndex:0})),Ae&&l.a.createElement(qs.a,{className:xs.a.sectionSpacingTop,listingIds:P,zipCode:Pe,dist:ke,navArrows:!1}),!N&&l.a.createElement(Es,{listing:A}),Object(J.a)("TEST_DRIVE_RATINGS_ON_VDP_V2")&&l.a.createElement(Ns,{listing:A}),l.a.createElement(vn,null),!N&&l.a.createElement("div",{ref:this.dealerReviewsSection},l.a.createElement(fs,{startOpen:this.props.openDealerReviews,inventoryListingId:P})),this.renderNewCarSuggestions(),N&&l.a.createElement(va,{inventoryListingId:P}),N&&!this.canShowPostLeadBox()&&l.a.createElement(pn.a,{className:xs.a.actcMessage}),Object(ae.b)("f:legal.requireDealerImpressum")&&l.a.createElement(Fi,{inventoryListingId:P}),p&&l.a.createElement("div",{className:xs.a.dealerDisclaimer},p),!N&&r&&l.a.createElement(Mc,{canShowNationwideShipping:a,getLeadTrackingData:this.getLeadTrackingData,inventoryListingId:P,isFeatured:L,sellerId:le,featuredType:Se}),l.a.createElement(be.b,{className:Y()(xs.a.preserveBorder,xs.a.preservePadding),financePartners:v,isContacted:s,isFinancePrequalified:C,isNonPayingDealer:te.isNonPayingDealer,listing:h,listingId:A.id,location:be.a.BELOW_DEALER_INFO}),!j&&l.a.createElement(Al,null),l.a.createElement(Wc.a,null),A.vehicleCondition===gn.n.NEW&&l.a.createElement(Bn.a,{inventoryListingId:this.props.inventoryListingId,entityId:this.props.listing.autoEntityInfo.entityId,zip:this.props.sellerPostalCode}),!S&&_e&&l.a.createElement(It.a,{inventoryListingId:P},l.a.createElement(Zt,{inventoryListingId:P,adId:"bannerAdMEDIUM_RECTANGLE",isExpandable:!1,adIndex:Ce?1:null})),Fe&&l.a.createElement(qs.a,{className:xs.a.sectionSpacingTop,listingIds:P,zipCode:Pe,dist:ke,navArrows:!1}),!Te&&l.a.createElement(Hl,{listings:U}),l.a.createElement(Ne,null),this.renderListingNavigation("BOTTOM"),this.shouldRenderSlidingContactFooter()&&l.a.createElement($.c,{viewVersionName:"REQUEST_INFO_IMAGE_LIST_PAGE"},l.a.createElement($.a,null,l.a.createElement(Wn,{getLeadTrackingData:this.getLeadTrackingData,initialOfferPrice:B,inventoryListingId:P,isPrivateSeller:N,show:this.state.showContactFooter,observedElementsOrRefs:[this.contactCenterReference],featuredType:Se})),l.a.createElement($.b,null,l.a.createElement(hu.b,{inventoryListingId:P,show:this.state.showContactFooter,observedElementsOrRefs:[this.contactCenterReference],source:"vdp"}))),l.a.createElement(hi,{isAuthenticated:k,isOpen:x,isSaved:D,closeShareListingPanel:o,city:i,dealRatingLabel:u.label,facebookShareUrl:b,inventoryListingId:P,isNew:T,listingTitle:F,mileage:q,priceString:K,saveListing:se,shareVDP:ue,state:me}),l.a.createElement(dn.default,null),!N&&s&&!!y.size&&l.a.createElement(ye.a,{listing:h,financePartners:v,sourceId:pe.a.STICKY_LAUNCHER,hideFor:[this.financingBelowDealerInfo,this.financingAboveLeadForm,this.financingCalculator]}))}}]),n}(c.Component),Tu=n(349),Nu=n(2051);function Du(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Du(Object(n),!0).forEach((function(t){Au(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Du(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Au(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Fu=function(e){var t=Object(D.a)(e),n=Object(N.b)(e),r=Object(R.a)(e),a=r.get("sellerId"),i=Object(q.b)(e,t),c=n.get("brandingEnabled"),l=Object(L.b)(e)||[],s=r.get("city"),u=r.get("region"),f=r.get("postalCode"),d=function(e,t){return e.getIn(["entities","newCarSuggestions",t])}(e,t);return{key:t,adsReady:e.getIn(["adContext","adsReady"],!1),autoFinancingCalculatorModel:n.get("autoFinancingCalculatorModel"),brandingEnabled:c,canShowNationwideShipping:Object(N.a)(e),city:s,contacted:Object(q.a)(e,n.get("id")),contactedDate:n.get("contactedDate"),dealRating:Object(o.b)(n.get("dealRating")),dealerReviewsCount:Object(L.c)(e),description:n.get("description"),detailViewTimeouts:Object(C.b)(e),deliveryCost:n.get("deliveryCost"),deliveryTitle:n.get("deliveryTitle"),disclaimer:n.get("disclaimer"),distance:n.get("distance"),error:Object(N.e)(e),expectedPrice:n.get("expectedPrice"),facebookShareUrl:n.get("facebookShareUrl"),featuredPremiumListingId:e.getIn(["featuredListings","selected","priority","id"]),financingEligibility:Object(U.g)(e),financeListing:Object(U.c)(e),financePartners:Object(U.e)(e),hasLoadedSrp:e.getIn(["app","hasLoadedSrp"]),hasOcr:n.get("hasOcr"),hasSellerPaidForDisplayAdsFocus:r.get("hasSellerPaidForDisplayAdsFocus"),hideSRPAds:e.getIn(["search","config","hideSRPAds"],!1),hideSaveSearch:e.getIn(["search","config","hideSaveSearch"]),inventoryListingId:t,isAuthenticated:Object(A.k)(e),isComplete:Object(N.n)(e),isCurrentUsersListing:Object(R.c)(e),isDealerInventoryPage:Object(x.u)(e),isEligibleForFinancing:n.get("isEligibleForFinancing"),isEligibleForInstavid360:Object(Nu.a)(r),isFailed:Object(N.o)(e),isFinancePrequalified:Object(U.h)(e),isInTexas:Object(R.f)(e),isLoaded:Object(N.n)(e),isLoading:Object(N.p)(e),isNew:Object(N.q)(e),isPrivateSeller:Object(R.e)(e),isSaved:i,isShareListingPanelOpen:Object(C.h)(e),isTemplatedOcr:n.get("isTemplatedOcr"),leadTrackingData:{pagePosition:Object(_.k)(e),searchType:Object(x.y)(e)?V.a.USED:V.a.NEW},listing:n,listingIndex:Object(_.k)(e),listingTitle:n.get("listingTitle"),listingsToFetch:Object(N.h)(e),mileage:n.get("mileage"),navigationCarouselListings:Object(T.d)(e).filter(Boolean),newCarSuggestions:d,noDealRatingReason:n.get("noDealRatingReason"),openFinanceCalc:"?focus=est"===e.getIn(["router","location","search"]),openDealerReviews:"?focus=dealerReviews"===e.getIn(["router","location","search"]),ownerPersonId:Object(A.c)(e),postalCode:Object(Tu.c)(e),pictures:n.get("pictures")||[],price:n.get("price"),priceDifferentialString:n.get("priceDifferentialString"),priceString:Object(N.j)(e),requiredVerification:n.get("requiredVerification"),searchDistance:Object(x.c)(e),searchZip:Object(x.s)(e),seller:r,sellerCityRegion:r.get("cityRegion"),sellerId:a,sellerName:r.get("first")||r.get("screenname"),sellerRating:r.get("averageRating")||void 0,sellerPostalCode:f,serviceProviderId:r.get("serviceProviderId")||void 0,state:u,status:n.get("status"),userIsAuthenticated:Object(A.k)(e),isNonPayingDealer:r.get("isNonPayingDealer"),featuredType:Object(Wi.j)(e),currentReviewCount:l.length}},qu={clearDetailViewTimeouts:O.b,closeShareListingPanel:function(){return{type:j.a.CLOSE_SHARE_LISTING_PANEL}},fetchListing:O.c,fetchListingIncentives:w.a,fetchNewCarSuggestions:O.d,fetchSrpForListing:F.a,initializeAdsLibraryAction:I.c,trackViewedVDP:E.a,saveListing:S.a,shareVDP:v.b,toggleShareListingPanel:function(){return{type:j.a.TOGGLE_SHARE_LISTING_PANEL}},trackDirectAd:v.c,updateOnLoginSuccess:k.b,trackGalleryImageView:P.a};t.default=Object(a.compose)(Object(r.connect)(Fu,qu,(function(e,t,n){return xu(xu(xu(xu({},e),t),n),{},{shareVDP:function(n){return function(){return t.shareVDP({shareEventName:n,inventoryListingId:e.inventoryListingId})}},saveListing:function(){return t.saveListing(e.inventoryListingId)}})})),h((function(e){return e.openFinanceCalc}),{block:i.d.isInCountry("US")?"end":"start"}))(_u)},594:function(e,t,n){e.exports={modal:"_5Qem9n",modalAfterOpen:"_2D4oi7",modalBeforeClose:"_5jFjQY",overlay:"HXVDoF",overlayAfterOpen:"t8TW9z",overlayBeforeClose:"_2Bc5cE"}},658:function(e,t,n){e.exports={inputGroup:"_5xSKks",append:"_2oBaaH",inputWithButton:"_4nnBum",formWrap:"_5W1Nca",inlineForm:"_4giNJv",threePartRow:"_22u5r4",formInput:"_3uX1dY",selectWrap:"_5Vegoh",separatorText:"_3DDPWt",inlineGridForm:"QP73jZ",twoPartRow:"_3hx4Hg",inlineLabelInputWrap:"_6YSTPy",gridStructure:"_21bbe7",inlineLabel:"_2WG58k",error:"_5uQcm7",radioLabelWrap:"_5UiEhz",radioLabel:"_2jYtxS"}},986:function(e,t,n){e.exports={buttonWrapper:"_3pQ1VG",show:"_2eZVFR"}}}]);
//# sourceMappingURL=a37b67f051804500b8ed5041fc987b88.js.map
(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{1328:function(e,t,n){e.exports={"form-input":"_2nkX6k","form-input--invalid":"_4M2vRQ","form-input-group":"_2rncuv","form-input-group-append":"_5QfE81","form-input-radio-button":"_6Ky3Zi","form-input-radio-button__label-button":"_5SweDq","form-input-radio-button__label-text":"_2zbNJB"}},1520:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),i=n(1),a=n.n(i),c=n(33),u=n(133),s=n(6),l=n(2),f=n(30),p=n(7),h=n.n(p),y=n(12),m=n(1160),b=n(296);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_(e);if(t){var o=_(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return O(this,n)}}function O(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(a,e);var t,n,r,i=S(a);function a(){return v(this,a),i.apply(this,arguments)}return t=a,r=[{key:"defaultProps",get:function(){return{viewBox:"12 12 24 24"}}}],(n=[{key:"render",value:function(){return this.renderChild(o.a.createElement("g",null,o.a.createElement("path",{d:"M26.047,31.5c0,0.275-0.225,0.5-0.5,0.5H22.5c-0.275,0-0.5-0.225-0.5-0.5v-3c0-0.275,0.225-0.5,0.5-0.5h3.047 c0.275,0,0.5,0.225,0.5,0.5V31.5z M24,11.75c-6.765,0-12.25,5.484-12.25,12.25S17.235,36.25,24,36.25 c6.765,0,12.25-5.484,12.25-12.25S30.765,11.75,24,11.75z M26.85,23.832c-0.967,0.631-1.256,1.175-1.288,2.424 c-0.003,0.137-0.114,0.244-0.25,0.244H22.75c-0.068,0-0.25-0.182-0.25-0.25v-1.02c0-1.069,0.576-2.01,1.766-2.877 c0.093-0.064,0.983-0.646,0.983-1.449c0-0.666-0.501-1.131-1.219-1.131c-1.022,0-1.593,0.513-1.647,1.491 c-0.008,0.132-0.117,0.235-0.25,0.235H22h-2.561c-0.068,0-0.135-0.028-0.182-0.078c-0.047-0.049-0.072-0.116-0.068-0.185 c0.14-2.716,1.904-4.273,4.844-4.273c2.229,0,4.629,1.209,4.629,3.864C28.662,22.607,28.256,22.943,26.85,23.832z"})))}}])&&E(t.prototype,n),r&&E(t,r),a}(b.a),R=n(424),j=n(2302),P=n.n(j);function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function I(e,t,n){return t&&k(e.prototype,t),n&&k(e,n),e}function M(e,t){return(M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=L(e);if(t){var o=L(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return T(this,n)}}function T(e,t){return!t||"object"!==C(t)&&"function"!=typeof t?V(e):t}function V(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L(e){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var D=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M(e,t)}(n,e);var t=x(n);function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=t.call(this,e)).navigateToVDP=r.navigateToVDP.bind(V(r)),r}return I(n,null,[{key:"propTypes",get:function(){return{match:a.a.shape({params:a.a.object}).isRequired,history:a.a.shape({push:a.a.func.isRequired}).isRequired,children:a.a.node.isRequired}}}]),I(n,[{key:"navigateToVDP",value:function(){var e=this.props,t=e.history,n=e.match.params.inventoryListingId;t.push(n?Object(f.e)({inventoryListingId:n}):f.a.ROOT_PATH)}},{key:"render",value:function(){var e=this.props.children;return(o.a.createElement(m.a,{title:o.a.createElement("img",{alt:"CarGurus",src:"/gfx/reskin/logos/logo_CarGurus.svg"}),onDismiss:this.navigateToVDP,headerClass:h()(P.a.selfServiceReview,P.a.header),visible:!0},o.a.createElement("div",{className:P.a.selfServiceReview},e,o.a.createElement("div",{className:P.a.aboutReviews},o.a.createElement(R.a,null,o.a.createElement("a",{href:Object(y.a)("f:page.AboutDealerReviews"),className:P.a.aboutReviewsLink,target:"_blank"},o.a.createElement(w,{className:P.a.questionSign})," ",Object(l.a)("dealer.user_review.reviews.about_reviews"))),o.a.createElement("div",null,o.a.createElement(R.a,null,o.a.createElement("a",{href:Object(y.a)("f:page.privacyPolicy"),className:P.a.privacyPolicyLink,target:"_blank"},Object(l.a)("common.listings.subscriptions.privacy.link"))))))))}}]),n}(r.PureComponent),A=n(2303),N=n.n(A),q=function(e){var t=e.history,n=e.match,r=n.params.inventoryListingId,i=s.e.getDocument().getElementById("dealerDetailsController");return!r&&i&&(i.checked=!1),o.a.createElement(D,{history:t,match:n},o.a.createElement("div",{className:N.a.addReview},Object(l.a)("dealer.review.verification.form.intro"),o.a.createElement("ul",{className:N.a.addReviewList},o.a.createElement("li",null,Object(l.a)("dealer.review.verification.form.intro.bullet_one")),o.a.createElement("li",null,Object(l.a)("dealer.review.verification.form.intro.bullet_two")),o.a.createElement("li",null,Object(l.a)("dealer.review.verification.form.intro.bullet_three"))),o.a.createElement("div",{className:N.a.buttons},o.a.createElement(u.a,{variant:"secondary",isGhost:!0},o.a.createElement(c.Link,{to:r?Object(f.e)({inventoryListingId:r}):f.a.ROOT_PATH},Object(l.a)("dealer.review.verification.form.button.cancel"))," "),o.a.createElement(u.a,{variant:"primary",href:"./verify-contact-details"},o.a.createElement(c.Link,{to:"./verify-contact-details"},Object(l.a)("dealer.review.verification.form.button.agree"))))))};q.propTypes={match:a.a.shape({params:a.a.object}).isRequired,history:a.a.shape({push:a.a.func.isRequired}).isRequired};var H=q,F=n(8),z=n(13),W=n(24),U={EMAIL:"EMAIL",VOICECALL:"VOICE_CALL",SMS:"SMS"},B=function(e){var t=e.verificationMethod;if(!t)throw new Error("Verification method is null or undefined");if(t!==U.EMAIL&&t!==U.SMS&&t!==U.VOICECALL)throw new Error("Verification method ".concat(U," must be EMAIL, SMS, or VOICE_CALL"));return e},J=n(136),X=n(5);function Q(e){return(Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function G(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Z(e,t){return(Z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function K(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=$(e);if(t){var o=$(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Y(this,n)}}function Y(e,t){return!t||"object"!==Q(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function $(e){return($=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ee=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Z(e,t)}(n,e);var t=K(n);function n(){return G(this,n),t.apply(this,arguments)}return n}(Object(X.Record)({success:null,errors:Object(X.List)(),actionErrors:Object(X.List)(),url:""})),te=function(e){if(e.success)return new ee(e);var t=Object.values(e.errors.field||{}).reduce((function(e,t){return e.concat(t)}),[]),n=e.errors.action||[];return new ee({success:e.success,url:e.url,errors:t,actionErrors:n})},ne=function(e){if(!e.ok)throw new J.a("Error getting verification code");return e.json()},re=function(e,t){return function(e){var t=B(e);return W.a.requestPost({path:Object(y.a)("f:followup.verification.sendVerificationCode"),body:t,traditional:!0,requestOptions:{headers:new Headers({Accept:"application/json","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","X-Requested-With":"XMLHttpRequest"})}})}(e).then(ne).then(te)},oe=function(e,t,n){return function(e){var t=B(e);return W.a.requestPost({path:Object(y.a)("f:followup.verification.submitVerificationCode"),body:t,traditional:!0,requestOptions:{headers:new Headers({Accept:"application/json","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","X-Requested-With":"XMLHttpRequest"})}})}(e).then(ne).then(te)},ie=n(349),ae=n(1527),ce=n(1328),ue=n.n(ce);n(369);function se(e){return(se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function le(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pe(e,t){return(pe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function he(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=me(e);if(t){var o=me(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ye(this,n)}}function ye(e,t){return!t||"object"!==se(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function me(e){return(me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var be=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pe(e,t)}(a,e);var t,n,r,i=he(a);function a(){return le(this,a),i.apply(this,arguments)}return t=a,r=[{key:"defaultProps",get:function(){return{viewBox:"12 12 24 24"}}}],(n=[{key:"render",value:function(){return this.renderChild(o.a.createElement("g",null,o.a.createElement("path",{d:"M24,28L12,16h24L24,28z M24,30l-5-5l-7,7h24l-7-7L24,30z M30,24l6,6V18L30,24z M12,18v12l6-6L12,18z"})))}}])&&fe(t.prototype,n),r&&fe(t,r),a}(b.a);function de(e){return(de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ge(e,t){return(ge=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Se(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_e(e);if(t){var o=_e(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Oe(this,n)}}function Oe(e,t){return!t||"object"!==de(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _e(e){return(_e=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var we=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ge(e,t)}(a,e);var t,n,r,i=Se(a);function a(){return ve(this,a),i.apply(this,arguments)}return t=a,r=[{key:"defaultProps",get:function(){return{viewBox:"12 12 24 24"}}}],(n=[{key:"render",value:function(){return this.renderChild(o.a.createElement("g",null,o.a.createElement("g",{style:{opacity:0}},o.a.createElement("rect",{x:"19",y:"16",width:"10",height:"15"})),o.a.createElement("g",null,o.a.createElement("path",{d:"M28.5,12h-9c-1.375,0-2.5,1.125-2.5,2.5v19c0,1.375,1.125,2.5,2.5,2.5h9c1.375,0,2.5-1.125,2.5-2.5v-19 C31,13.125,29.875,12,28.5,12z M24,35.271c-0.979,0-1.772-0.793-1.772-1.771s0.793-1.771,1.772-1.771 c0.978,0,1.771,0.793,1.771,1.771S24.978,35.271,24,35.271z M19,31V16h10v15H19z"}))))}}])&&Ee(t.prototype,n),r&&Ee(t,r),a}(b.a);function Re(e){return(Re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function je(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ce(e,t){return(Ce=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ke(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Me(e);if(t){var o=Me(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ie(this,n)}}function Ie(e,t){return!t||"object"!==Re(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Me(e){return(Me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var xe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ce(e,t)}(a,e);var t,n,r,i=ke(a);function a(){return je(this,a),i.apply(this,arguments)}return t=a,r=[{key:"defaultProps",get:function(){return{viewBox:"12 12 24 24"}}}],(n=[{key:"render",value:function(){return this.renderChild(o.a.createElement("g",null,o.a.createElement("path",{d:"M29.707,22.707c-0.175-0.176-0.432-0.331-0.707-0.455v-2.07c0,0-1-0.977-5-0.977s-5,0.977-5,0.977v2.07 c-0.275,0.124-0.532,0.279-0.707,0.455l-4.586,4.586C13.318,27.682,13,28.45,13,29v5c0,0.55,0.45,1,1,1h20c0.55,0,1-0.45,1-1v-5 c0-0.55-0.318-1.318-0.707-1.707L29.707,22.707z M22,29h-2v-1h2V29z M22,27h-2v-1h2V27z M22,25h-2v-1h2V25z M25,29h-2v-1h2V29z M25,27h-2v-1h2V27z M25,25h-2v-1h2V25z M28,29h-2v-1h2V29z M28,27h-2v-1h2V27z M28,25h-2v-1h2V25z M36,17v4 c0,0.55-0.444,0.926-0.986,0.836l-4.027-0.672C30.444,21.074,30,20.55,30,20v-2.916c-1.649-0.286-3.637-0.49-6-0.49 c-2.363,0-4.351,0.204-6,0.49V20c0,0.55-0.444,1.074-0.986,1.164l-4.027,0.672C12.444,21.926,12,21.55,12,21v-4 c0,0,2.984-3.766,12-3.766S36,17,36,17z"})))}}])&&Pe(t.prototype,n),r&&Pe(t,r),a}(b.a),Te=n(319),Ve=n(2305),Le=n.n(Ve);function De(e){return(De="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ne(e,t,n){return t&&Ae(e.prototype,t),n&&Ae(e,n),e}function qe(e,t){return(qe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function He(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=We(e);if(t){var o=We(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Fe(this,n)}}function Fe(e,t){return!t||"object"!==De(t)&&"function"!=typeof t?ze(e):t}function ze(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function We(e){return(We=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ue=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qe(e,t)}(n,e);var t=He(n);function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=t.call(this,e)).onSubmit=r.onSubmit.bind(ze(r)),r.hideSpinner=r.hideSpinner.bind(ze(r)),r.state={shouldShowSpinner:!1},r}return Ne(n,null,[{key:"propTypes",get:function(){return{actionErrors:a.a.arrayOf(a.a.string),autoComplete:a.a.string,errors:a.a.arrayOf(a.a.string),inputMode:a.a.string,label:a.a.string.isRequired,maxLength:a.a.string,name:a.a.string.isRequired,onInput:a.a.func.isRequired,onSubmit:a.a.func.isRequired,required:a.a.bool,type:a.a.string,value:a.a.string}}},{key:"defaultProps",get:function(){return{actionErrors:[],autoComplete:"off",errors:[],inputMode:void 0,maxLength:void 0,required:!0,type:"text",value:""}}}]),Ne(n,[{key:"componentWillUnmount",value:function(){this.isUnmounted=!0}},{key:"onSubmit",value:function(e){e.preventDefault(),this.setState({shouldShowSpinner:!0}),Promise.resolve(this.props.onSubmit()).then(this.hideSpinner,this.hideSpinner)}},{key:"hideSpinner",value:function(){this.isUnmounted||this.setState({shouldShowSpinner:!1})}},{key:"renderActionError",value:function(){var e=this.props.actionErrors;return e&&0!==e.length?o.a.createElement("div",{className:Le.a.actionError},e):null}},{key:"render",value:function(){var e=this.props,t=e.autoComplete,n=e.errors,r=e.inputMode,i=e.label,a=e.maxLength,c=e.name,s=e.onInput,f=e.required,p=e.type,y=e.value;return(o.a.createElement("form",{onSubmit:this.onSubmit,className:Le.a.selfServeReviewForm},o.a.createElement(Te.a,{loading:this.state.shouldShowSpinner}),this.renderActionError(),o.a.createElement("label",{className:h()(Le.a.label,n.length&&Le.a.invalid),htmlFor:this.id},i),o.a.createElement("input",{autoComplete:t,className:h()(ue.a["form-input"],n.length&&ue.a["form-input--invalid"]),id:this.id,inputMode:r,maxLength:a,name:c,onInput:s,onChange:s,required:f,type:p,value:y}),n.map((function(e){return o.a.createElement("div",{className:Le.a.errorMessage,key:e},e)})),o.a.createElement("div",{className:Le.a.buttons},o.a.createElement(u.a,{variant:"primary",onClick:this.onSubmit},Object(l.a)("common.submit")))))}},{key:"id",get:function(){return"verifyForm_".concat(this.props.name)}}]),n}(r.Component),Be=n(2306),Je=n.n(Be);function Xe(e){return(Xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ge(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ze(e,t,n){return t&&Ge(e.prototype,t),n&&Ge(e,n),e}function Ke(e,t){return(Ke=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ye(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=tt(e);if(t){var o=tt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return $e(this,n)}}function $e(e,t){return!t||"object"!==Xe(t)&&"function"!=typeof t?et(e):t}function et(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tt(e){return(tt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var nt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ke(e,t)}(n,e);var t=Ye(n);function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=t.call(this,e)).onInput=r.onInput.bind(et(r)),r.onSubmit=r.onSubmit.bind(et(r)),r.dismissActionErrors=r.dismissActionErrors.bind(et(r)),r.state={userEmail:void 0,userPhone:void 0,emailErrors:[],smsErrors:[],voiceErrors:[],emailActionErrors:null,smsActionErrors:null,voiceActionErrors:null},r}return Ze(n,null,[{key:"propTypes",get:function(){return{match:a.a.shape({params:a.a.object}).isRequired,history:a.a.shape({push:a.a.func.isRequired}).isRequired,isOnSrp:a.a.bool.isRequired,smsVerifyOwnershipNumber:a.a.string.isRequired,sendVerificationCodeAjax:a.a.func.isRequired,userEmail:a.a.string,userPhone:a.a.string}}},{key:"defaultProps",get:function(){return{userEmail:"",userPhone:""}}}]),Ze(n,[{key:"onInput",value:function(e){var t=e.target;this.setState(Qe({},t.name,t.value))}},{key:"onSubmitHandler",value:function(e){return this.onSubmit.bind(this,e)}},{key:"onSubmit",value:function(e){var t=this,n=this.props,r=n.sendVerificationCodeAjax,o=n.history,i=n.match,a=n.isOnSrp,c=this.userEmail,u=this.userPhone;return r({verificationMethod:{voice:"VOICE_CALL",email:"EMAIL",sms:"SMS"}[e],userEmail:c,userPhone:u}).then((function(n){return n.url?(s.e.getWindow().location.href=n.url,new Promise((function(){return null}))):(n.success?o.push(a?f.a.SELF_SERVE_REVIEW_SRP_CONFIRM:Object(f.i)(i.params)):t.setState((Qe(r={},"".concat(e,"Errors"),n.errors),Qe(r,"".concat(e,"ActionErrors"),n.actionErrors),r)),null);var r}))}},{key:"dismissActionErrors",value:function(){this.setState({emailActionErrors:null,smsActionErrors:null,voiceActionErrors:null})}},{key:"render",value:function(){var e=this.props,t=e.history,n=e.match,r=e.smsVerifyOwnershipNumber,i=this.state,a=i.emailErrors,c=i.smsErrors,u=i.voiceErrors,s=i.emailActionErrors,f=i.smsActionErrors,p=i.voiceActionErrors,h=Object(y.b)("f:followup.verification.email"),m=Object(y.b)("f:followup.verification.sms"),b=Object(y.b)("f:followup.verification.phone"),d=1===[h,m,b].filter(Boolean).length?0:null;return o.a.createElement(D,{history:t,match:n},o.a.createElement("div",{className:Je.a.verifyContactDetails},o.a.createElement("h4",{className:Je.a.blurb},Object(l.a)("dealer.review.verification.form.blurb")),o.a.createElement(ae.a,{activeSection:d},h&&o.a.createElement(ae.b,{className:Je.a.item,headerClass:Je.a.heading,contentClass:Je.a.content,headerText:o.a.createElement("h4",null,o.a.createElement(be,{className:Je.a.icon})," ",Object(l.a)("dealer.review.verification.form.email"))},o.a.createElement(Ue,{onSubmit:this.onSubmitHandler("email"),onInput:this.onInput,errors:a,actionErrors:s,label:Object(l.a)("dealer.review.verification.form.label.email_address"),value:this.userEmail,name:"userEmail",type:"text",dismissError:this.dismissActionErrors})),m&&o.a.createElement(ae.b,{className:Je.a.item,headerClass:Je.a.heading,contentClass:Je.a.content,headerText:o.a.createElement("h4",null,o.a.createElement(we,{className:Je.a.icon})," ",Object(l.a)("dealer.review.verification.form.sms"))},o.a.createElement(Ue,{onSubmit:this.onSubmitHandler("sms"),onInput:this.onInput,errors:c,actionErrors:f,label:Object(l.a)("dealer.review.verification.form.label.phone"),value:this.userPhone,name:"userPhone",inputMode:"numeric",maxLength:"30",type:"tel",dismissError:this.dismissActionErrors}),o.a.createElement("div",{className:Je.a.smsDisclaimer},o.a.createElement("span",{dangerouslySetInnerHTML:{__html:Object(l.a)("dealer.review.verification.form.phone.tos_blurb",r)}}),o.a.createElement("br",null),o.a.createElement(R.a,null,o.a.createElement("a",{href:Object(y.a)("f:page.TermsOfUse").concat("#smsAnchor"),target:"_blank"},Object(l.a)("dealer.review.verification.form.phone.tos")))," | ",o.a.createElement(R.a,null,o.a.createElement("a",{href:Object(y.a)("f:page.privacyPolicy"),target:"_blank"},Object(l.a)("dealer.review.verification.form.phone.privacy"))))),b&&o.a.createElement(ae.b,{className:Je.a.item,headerClass:Je.a.heading,contentClass:Je.a.content,headerText:o.a.createElement("h4",null,o.a.createElement(xe,{className:Je.a.icon})," ",Object(l.a)("dealer.review.verification.form.phone"))},o.a.createElement(Ue,{onSubmit:this.onSubmitHandler("voice"),onInput:this.onInput,errors:u,actionErrors:p,label:Object(l.a)("dealer.review.verification.form.label.phone"),value:this.userPhone,name:"userPhone",inputMode:"numeric",maxLength:"30",type:"tel",dismissError:this.dismissActionErrors})))))}},{key:"userEmail",get:function(){return void 0===this.state.userEmail?this.props.userEmail:this.state.userEmail}},{key:"userPhone",get:function(){return void 0===this.state.userPhone?this.props.userPhone:this.state.userPhone}}]),n}(r.Component),rt={sendVerificationCodeAjax:function(e){return function(t){return re(e).then((function(n){var r;return t((r=e,{type:z.M,meta:r})),n}))}}},ot=Object(F.connect)((function(e){return{userEmail:Object(ie.a)(e),userPhone:Object(ie.b)(e),smsVerifyOwnershipNumber:e.get("smsVerifyOwnershipNumber")}}),rt)(nt),it=n(2307),at=n.n(it);function ct(e){return(ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ut(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function st(e,t,n){return t&&ut(e.prototype,t),n&&ut(e,n),e}function lt(e,t){return(lt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ft(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=yt(e);if(t){var o=yt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pt(this,n)}}function pt(e,t){return!t||"object"!==ct(t)&&"function"!=typeof t?ht(e):t}function ht(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yt(e){return(yt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var mt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&lt(e,t)}(n,e);var t=ft(n);function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=t.call(this,e)).onInput=r.onInput.bind(ht(r)),r.confirmCode=r.confirmCode.bind(ht(r)),r.dismissError=r.dismissError.bind(ht(r)),r.state={verificationCode:"",errors:[],actionErrors:[]},r}return st(n,null,[{key:"propTypes",get:function(){return{userPhone:a.a.string,userEmail:a.a.string,verificationMethod:a.a.string,match:a.a.shape({params:a.a.object}).isRequired,history:a.a.shape({push:a.a.func.isRequired}).isRequired,isOnSrp:a.a.bool.isRequired}}},{key:"defaultProps",get:function(){return{userPhone:null,userEmail:null,verificationMethod:null}}}]),st(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.userPhone,n=e.userEmail,r=e.verificationMethod,o=e.history,i=e.match,a=e.isOnSrp;(t||n)&&r||o.replace(a?f.a.SELF_SERVE_REVIEW_SRP_CONFIRM:Object(f.j)(i.params))}},{key:"onInput",value:function(e){var t,n,r,o=e.target;this.setState((t={},n=o.name,r=o.value,n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t))}},{key:"confirmCode",value:function(){var e=this,t=this.props,n=t.userPhone,r=t.userEmail,o=t.verificationMethod,i=this.state.verificationCode;return oe({userPhone:n,userEmail:r,verificationMethod:o,verificationCode:i}).then((function(t){return t.url?(s.e.getWindow().location.href=t.url,new Promise((function(){return null}))):(t.success?e.setState({errors:[]}):e.setState({errors:t.errors,actionErrors:t.actionErrors}),null)}))}},{key:"dismissError",value:function(){this.setState({errors:[],actionErrors:[]})}},{key:"render",value:function(){var e=this.props,t=e.history,n=e.match,r=this.state,i=r.errors,a=r.actionErrors,c=r.verificationCode;return o.a.createElement(D,{history:t,match:n},o.a.createElement("h4",{className:h()(at.a.confirmVerificationCode,at.a.blurb)},Object(l.a)("dealer.review.verification.form.verification_code.blurb")),o.a.createElement(Ue,{dismissError:this.dismissError,onSubmit:this.confirmCode,onInput:this.onInput,errors:i,actionErrors:a,label:Object(l.a)("dealer.review.verification.form.label.verification_code"),value:c,name:"verificationCode",inputMode:"numeric",maxLength:"6",type:"tel"}))}}]),n}(r.Component),bt=function(e){return e.getIn(["dealerReviewVerify","verificationMethod"])},dt=function(e){return e.getIn(["dealerReviewVerify","userPhone"])},vt=function(e){return e.getIn(["dealerReviewVerify","userEmail"])},Et=Object(F.connect)((function(e){return{userPhone:dt(e),userEmail:vt(e),verificationMethod:bt(e)}}))(mt);function gt(){return(gt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var St=function(e){var t=e.isOnSrp;return(o.a.createElement(r.Fragment,null,o.a.createElement(c.Route,{path:t?f.a.SELF_SERVE_REVIEW_SRP_ADD_REVIEW:f.a.SELF_SERVE_REVIEW_ADD_REVIEW,exact:!0,component:H}),o.a.createElement(c.Route,{path:t?f.a.SELF_SERVE_REVIEW_SRP_CONTACT_DETAILS:f.a.SELF_SERVE_REVIEW_CONTACT_DETAILS,exact:!0,render:function(e){return o.a.createElement(ot,gt({isOnSrp:t},e))}}),o.a.createElement(c.Route,{path:t?f.a.SELF_SERVE_REVIEW_SRP_CONFIRM:f.a.SELF_SERVE_REVIEW_CONFIRM,exact:!0,render:function(e){return o.a.createElement(Et,gt({isOnSrp:t},e))}})))};St.propTypes={isOnSrp:a.a.bool},St.defaultProps={isOnSrp:!1};t.default=St},1527:function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return P}));var r=n(0),o=n.n(r),i=n(1),a=n.n(i);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var o=y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?h(e):t}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(n,e);var t=f(n);function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=t.call(this,e)).state={activeSection:e.activeSection},r.toggleSection=r.toggleSection.bind(h(r)),r}return s(n,null,[{key:"propTypes",get:function(){return{activeSection:a.a.node,animationDuration:a.a.number,children:a.a.node}}},{key:"defaultProps",get:function(){return{activeSection:null,animationDuration:300,children:null}}}]),s(n,[{key:"toggleSection",value:function(e){this.state.activeSection!==e?this.setState({activeSection:e}):this.setState({activeSection:null})}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,r=t.animationDuration,i=this.state.activeSection,a=n.filter?n.filter(Boolean):n;return o.a.Children.map(a,(function(t,n){return o.a.cloneElement(t,{sectionId:n,isOpen:i===n,toggleSection:e.toggleSection,animationDuration:r})}))}}]),n}(r.Component),b=n(2304),d=n.n(b);function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t,n){return t&&E(e.prototype,t),n&&E(e,n),e}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=R(e);if(t){var o=R(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _(this,n)}}function _(e,t){return!t||"object"!==v(t)&&"function"!=typeof t?w(e):t}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var j=0,P=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(n,e);var t=O(n);function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=t.call(this,e)).id="accordion-item-".concat(j++),r.headerId="header-".concat(r.id),r.state={height:r.staticHeight()},r.onClick=r.onClick.bind(w(r)),r}return g(n,null,[{key:"propTypes",get:function(){return{animationDuration:a.a.number,children:a.a.node,className:a.a.string,contentClass:a.a.string,headerClass:a.a.string,headerText:a.a.node.isRequired,isOpen:a.a.bool,sectionId:a.a.number,toggleSection:a.a.func}}},{key:"defaultProps",get:function(){return{animationDuration:300,children:null,className:"",contentClass:"",headerClass:"",isOpen:!1,toggleSection:function(){return!0},sectionId:void 0}}}]),g(n,[{key:"componentDidUpdate",value:function(e){var t=this;this.props.isOpen!==e.isOpen&&(clearTimeout(this.animationId),this.content.hidden=!1,this.content.style.height="".concat(this.animationHeight(e),"px"),requestAnimationFrame((function(){requestAnimationFrame((function(){t.setState({height:t.animationHeight(t.props)})}))})),this.animationId=setTimeout((function(){t.setState({height:t.staticHeight()})}),this.props.animationDuration))}},{key:"onClick",value:function(){this.props.toggleSection(this.sectionId)}},{key:"staticHeight",value:function(){if(this.props.isOpen)return"auto"}},{key:"animationHeight",value:function(e){return e.isOpen?this.content&&this.content.scrollHeight:0}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,r=t.className,i=t.contentClass,a=t.headerClass,c=t.headerText,u=t.isOpen;return o.a.createElement("div",{className:r},o.a.createElement("button",{"aria-controls":this.id,"aria-expanded":u,className:a,id:this.headerId,onClick:this.onClick,type:"button"},c),o.a.createElement("div",{ref:function(t){return e.content=t},style:{height:this.state.height},className:d.a["cargurus-accordion__item__container"],id:this.id,"aria-labelledby":this.headerId,hidden:void 0===this.state.height},o.a.createElement("div",{className:i},n)))}},{key:"sectionId",get:function(){return void 0!==this.props.sectionId?this.props.sectionId:this.id}}]),n}(r.Component)},2302:function(e,t,n){e.exports={selfServiceReview:"_3mygr2",aboutReviews:"_2RgfuV",header:"_2BGoPq",aboutReviewsLink:"_5QMapc",questionSign:"_3RsHzF",privacyPolicyLink:"_5UTJU9"}},2303:function(e,t,n){e.exports={addReview:"_22VMmP",addReviewList:"ZsukU8",buttons:"_3Shhqg"}},2304:function(e,t,n){e.exports={"cargurus-accordion__item__container":"_3HirTW"}},2305:function(e,t,n){e.exports={selfServeReviewForm:"_3Agt3f",label:"tRqKQe",invalid:"_33pp5e",buttons:"_5aNU4w",errorMessage:"_2DBgfo",actionError:"_3JXo7e",close:"_4i3iDS"}},2306:function(e,t,n){e.exports={verifyContactDetails:"_61JJZo",blurb:"yNYvcH",icon:"_38sQn9",heading:"_4TFCAX",smsDisclaimer:"_4SiVvc",item:"eFy96c",content:"_4DtkVu"}},2307:function(e,t,n){e.exports={confirmVerificationCode:"_3Uq2jE",blurb:"_4sMjtL"}}}]);
//# sourceMappingURL=4943d7b651377e5af2dab561df4e3035.js.map